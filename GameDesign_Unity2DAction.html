<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">-->
<link rel="stylesheet" href="w3.css">

<title>Unity Action 2D Tutorials</title>

<style type="text/css">

body,html{
	margin-left: 0px; 
	margin-top: 0px; 
	margin-right: 0px; 
	margin-bottom: 0px;

	font-size: 16px;
	font-family: "Arial", "Gill Sans", "Gill Sans MT", "Myriad Pro", "DejaVu Sans Condensed", "Helvetica",  "sans-serif";
	color: #555;
}

html {
  scroll-behavior: smooth;
}

.centerTab{
	margin: auto;
}

.centerPage{
	display:block;
	/*width:90%;*/
	max-width: 900px;
	margin: 0 auto;
}

.centerPageMedium{
	margin: auto;
	width:90%;
	max-width: 900px;
}

.centerPageWide{
	margin: auto;
	width:90%;
	max-width: 900px;
}

.panelWideTextShorter{
	display:block;
	width:90%;
	max-width: 900px;
	margin: 0 auto;
}

.homework{
	color: #228822;
}


/* SECTION 1: WEEKLY MATERIALS */
	
	#SiteRow_top{
		/*background:#aaa;*/
		width: 90%;
		margin: auto;
	}
	
	/* logo and course title */
	#siteTop1{
		vertical-align: top;
	}
	
	/* quotes and syllabus */
	#siteTop2{
		vertical-align: top;
	}
	
	/* course description */
	#siteTop3{
		vertical-align: top;
	}
	
	/* weekly breakdown links */
	#siteTop4{
		background: #eee;
	}


/* SECTION 2: WEEKLY MATERIALS */
	
	/* blue-backed category header */
	.sectionHeader{
		background: #b7d7f5;
		/*text-align:center;*/
		margin-bottom: -10px;
	}
	
	.sectionHeader h1{
		text-align:center;
	}
	
	.sectionHeader div{
		margin-top: -10px;
	}

	
/* A WEEK UNIT */
	.week{
		background: #eee;
	}
	
	/* week title */
	.weekTitle h2{
		padding: 10px;
		text-align:center;
	}
	
	/* core week materials */
	#weekArea1{
		/*background:#ebe5d6;*/
	}
	
	/* code samples */
	.blockScript{
		border: 3px solid #66aa66;
  		border-color: #66aa66;
  		border-collapse: collapse;
		border-radius: 10px;
  		background: #efefef;
		padding: 10px;
		text-align:left;
		margin:auto;
		width: 90%;
	}
	
	.blockScript2{
		/*
		border: 3px solid #66aa66;
  		border-color: #66aa66;
  		border-collapse: collapse;
		border-radius: 10px;
		*/
  		background: #efefef;
		padding: 10px;
		text-align:left;
		height: 100%;
		/*min-width: 320px;*/
		/*
		margin:auto;
		width: 90%;
		*/
	}
	
	/* note call-outs */
	.blockNote{
		border: 3px solid #777;
  		border-color: #777;
  		border-collapse: collapse;
		background:#f1f1e1;
		padding: 10px;
	}
	
	#studentSamples{
		background:#eee;
		padding: 10px;
		text-align: center;
	}
	
	#sectionBooks{
		/*text-align:center;*/
	}

/* PROJECTS */
#section_Projects{
	background: #eee;
}

/* RESOURCES */
#section_Resources{
	background: #eee;
}

/* course description */
	#FAQ{
		vertical-align: top;
		background: #eee;
	}
	
	#Text_Column{
		width:80%;
		vertical-align: top;
		margin:auto;
	}
	
	#Text_Column_schedule{
		max-width:600px;
		min-width:200px;
		vertical-align: top;
		margin:auto;
		padding: 10px;
	}

/* COPYRIGHT */
#section_copyright{
	text-align:center;
	/* right elements move under left elements */
	/* clear: left; */
}

/* modifiying the w3 */
	.w3-half{
		padding-left: 7px;
		padding-right: 7px;
	}
	
	.AccordionArrow{
		float: right;
	}
	

/* FONTS: */
	#text_CourseTitle{
		font-size: 28px;
		line-height:1.25;
		/* use number instead of bold, in hundreds*/
		font-weight: 600;
		color: #555;
		text-align:left;
	}
	
	h1{
		font-size: 30px;
		font-weight: 600;
		color: #444;
		/*text-align:center;*/
		margin-top: 10px;
	}
	
	h2{
		font-size: 22px;
		font-weight: 600;
		color: #444;
		/*text-align:left;*/
		padding-top: 15px;
		padding-bottom: 0px;
		line-height:1;
	}
	
	/*
	.sectionHeader +h2 {
		text-align:center;
		margin-bottom:0;
		padding-bottom:15px;
	}
	*/
	
	/* change paragraphs after h2: */
	h2 +p{
		margin-top: -10px;
	}
	
	h3{
		font-size: 19px;
		font-weight: 500;
		color: #444;
		text-align:left;
		padding-top: 15px;
		padding-bottom: 0px;
	}
	
	h3 +p{
		margin-top: -10px;
	}
	
	/*
	h3 +ul{
		margin-top: -10px;
	}
	*/
	ul{
		margin-top: -10px;
	}

	#text_label{
		font-size: 14px;
		color: #444;
		text-align: center;
		margin: auto;
		margin-top: 10px;
	}
	
	.topic{
		color: purple;
		font-weight: 500;
	}
	
/* RULE: pseudoelements change all tags / linked text */
	a{
		color:#1e6669;
		font-weight: 600;
		text-decoration: none;
	}
	
	a:active{
		color:#1088bb;
		font-weight: 600;
	}
	
	/*
	a:visited{
		color:#7700aa;
	}
	*/
	
	a:hover{
		color:#7700aa;
		font-weight: 600;
		text-decoration: underline;
	}
	
	a:focus {
		outline: 3px solid blue;
		font-weight: 600; 
	}
	
	input:focus, textarea:focus, button:focus {
		outline: 3px solid blue;
	}
	
	a.myButton{
		background-color:#1e6669;
		padding: 8px;
		border: #000 solid 1px;
		display: inline-block;
		border-radius:5px;
		font-size:18px;
		color:#fff;
		text-transform:uppercase;
	}
	
	a.myButton:hover{
		background-color:#fff;
		color:#1e6669;
		text-decoration: none;
	}
	
	.accordionAllButton{
		background-color:#1e6669;
		padding: 8px;
		border: #000 solid 1px;
		display: inline-block;
		border-radius:5px;
		font-size:14px;
		color:#fff;
		text-transform:uppercase;
		margin-top: 15px;
		margin-bottom: 15px;
	}
	
	.accordionAllButton:hover {  
		background-color:#fff;
		color:#1e6669;
		text-decoration: none;
		cursor: pointer;
	}
	
	.video{
		max-width:100%; 
		max-height:100%;
		margin-bottom: 10px;
	}
	
	.table_callout {
		border: 3px solid #fff;
		border-color: #fff;
		/*border-collapse: collapse;
		background-color: #efefef;*/
		border-radius: 10px;
	}	
	
	.table_callout td, .table_callout th {
    	border: 1px solid #fff;
	}
	
	
	/*	
	.toggleBox{
		background-image: url("IntroMaya/AccordionArrow_up.png");
		background-position: right;
		width:100%;
	}	
	
	.toggleBox.open{
		background-image: url("IntroMaya/AccordionArrow_down_outline.png");
	}
	*/
	
	li::marker {
  		/*color: #4f91cd;
		Darker, for better contrast:
		*/
		color: #18467c;
	}
	
	.UpArrow:hover{
    	filter: invert(1) drop-shadow(1px 1px 1px #555);
	}
</style>

<!-- VIDEO LAZY LOADING: CSS -->
<style>
img {
	height: auto;
	max-width: 100%;
}

iframe {
	aspect-ratio: 16 / 9;
}

.thirdVideo{
	width:200px;
}

/* lazy loading: overlay play-SVG */
.img-overlay-wrap {
  position: relative;
  display: inline-block; /* <= shrinks container to image size */
  transition: transform 150ms ease-in-out;
}

.img-overlay-wrap img { /* <= optional, for responsiveness */
   display: block;
   max-width: 100%;
   height: auto;
}

.img-overlay-wrap svg {
  position: absolute;
  /*width:100%;*/
  width:50%;
  height:auto;
  top: 0;
  left: 0;
  margin:auto;
}

.img-overlay-wrap path:hover {
  /*transform: rotate( 15deg );*/
  /*width:60%;*/
  fill:white;
}

.w3-half1 {		padding-left: 7px;
		padding-right: 7px;
}

</style>

<!-- grey accordion: active/open header and backgrounds -->
<style>
.panel { 
	max-width: 900px;
	width: 90%;
	padding: 0 18px;
	background-color: #eee;  
	overflow: hidden;  
	transition: max-height 0.2s ease-out;
	text-align:left;
	margin: auto;
}
/*.panel { padding: 0 18px;  background-color: #eee;  max-height: 0; overflow: hidden;  transition: max-height 0.2s ease-out;}*/

.panelBG1{
	background:#ebe5d6;
}

/* green */
.panelBG_green{
	background:#d0e2d0;
	/*d9ebd9*/
}


/* dark blue */
.panelBG_bluedark{
	background:#d4e5e5;
}

/* blue */
.panelBG_blue{
	background:#d7ebef;
	/* e9e9fa */
}

/* pale green blue */
.panelBG_bluepale{
	background:#d6ebea;
	/* edf7f7 */
}

/* purple */
.panelBG_purple{
	background:#e9e9fa;
}

/* purple dark */
.panelBG_purpledark{
	background:#dbdbf8;
}

/* pink */
.panelBG_pink{
	background:#ede3e4;
	/*ead6d8*/
}



.accordion{
	/*margin: auto; */
	width:90%; 
	max-width: 900px;
	
	margin-top: 15px;
	text-align: left;
	
	display:block;
	margin: 0 auto;
}


</style>


<style>
.accordion1 {  background-color: #f3f2de; color: #000; cursor: pointer; padding: 18px;  width: 100%;
  border: none; text-align: left; outline: none; font-size: 15px; transition: 0.4s; }
.active, .accordion1:hover {  background-color: #deeee9; }
.accordion1:after {  content: '\002B';  color: #deeee9;  font-weight: bold;  float: right;  margin-left: 5px;}
.active:after {  content: "\2212"; }
.panel {  padding: 0 18px;  background-color: #deeee9;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
</style>

<style>
.accordion2 {  background-color: #f3e7e7;  color: #444;  cursor: pointer;  padding: 18px;  width: 100%;  border: none;  text-align: left;  outline: none;  font-size: 15px;  transition: 0.4s;}
.active, .accordion2:hover {  background-color: #deeee9;}
.accordion2:after {  content: '\002B';  color: #f3f2de;  font-weight: bold;  float: right;  margin-left: 5px;}
.active:after {  content: "\2212";}
.panel {  padding: 0 18px;  background-color: #f3f2de;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
</style>

<style>
.accordion3 {  background-color: #e2f3e1; color: #444; cursor: pointer; padding: 18px;  width: 100%;
  border: none; text-align: left; outline: none; font-size: 15px; transition: 0.4s; }
.active, .accordion3:hover {  background-color: #f3f2de; }
.accordion3:after {  content: '\002B';  color: #deeee9;  font-weight: bold;  float: right;  margin-left: 5px;}
.active:after {  content: "\2212"; }
.panel {  padding: 0 18px;  background-color: #deeee9;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
</style>

<style>
.accordion4 {  background-color: #eaf4f6;  color: #444;  cursor: pointer;  padding: 18px;  width: 100%;  border: none;  text-align: left;  outline: none;  font-size: 15px;  transition: 0.4s;}
.active, .accordion4:hover {  background-color: #f3f2de;}
.accordion4:after {  content: '\002B';  color: #f3f2de;  font-weight: bold;  float: right;  margin-left: 5px;}
.active:after {  content: "\2212";}
.panel {  padding: 0 18px;  background-color: #f3f2de;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
</style>


<style>
.accordion5 {  background-color: #eee;  color: #444;  cursor: pointer;  padding: 18px;  width: 100%;  border: none;  text-align: left;  outline: none;  font-size: 15px;  transition: 0.4s;}
.active, .accordion5:hover {  background-color: #eee;}
.accordion5:after {  content: '\002B';  color: #eee;  font-weight: bold;  float: right;  margin-left: 5px;}
.active:after {  content: "\2212";}
.panel {  padding: 0 18px;  background-color: #eee;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
.panel1 {padding: 0 18px;  background-color: #deeee9;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
.panel1 {padding: 0 18px;  background-color: #f3f2de;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
.panel1 {padding: 0 18px;  background-color: #eee;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
.panel2 {padding: 0 18px;  background-color: #deeee9;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
.panel2 {padding: 0 18px;  background-color: #f3f2de;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
.panel2 {padding: 0 18px;  background-color: #deeee9;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
.panel2 {padding: 0 18px;  background-color: #f3f2de;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
.panel2 {padding: 0 18px;  background-color: #eee;  max-height: 0;  overflow: hidden;  transition: max-height 0.2s ease-out;}
</style>

</head>

<body text=#222222 link=#1e6669 vlink=#238b8f alink=#1088bb>

<center>
<table width=800 cellpadding=10 border=0><tr>
<td valign=top><font face=arial>
<a name=theTop>&nbsp;</a> 
<a href="GameDesign_Unity.html"><img src="gamedesign/UnityLogo60.png" alt="" align=right></a><font size=+2><b>UNITY 2D Action Tutorial: Platformer and Top-Down Gameplay</b></font><br>
This tutorial covers 22 modules for Unity Action 2D Games: <b><font color=purple>Platformers</font> </b>and<b><font color=#dc0bdc> Top-Down / Isometric</font></b>. This includes <b>Player and Vehicle Movement</b>, <b>Battling</b>, helpful and enemy <b>NPCs</b>, Interactive Environments and <b>Hazards</b>, <b>Inventory</b> and <b>Pause</b> menus, <b>Audio</b> and <b>Game Feel</b>.<br>
Peruse each section menu to get inspired! <a href="#explain">Read about how to work in teams</a>! You are not expected to use all of these tutorials in your game: pick and choose the ones that work for your design. Most of these scripts can easily be adapted for 3D games.</font></td></tr></table>

<br>

<table width=800 border=0><tr><td valign=top>

<table width=400 cellpadding=5 bgcolor=#f3e7e7>
<tr><td bgcolor=#f7d3d3 align=center><font face="arial"><font color=purple><b>PART 1:</b></font> <a href="#01"><b>BASIC PLATFORMER SET-UP</b></a></font></td></tr>
<tr>
  <td bgcolor=#f3f2de><font face="arial" color=#333355>
<font color=purple><b>[1A]:</b></font> <b>
<a href="#01a">Environment</a>: Tilemapping vs Parallax </b>
</font></td>
</tr><tr>
<td bgcolor=#f3e7e7><font face="arial"><font color=purple><b>[1B]:</b></font> 
<a href="#01b"><b>Platformer Player</b></a><b> Movement (with gravity)</b></font></td>
</tr><tr>
<td bgcolor=#f3f2de><font face="arial"><font color=#dc0bdc><b>[1C]:</b></font> 
<a href="#01c"><b>Top-Down Player</b></a><b> Move / Setting</b></font></td>
</tr><tr>
<td bgcolor=#f3e7e7><font face="arial"><font color=purple><b>[1D]:</b></font> <b><a href="#01d">Camera Follow</a>: LERP</b></font></td>
</tr><tr>
<td bgcolor=#f3f2de><font face="arial"><font color=purple><b>[1E]:</b></font> 
<b><a href="#01e">GameHandler</a>: Player State, Score/Health UI</b></font></td>
</tr><tr>
<td bgcolor=#f3e7e7><font face="arial"><font color=purple><b>[1F]:</b></font> 
<b><a href="#01f">Battle</a>: Melee, Shoot, Projectiles, Defense </b></font></td></tr>
<tr>
  <td bgcolor=#f3f2de><font face="arial"><font color=purple><b>[1G]:</b></font> <b>Frame Scenes: 
<a href="#01g">MainMenu</a>, 
Win / Lose </b></font></td>
</tr><tr>
<td bgcolor=#f3e7e7><font face="arial"><font color=purple><b>[1H]:</b></font> 
    <b>Menus: <a href="#01h">Pause</a>,  
    <a href="#01h">Shop</a>, and 
    <a href="#01h">MiniMap</a></b>


</font></td>
</tr><tr>
<td bgcolor=#f3f2de><font face="arial"><font color=purple><b>[1I]:</b></font> <b>Level Changes: Switches and <a href="#01i">Doors</a></b><a href="#01h"></a> </font></td>
</tr><tr>
<td bgcolor=#f3e7e7><font face="arial">
<font color=purple><b>[1J]:</b></font> <b>Custom Controller Inputs, and Multi-Player: <a href="#01j">Local Inputs</a> vs Netcode</b> </b>
</font></td>
</tr><tr>
<td bgcolor=#f3f2de><font face="arial"><font color=purple><b>[1k]:</b></font> <b>Read / Write to a <a href="#01k">JSON file</a></b> </font></td>
</tr></table>

</td><td>

<table width=400 cellpadding=5 bgcolor=#eaf4f6>
<tr><td bgcolor=#ddeeff align=center><font face="arial">
<font color=purple><b>PART 2:</b></font> 
<a href="#02"><b>ADVANCED SETTINGS</b></a></font></td>
</tr><tr>
<td bgcolor=#e2f3e1><font face="arial">
<font color=purple><b>[2A]:</b></font> 
<a href="#02a"><b>Pickups</b></a><b> / <a href="#02a">Inventory</a>, boosts, keys, </b><b>random</b></font></td>
</tr><tr>
<td bgcolor=#eaf4f6><font face="arial">
<font color=purple><b>[2B]:</b></font> <b><a href="#02b">Respawn</a>,  Checkpoints, Lives, <font color=#dc0bdc>Map Doors</font></b>
</font></td></tr>
<tr>
  <td bgcolor=#e2f3e1><font face="arial"><font color=#dc0bdc><b>[2C]:</b></font><b> <a href="#02c">Interactive</a> Environments and <a href="#02c">Hazards</a></b></font></td>
</tr><tr>
<td bgcolor=#eaf4f6><font face="arial"><font color=purple><b>[2D]:</b></font> <b>NPC 
<a href="#02d">Enemy</a>: 
Melee, Shooting, Patrol </b></font></td>
</tr><tr>
<td bgcolor=#e2f3e1><font face="arial">
<font color=purple><b>[2E]:</b></font> <b>NPC 
<a href="#02e">Friendly</a>: Dialogue, Flocking</b>
</font></td></tr>
<tr>
  <td bgcolor=#eaf4f6><font face="arial">
<font color=#dc0bdc><b>[2F]:</b></font> <b>More Moves: <a href="#02f">Teleport</a>, Hookshot, Vehicle Motion, Flying, Dash, webGL button controller</b></font></td>
</tr><tr>
<td bgcolor=#e2f3e1><font face="arial">
<font color=purple><b>[2G]:</b></font> 
<b><a href="#02g">Game Feel</a> (Feedback VFX / SFX</b>) </font></td>
</tr><tr>
<td bgcolor=#eaf4f6><font face="arial">
<font color=purple><b>[2H]:</b></font> <b>Adding a <a href="#02h">Timer</a> or a Recharge system</b> </font></td>
</tr><tr>
<td bgcolor=#e2f3e1><font face="arial">
<font color=purple><b>[2I]:</b></font> <b>Adding 
<a href="#02i">Drag and Drop</a></b><b> and a Notepad</b> </font></td>
</tr>
<tr>
<td bgcolor=#eaf4f6><font face="arial">
<font color=purple><b>[2J]:</b></font> <b>Adding Music and <a href="#02j">Audio Events</a></b><b>&nbsp;</b></font></td>
</tr>
<tr>
<td bgcolor=#e2f3e1><font face="arial">
<font color=purple><b>[2K]:</b></font> <b>Intro Animation (add an <a href="#02k">Opening Comic</a>)</b></font></td>
</tr>
</table>

</td></tr>
</table>

<br>
<a name="explain">&nbsp;</a>
<br>

<table width=850 cellpadding=10 border=0><tr>
  <td>
<button class="accordion2"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>
<font face="arial">
<b>HOW TO USE THESE TUTORIALS and WORK IN TEAMS</b> &nbsp; &nbsp; &nbsp; &nbsp; <em><b>[Click Here To Expand]</b></em>
</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr><td valign=top><center>
  <font face="arial"><font size=+2><b>HOW TO NAVIGATE THESE TUTORIALS</b></font><br>
  &nbsp; <a href="#explain1">Using These Tutorials</a> &nbsp; | &nbsp; <a href="#explain2">Organizing a  Team Project</a> &nbsp; | &nbsp;<a href="#explain3">Starting your Project</a><br>
  </font>
</center>
  <font face=arial>
 This site contains many tutorials for a wide range of features in a 2D Platformer, Sidescroller, or Isometric game.
<br>
Each tutorial contains the relevant steps and scripts for setting up a feature: making GameObjects, adding Physics2D and script Components, adding art and audio, etc.<br>
<br>
<b>To find the feature you want to implement on this page</b>, read through the index list at the very top of tutorial sections, click the relevant link, open the rolldown, and navigate within that section. 
For example, if you want to implement <b><a href="#01i">Doors</a></b> to move between levels, go to section <font color=purple><b>[1I]</b></font>.<br>
</font>


<br>
<font face=arial>Most</font><font face=arial> tutorial sections include multiple options or features. The top  includes an index of that section for easy navigation, as you can see, above. To return to the <em>section</em> top, scroll up or click the purple triangle <font face=arial><a href="#explain"><img src="gamedesign/triangle_purple.png" alt=""></a></font>. <br>
To return to the <em>main index</em> at the top of this entire page, click the white arrow at a section top <a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>.<br><br><br>
</font>

<font face="arial"><font face=arial><a href="#explain"><img src="gamedesign/triangle_purple.png" alt=""></a> <b><a name="explain1">&nbsp;</a></b></font><font size=+2><b>HOW TO USE THESE TUTORIALS</b></font></font>

<font face=arial> 
<br>To use a tutorial follow its steps: read every step and implement them in the order presented. 
<br>Missing any part of a Unity tutorial can result in a feature not working as intended. 
<br>
The good news is, any problem or error can be fixed, so dive in, try it out, and ask for help if you get stuck!
<br>
<br>
If you want a feature that is not yet explained on this site, start by going to <b>YouTube</b> to search for a tutorial. <br>
Type &quot;<b>Unity tutorial</b>&quot; and then the feature you are seeking, like &quot;Unity tutorial platformer wall-jumping.&quot; 
Watch a few tutorials on the subject to get a sense of which solution you might want to try.<br>
<b>If you are still stuck, email your teacher</b>: <a href="mailto:JasonWiserArt@gmail.com">JasonWiserArt@gmail.com</a>.<br>
<b><em>NOTE:</em></b> If a tutorial listed here is based on a YouTube tutorial, there is  a &quot;source&quot; link at the top which can be clicked to view the original video.<br>
<br>
Your game will need many of the  tutorials and scripts on this page, <em>but not all of them</em>.<br>
Add each mechanic <em><b>thoughtfully</b></em>: follow all the steps described, and only add the scripts needed for the feature you are implementing. Some scripts, like the GameHandler, will need to be updated

when adding other scripts. This is because the GameHandler is meant to hold the Player State, and other scripts may want to refer to or update that State.<br>
</font>
<center>
<font face="arial"><i>ScriptName.cs script:</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial>
 Lighter blocks like this one contain the code for each script in this tutorial. 
<br><br>
The <b>Class name</b> should always match the <b>script file name</b>. <br>
Create a new C# Script in Unity named for the provided script, DoubleClick to open in your Script Editor, and then copy and paste the content of these light gray blocks into the new  script to replace the default content. Save and apply to a GameObject as instructed to playtest the feature in Unity.<br>
<br>
Don't be afrad to modify these scripts to get functionality specific to your intended game mechanics; 
<br>
the original is always waiting here for you if you want to change back!</font></td>
</tr></table>
</center>

<font face="arial">
<br><br>
Some scripts in these tutorials depend on other scripts here to function. 
<br>
Some directly reference another script. For example, the player melee script directly references the enemy damage script.
Adding the first without the second will create an error in Unity (that is easy to fix).<br>
Other scripts depend on the specific implementation of other features to function. The enemy knockback, for example, depends on the player movement script to NOT zero-out the velocity. The player movement scripts provided here work well with the enemy knockback.<br>
<br><br><br>

<a href="#explain"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="explain2">&nbsp;</a>
<font size=+2><b>HOW TO DIVIDE UP TASKS FOR A TEAM PROJECT</b></font>
<br>
Making an entire multi-level game all on your own is daunting. Game Development is a team sport!<br>
<br>
<b><font color=#9f3e06>1. BACKLOG</font> (Concepts from Agile development):</b><br>
Create  a <b>Backlog</b> (<b>prioritized list</b>) of all the functionlity you want to see in your game.<br>
Make a  <b>shared document</b>, like a Google Doc, so ever team member has easy access to view and update it. <br>
Include  in this list all intended mechanics: <b>player verbs</b> (what the player can do to the game), <b>game verbs</b> (what the game can do to the player), <b>intended levels</b>,  <b>player</b> and <b>NPC</b> characters, <b>pickups</b>, <b>power-ups</b>, environment <b>hazards</b>, <b>doors</b>,  <b>HUD</b> content and other elements you want included.<br><br>
<b>Prioritize this list</b> based on what will be most important to the user experience (&quot;User Stories&quot;): 
<br>
<b>(A) = Critical:</b> The most vital functionality for your core concept,  to test a working level in your game. <br>
<b>(B) = Important: </b>Necessary for the game to be complete, like building multiple levels with a rising difficulty curve and populating them with revised art, audio, and Game Feel, but implemented after all of <b>(A)</b> is done.<br>
<b>(C) = Hopefulls:</b> Features you hope to include, after (B) is all complete. Cool, but the game works without them.<br>
<b>(D) = No Way:</b> Fun to imagine, but no plan to implement in your alloted time. Honor your edge ideas here!<br>
After each item, list art and audio asset needs (in parenthesis).

<br><br><br>
<b><font color=#9f3e06>2. WEEKLY PLANS</font>: </b> <br>
Each week (&quot;Sprint&quot;), talk with your team about which high priority elements you will complete that week, and document below your Backlog what each person has agreed to take on. Sometimes not everything will get done, and that is OK-- many features can take longer than we expect. <b>Make a good faith effort to complete your tasks</b>, <b>be in daily communication</b> with your team about your progress, and <b>alert the team if you get stuck</b>. 

<br><br>
<b>Not sure what you could or should be doing? </b><br>
Consult your team Backlog for available tasks and <b>talk with your teammates</b> to be sure no one else is currently working on the task you are considering! 


<br><br><br>
<b><font color=#9f3e06>3. PLACEHOLDER ART AND SCRATCH AUDIO</font>:</b><br>
Use <b>placeholder art</b> and <b>scratch audio</b> for all features to test functionality as soon as possible, and then replace the art as better PNGs and audio are made. Work as quickly as possible to add features and test them, so you have time for both design and functionality iteration! 

<br><br><br>
<b><font color=#9f3e06>4. GITHUB: ONLY ONE USER PER ASSET AT A TIME</font>:</b><br>
Remember, <b>MANY</b> people can work on the same Unity <em><b>GAME</b></em> at a time, but any collaboration in Unity means <b>only ONE person can  update a specific ASSET at a time</b>. 

<br>
<b>If two creators change the same asset, <em>especially a Unity Scene</em>, one craetor will need to discard their work</b>, pull the other person's pushed work in GitHub, and re-add their changes to the udpated file. <br>
Please communicate with each other about who is working on what asset at what time! 

<br><br><br>
<b><font color=#9f3e06>5. CREATE PREFABS TO REDUCE MERGE CONFLICTS</font>:</b><br>
A great way to work together around the Unity Scene exclusivity problem is to <b>make heavy use of Prefabs</b>. 
<br>
For example, if the Pause Menu is in all scenes as a Prefab, Creator1 can work on a Scene and Creator2 can work on the PauseMenu Prefab in the Prefabs folder without creating a merge conflict in GitHub.
<br>
The player, all enemies and pickups, friendly NPCs, etc should be Prefabs!<br>

<br>
This also helps with feature distribution across  Scenes. <b>Make Prefabs</b> for all duplicating elements, like a combo Canvas and GameHandler for all gameplay Scenes!<br>
<br>
<br><br>
<font face=arial><a href="#explain"><img src="gamedesign/triangle_purple.png" alt=""></a> <b><a name="explain3">&nbsp;</a></b></font><font size=+2><b>GETTING YOUR PROJECT STARTED</b></font><br>
<b><font color=#397a1d>1. CREATE A <a href="http://madwomb.com/tutorials/GameDesign_UnityGithub.html" taregt=git><b>GITHUB</b></a> REPOSITORY with the default Unity .GitIgnore.</font></b>
<br>
<img src="gamedesign/bullet.png" alt=""> On Unity.com <b>replace</b> the default .GitIgnore with this correct Unity <a href="gamedesign/GitIgnore_UnityCorrectPaths.zip" target=gitig1><b>GitIgnore</b></a>.<br>
<img src="gamedesign/bullet.png" alt=""> <b>Clone</b> this repo into a folder on the desktop. Never chaneg the name and location after cloning.<br>
<img src="gamedesign/bullet.png" alt=""> Open <b>Unity Hub</b> and create a new <b>Unity 2D project</b> in this repository folder.<br><br>
<b><font color=#397a1d>2. MAKE ASSET FOLDERS</font>:</b><br>In the Unity Project panel Assets folder, RightClick to create new folders for <b>Media</b>, <b>Scripts</b>, and <b>Prefabs</b>.<br>
<em><b>NOTE:</b></em> these folders will only get shared over GitHub if they contain files.<br><br><br>
<b><font color=#397a1d>3. NOTES ON MAKE SPRITE PNGs</font>:</b><br>
<b>a) SIZE:</b> All art for a 2D game should be created and imported in the intended final size.<br>
<img src="gamedesign/bullet.png" alt=""> For interactive content like character or effect spritesheets use <b>power-of-two-square</b>: <b>256x256</b>, <b>512x512</b>, <b>104x1024</b>, etc, always <b>72ppi</b>.<br>
<img src="gamedesign/bullet.png" alt=""> Images meant to fill a static background can be <b>1280 x 720, 72ppi</b> to fit a 16:9 ratio screen (like MainMenu splash screens), but environment <b>Tilemaps</b> and <b>Spritesheets</b> must be <b>power-of-two-square</b>.<br>
<img src="gamedesign/bullet.png" alt=""> Create a test image of the character and background to see the sizing in game before comitting lots of time to art production!<br><br>
<b>b) SPRITESHEETS: </b>Tilemap backgrounds and animations should be imported as Spritesheets.<br>
Your art can use any desired style. Please see this tutorial for working with <a href="http://madwomb.com/tutorials/GameDesign_Unity2DTilemap.html" taregt=pixels><b>pixel art</b></a> and <a href="http://madwomb.com/tutorials/GameDesign_Unity2DTilemap.html" taregt=pixels><b>spritesheets</b></a>.<br>
<br>
<b>c) TRANSFORMS:</b> Every environment or character Sprite added to a 2D Scene should have <b>Position Z = 0</b>. <br>
The only Scene object that should have a Position Z other than 0 is the <b>Main Camera</b>, which should be <b>-10</b>. <br><br>
<b>d) ORDER IN LAYER:</b> To choose which Sprites display in front of others, set higher <b>Order In Layer</b> values 
<br>(try Character = 100, platforms = 90, enemies and pickups = 95).<br><br>
<b>e) PARENT INTERACTIVE SPRITES TO EMPTY GAME OBJECTS: </b>All interactive elements, like the Player, Enemy NPCs, Doors, Pickups, etc, should distinguish between functionality and graphics by putting all Physics and Script Components onto an Empty Game Object, and parent the Sprite art to that EmptyGO. This allows any animation on the Sprite to work independantly from the Physics functionality on the object.<br><br>
<b><em>FOR EXAMPLE:</em></b>The Player will be an EmptyGO named &quot;Player&quot; with Components for Physics2D &gt; Rigidbody2D and BoxCollider2D, and all scripts for player Movement, Jump, etc.<br>
Art will be a child called &quot;player_art&quot;, with the Animator component that holds the animation state machine.<br>
The Player scripts  access this Animator on the child  using gameObject.GetComponentInChildren&lt;Animator&gt;();<br><br><br>
<b><font color=#397a1d>4. PHYSICS 2D</font>: </b><br>
All Physics in a 2D game must use  <b>Physics2D</b> options: <b>Rigidbody2D</b> and <b>BoxCollider2D</b> or <b>CircleCollider2D</b> on all moving elements, <b>TilemapCollider2D</b> and <b>CompositeCollider2D</b> on Tilemaps.<br>
Be sure all code references to Rigidbody and Colliders are <strong>2D</strong>: gameObject.GetComponent&lt;Rigidbody2D&gt;();<br><br></font></td></tr></table>
</div></td>
</tr></table>

<br>
<a name="01a">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr>
<td>
<button class="accordion1">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1A]:</b> <b>PLATFORMER ENVIRONMENT</b>
</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font size=+2 face="arial"><font color=purple><b><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>[1A]:</b></font> <b>PLATFORMER ENVIRONMENT:</b></font>
<br>
<font face="arial">
1. <a href="#01a1">Tilemapping</a> &nbsp; | &nbsp; 
2. <a href="#01a2">Static Sprites</a> &nbsp; | &nbsp; 
3. <a href="#01a3">Tiling Sprites</a> &nbsp; | &nbsp; 
4. <a href="#01a4">Parallax</a>
<br>
5. <a href="#01a5">Foreground Sprites Leaves Blowing</a></font></center>


<font face=arial>
<br>
<b>2D Sprite Notes: There are multiple ways to organize your backgrounds.</b>
<br>
Start by considering the <b>collide-able</b> objects and the <b>non-collidable</b> objects.

<br><br>In a side-oriented <b>PLATFORMER</b>:<br>
<img src="gamedesign/bullet.png" alt=""> The collide-able objects are surfaces the Player can jump on and the walls that stop their progress. <br>
<img src="gamedesign/bullet.png" alt=""> These are usually best made with a Timemap spritesheet. Tilemap layers can also be used for hazards like damage-spikes or lava.<br> 
<img src="gamedesign/bullet.png" alt=""> The non-collideable objects are images in the background and the foreground that the player moves past, which can be made with more tilemap layers OR with large individual sprites. <br><br>
In a <b>TOP-DOWN</b> game:<br>
<img src="gamedesign/bullet.png" alt=""> The collide-able objects are the shapes that block player movement. 
<br>
<img src="gamedesign/bullet.png" alt=""> Non-collideable spaces are the background the player walks on and foreground objects they walk beneath. 
<br>
<img src="gamedesign/bullet.png" alt=""> These are all best made with Timemap Spritesheets painted into Unity Tilemap layers. 
<br>
<img src="gamedesign/bullet.png" alt=""> Additional Tilemap layers can be used for hazards like damage-spikes.<br><br>
<b>ORDER IN LAYER:</b><br>
Set all  Scene content to <b>Z-Position = 0, </b>except the <b>Camera</b>, with should be <b>Z = -10</b>.<br>
The display order (what is in front, what is in back) is controlled by the <b>Order In Layer</b> setting in the Inspector (look under SpriteRenderer for each image). The higher numbers appear in front (set Player = 100).<br>
<br>
<b>IMAGE SIZES: PNGs, POWER-OF-TWO SQUARE, 72ppi:</b><br>
All art imported into Unity should be PNGs sized power-of-two-square and 72ppi.
<br>
An <b>animated pixel art  character sheet</b>, for example, will typically be <b>256x256</b>, with each pose frame set to fit in a <b>64x64</b> square, with consistent feet positions. This allows for 16 animation positions (4x4 grid).<br> 
For <b>art drawn with anti-aliasing</b>, try <b>1024x1024</b> with each frame set to <b>256x256</b>  (also a 4x4 grid).

<br><br>
<b>SIZE UNIFORMITY:</b><br>
<b>Spritesheets for Tilemaps and character animation</b> must have <b>uniform content</b> (all images fitting into rectangles of the same size) so they can be <b>sliced uniformly in Unity by cellcount or cell size</b>.<br>
For <b>random background sprites</b>, the images can be <b>varied sizes</b>, and <b>sliced using the automatic</b> setting (but the images still need to fit into a non-overlapping grid PNG that is power-of-two square). <br>
<b>Individual sprites</b> can also be used, and should be power-of-two square PNGs, with as little qsted space around them as possible.</font><br>
<br><br>
<font face=arial>
<a href="#01a"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01a1">&nbsp;</a><font size=+2><b>OPTION 1: Tilemapping (grid layers of small images):</b></font><br>
<a href="gamedesign/Unity2D/JasonWiser_TilemapSwamp.png" target=pixelArt2><img src="gamedesign/Unity2D/JasonWiser_TilemapSwamp.png" width=150 align=right></a>Follow this <a href="http://madwomb.com/tutorials/GameDesign_Unity2DTilemap.html" target=tilemapping><b>Tilemapping Tutorial</b></a> to make a long <b>Platformer</b>  using layers of Tilemaps.
<br>Each layer is "painted" on the Unity Grid out of 16x16 squares. 
<br>
Make these layers (each one with a progresively higher Order in Layer to display in front of the previous layers):<br>
&nbsp; &nbsp; <b>Background 1</b>: Far background for sky or back wall.<br>
&nbsp; &nbsp; <b>Background 2</b> Hills or architecture that are non-collide-able in the background.<br>
&nbsp; &nbsp; <b>Collider</b> The layer for platforms, walls, and ground that will stop/support the player movement.<br> 
&nbsp; &nbsp; <b>Foreground</b> layer for thin content for the player to pass behind (trees, grass, vines, pillars, etc).

<br><br>
<a href="gamedesign/Unity2D/tilemapping_process08.png" target=new3><img src="gamedesign/Unity2D/tilemapping_process08thumb.png" alt="" align=right></a>

<b>Tilemap Collision Note:</b><br>
The collide-able Tilemap layer or layers usually require 3 Components:<br> 
&nbsp; &nbsp; <b>Tilemap Collider</b> with &quot;<b>Used by Composite</b>&quot; enabled.<b><br> 
&nbsp; &nbsp; Rigidbody2D</b> with Body Type set to &quot;<b>Static</b>&quot;.<br> 
&nbsp; &nbsp; <b>Composite Collider</b> with <b>Geometry type</b> set from Outlines to <b>Polygons</b> (to prevent  player  jumping inside).<br>
This arrangement is good for the player to collide with <em>all</em> sides of each object.<br><br>
Alternatively, consider a 2-component system, to allow players to jump up <em>through</em> platforms, to land on top:<br> 
&nbsp; &nbsp; <b>Tilemap Collider</b> with &quot;Used by Effector&quot; enabled.<br> 
&nbsp; &nbsp; <b>Platform Effector 2D</b>. Under "One Way" enable "Use One Way" and set &quot;Surface Arc&quot; to 180 degrees.<br>
<br>
Tilemapping is great for <b>Platformers</b> and Top-down <b>Isometric</b> exploration games. The art style is usually pixel-based, as that tends to be easier to manage in 16x16 squares, but other options may be explored.<br><br><br>


<font face=arial><font face=arial><a href="#01a"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="01a2">&nbsp;</a></font><font size=+2><b>OPTION 2: Static Sprites (manually placed large images)</b></font><br>
<a href="gamedesign/Unity2D/Sidescroller_Hallway.png" target=Bg01><img src="gamedesign/Unity2D/Sidescroller_Hallway_thumb.png" width=150 align=right></a>
<b>Sidescroller</b> game backgrounds can be built with large, square, tiling PNG paintings instead of tiny images in Tilemap Grids.<br>
These large sprites are in 1-point perspective: flat back interior walls or flat sides of buildings, with up to the half of the bottom 

devoted to the floor, ground, or road  that the player can move around.<br><br>
A long level with lane-based motion, for example, can have a <b>long</b>, <b>repeating</b> background built with just a few png images sized <b>1024x1024</b>, <b>72ppi</b>.<br>
With snaps turned on, these images can be arranged horizontally to create a long hallway or a city street, populated by obstacles, enemies and other NPCs.<br>
Colliders are added and sized manually to a parent object  to prevent the player from wandering out of the intended space.<br>
<br><br>
<a href="gamedesign/Unity2D/Sidescroller_Room.png" target=Bg01><img src="gamedesign/Unity2D/Sidescroller_Room_thumb.png" alt="" width=150 align=right></a>On the other hand, a contained space like a  room can be built with a single png sized <b>2048x2048</b>, <b>72ppi</b>.<br>
The playable space would be closer to <b>1280x720 at the center</b> of this image, surrounded by art that is seen as the camera follows player movement around the space.<br>
Colliders are added to a parent object and sized manually to prevent the player from wandering out of the intended space.<br><br><br>
<b>To set up a Sidescroller background:</b><br>
<b>1. </b>Create an <b>Empty Game Object</b> called &quot;<b>LevelBG</b>&quot;.<br><b>Reset</b> Transforms (important!).<br><br>
<b>2. Drag</b>  the 1024x1024 background sprites directly into the Hierarchy.<br><b>Reset</b> Transforms (position Z MUST = 0).<br>
<b>Move</b> them as desired. Try turning on the Snaps button in the top toolbar, or zoom in to close gaps.<br>
<b>Drag</b> all these background images onto LevelBG to make them <b>children</b>.<br>
Behind  all images, consider putting a large black 2D sprite for the space outside of the playable space.<br>
<br>
A player character in a Sidescroller game typically has Gravity Scale=0, so the up and down arrows imply movign forward and back on the ground. Colliders for the wall, bottom, and sides prevent the player from moving outside of the intended space:<br>
<br>
<b>3.</b> With LevelBG selected <b>[Add Component]</b> Phyics2D &gt; <b>BoxCollider2D</b>. 
<br>
Hit the colliders editor button to adjust the size and position. The bottom should be near the base of the back wall and extend upwards and as wide as the tiled images.
<br>Add a <b>second</b> <b>BoxCollider2D</b> for the bottom of the lanes <br>
Add a <b>third</b> and <b>fourth</b> <b>BoxCollider2D</b> for the left and right sides of the entire level.<br><br>
<b>4. Add Doors</b> and <b>obstacles</b> as <b>separate objects</b> with colliders,<br>
For each, create a named Empty Game Object. Reset transforms.<br>
Drag in the art, reset transforms, drag onto the Empty GO to make it a child.<br>

Select the Empty GO to add  <b>[Add Component]</b> Phyics2D &gt; <b>BoxCollider2D</b>, and size to fit the art. <br>
<br>
Consider cutting windows or alleys out of these big PNGs to allow <b>parallax</b> motion behind them:

<br><br><br>
<font face=arial><font face=arial><a href="#01a"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="01a3">&nbsp;</a></font><font size=+2><b>OPTION 3: Tiling Sprites: &quot;lay track&quot; to follow player</b></font><br>
<b>Platformer</b> game backgrounds can be built with large, square, tiling PNG paintings instead of tiny images in Tilemap Grids. Lay these tiling images in a row, and as the player travels from left to right, the left-most background image gets put at the right end, so the background seems infinite!<b><br>
</b><br><br>
<b>[Version A] Simple, Single-Layer Shift</b> (<a href="https://youtu.be/WU5N_LKo8_Y" target=vid7>Source</a>)
<br>
This version is great for very simple backgrounds, like underwater or in outer space (video shows vertical tiling, the script below is for horizontal tiling, and could be modified for both):<br>
<b>1.</b> Create and import a horizontally oriented background. Drag into the Unity Hierarchy, name BG_Center.<br>
<b>2.</b> Duplicate twice, name them BG_Left and BG_Right. Position exactly at left and right sides of BG_Center. <br>
(hold down [V] key to snap: Position Y and Z values should be zero on all three).<br>
<b>3.</b> Check the Position X of each side BG image. This value is the same as the image width, and will be our Offset value (in a 1280x720 image, the offset is 1280).<br>
<b>4.</b> Drag both side BG images onto BG_Center, to make them children (only BG_Center gets the script).<br>
<b></b><br>
</font>
<center>
  <font face="arial"><i>backgroundLoopSimple.cs script:</i></font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>backgroundLoopSimple :</b> <b>MonoBehaviour</b></font> {

<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private </b></font><b><font color="#0070c0">Transform</font></b> centerBG;
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <b><font color="#0070c0">float</font></b> offset = <font color=#e36c0a><b>1280f</b></font>; <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//this value is the width of the image</font><br>
<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){ <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b> if</b></font> (transform.position.x &gt;= centerBG.position.x + offset){ <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; centerBG.positon = new Vector2(transform.position.x + offset, centerBG.position.y); 
<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b> else if</b></font> (transform.position.x &lt;= centerBG.position.x - offset){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; centerBG.positon = new Vector2(transform.position.x - offset, centerBG.position.y); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</font><font face=arial><br>
</font><font face=arial>&nbsp; &nbsp; &nbsp; }<br>
}<br><br>
</font></td>
    </tr>
  </table>
</center>
<font face=arial>&nbsp;</font><font face=arial><br>
<br><br>
<b>[Version B] Complex, Multi-Layer Robust Shift</b> (<a href="https://youtu.be/3UO-1suMbNc" target=moveBGs>Source</a>)
<br>
This version can be used with multi-layer real world scenes.
<br>
<b>1. </b>Create a new C# script &quot;<b>backgroundLoop</b>.cs&quot; containing the content at this <a href="gamedesign/Unity2D/backgroundLoop.txt" target=scroll1>link</a> (also available <a href="https://pressstart.vip/tutorials/2019/05/1/94/parallax-effect-in-unity.html" target=scroll2>here</a>). 
Save.<br>
In Unity <b>add</b> the script to the <b>Main Camera</b> in your Scene. <br>
</font><font face=arial><br>
<b>2. </b>In Unity, <b>import</b> your background art layers: <br>
<b>a)</b> Select the Project > Assets folder, RightClick, choose Import New Asset, find your background art. 
<br>
Consider a desert scene with  a <b>Sky</b>, <b>Mountains</b>, <b>Desert</b>, and <b>TelephonePoles</b>.<br>
<b>b)</b> Drag each into the Hierarchy. <br>
<b>c)</b> In the Inspector, set the <b>Transform &gt; Position</b> value on each to <b>(0, 0, 0)</b><br>
<b>d)</b> Set their <b>Sprite Renderer &gt; Additional Settings &gt; Order In Layer</b> values so the Sky is lowest (furthest back) and the foreground is the highest (most forward): <b>0, 10, 20, 30</b>. <br><br>
<b>3.</b> With the Camera selected, find the <b>Backgrounds</b> array.<br>
Set the array number to the desired number of backrounds 
(for this example, choose 4)<br>
Drag all of your backgrounds into the Array slots, in order from background to foreground<br>
<b>Hit Play to test:</b> the script clones the backgrounds and lays them before the player as the player moves (test by moving the camera by hand in the Scene view)<br><br><br>
<font face=arial><a href="gamedesign/Unity2D/SideScrollArtBG.zip" target=scrollBGs><img src="gamedesign/Unity2D/SideScrollerBackgrounds.png" alt="" width=256 align=right border=0></a>
<a href="#01a"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01a4">&nbsp;</a>
<font size=+2><b>OPTION 4: </b></font></font><font size=+2><b>Parallax Backgrounds:</b></font>
<br>An exciting way to add a dynamic element of depth to a sidescroller is to include parallax motion to the background: the appearance that distant elements of the environment move past slower than closer elements.


<br><br>
Import into the Asset folder: <a href="gamedesign/Unity2D/SideScrollArtBG.zip" target=scrollBGs><b>Background sky and city sprites</b></a>, and Character images (<b>NOTE:</b> These scripts  also work on Tilemap grids! Notes to come).<br><br>
<br>
<b>STEP 1. SETTING:</b> <b>SPRITE LAYERS</b>
<b>AND QUADS</b><br>
In Unity 2D art is added as Sprites. 
<br>
To determine which sprites appear in front of others: 
<br>
<b>a)</b> they can occupy different <b>Sorting Layers</b>, OR 
<br>
<b>b)</b> within a Sorting Layer they can be assigned a different <b>Order in Layer</b>. 
<br>
The only Sorting Layer at the start is &quot;Default&quot;. Click Default to Add a Sorting Layer. 
<br>The lower the Layer in that list, the more in-front its contents appears in the scene. 
<br>
Within a Sorting Layer, multiple Sprites can be arranged by simply putting those intended to be in front with higher <b>Order in Layer</b> numbers.<br><br>
<b>EXAMPLE:</b> This project has three Sprites for the sky: <br>tileSky_blue, tileSky_clouds, and tileSky_wave.
</font>

<li><font face=arial>We can drag them all into the Hierarchy and select one to find Sorting Layer in the Inspector.<li>Click &quot;Default,&quot; add new Sorting Layer &quot;BG_Sky.&quot; Move the Layer above Default (so it is furthest back). </font>
<li><font face=arial>Select each of these 3 sky sprites to add them to that Sorting Layer.</font>
<li><font face=arial>Select tilingSky_blue to set Order in Layer to 2. Set tileSky_wave to Order in Layer 4 (to be in front of tileSky_blue), and set tileSky_clouds to 6. 
<br>(To start the next tutorial, delete these sprites from Hierarchy).
<br><br>
<br><b>STEP 2. <em>SKY</em> INFINITE SCROLLING</b> (sources: <a href="https://youtu.be/yuPpQoBJvvk" target=spr1>sprite settings</a> and <a href="https://youtu.be/32EIYs6Z18Q" target=it>scrolling</a>)
<br>
Create a <b>scrolling parallax effect</b> with the 3 sky sprites applied to  Quads and scrolled at varied speeds. <br>NOTE this script does not work on ordinary sprites; <b>they need to be applied to a 3D Quad mesh: </b>
<br><b>a.</b> Select each sky image in the Project, change <b>Mesh Type</b> from &quot;Tight&quot; to &quot;Full Rect,&quot; <b>Wrap Mode</b> from &quot;Clamp&quot; to &quot;Repeat,&quot; <b>compression</b> = none, (hit <b>[Apply]</b>).

<br><br><b>b.</b> RightClick the Hierarchy to create a <b>3D Object &gt; Quad</b>. Scale X=18 and Y =10 to fill the stage.

<br><br><b>c.</b> With the Quad selected, drag a sky sprite onto the Inspector to create and apply a <b>Material</b>. 
<br>Set the Material Shader to <b>Unlit/Texture</b> for full brightness.
<br>Find this Material in the Materials folder and duplicate it twice: select it and hit <b>[Cmd/Ctr]+[d]</b>. 
<br>With these other two Materials selected, hit [select] in the Inspector to add the other sprites. <br><br>
<b>d.</b> In the Hierarchy, duplicate the Quad twice and apply the two other sky sprites, so each sprite has a Quad.

<br><br><b>e.</b> To push a Quad behind the others, set Position Z slightly higher (like 0.1).

<br><br><b>f.</b> Drag the <a href="GameDesign/Unity2D/BG_Scroll.cs" target=scroll><b>BG_Scroll.cs</b></a> script to each of the sky Quads in the Hierarchy.
<br>
</font>
<center>
<font face="arial"><i>BG_Scroll.cs script:</i></font>
<br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>BG_Scroll :</b> <b>MonoBehaviour</b></font> {<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#0070c0><b>float</b></font> BGspeed = <font color=#e36c0a><b>0.5f</b></font>;<br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Renderer BGrend;<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BGrend = GetComponent&lt;Renderer&gt;();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Change the GameObject's Material Color to red</font>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//BGrend.material.color = Color.red;</font>
<br>&nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Vector2 hOffset = new Vector2 (Time.time * BGspeed, <font color=#e36c0a><b>0</b></font>);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BGrend.material.mainTextureOffset = hOffset;
<br>&nbsp; &nbsp; &nbsp; }
<br>}
<br><br>
<font color=gray>//https://www.youtube.com/watch?v=32EIYs6Z18Q</font>
</font></td></tr></table>
</center>
<br>
<font face=arial>
<b>g.</b> In the Inspector, change the BGspeed value for varied speeds.<br><br><b>h.</b> Clean up: create an EmptyGO, call it BG_Sky. Drag the sky quads onto it to make them children.


<br><br><br>
<br><b>STEP 3. <em>CITY</em> PARALLAX TO CAMERA MOTION</b> (<a href="https://youtu.be/zit45k6CUMk" target=it>source</a>)<br>
With the 3 city background layers, we can make  a <b>dynamic parallax effect</b> that responds to player movement. <br>
This is a good system if you do not intend the player to travel very far:

<br><br>
<b>a.</b> Create an <b>Empty GameObject</b>, name it <b>BG_City</b>. Drag onto the Camera to make it a <b>child</b>.<br><br>
<b>b.</b> Drag each <b>city sprite</b> into the Hierarchy, then onto BG_City to make them <b>children</b>.<br><br><b>c.</b> Set <b>Order in Layer</b> to 2 (city_back), 4 (city_mid), and 6 (city_front). 
In front of quads, set the <b>Z-position</b> higher than the quads (NOTE: these city sprites are added to the Default Sorting Layer, so are all automatically in front of any sky sprites on the BG_Sky Sorting Layer).

<br><br>
<img src="gamedesign/Unity2D/ParallaxParenting.png" alt="" width=200 height=220 align=right border=0><br>
<b>d.</b> <b>Duplicate</b> the layers twice. <b>
<br>
Move</b> those duplicates to either side of the original. 
<br>Position them as precisely as you can, so no seems show. 
<br>
If the image is 2,000 pixels long,  the default pixels per unit = 100 means they side images can be Position X = 20 and X = -20. 
<br>
IMPORTANT: Drag each duplicate onto its original to make them children: </font>
<li><font face=arial>Drag city1_back(1) and city1_back(2) onto city1_back</font>
<li><font face=arial> Drag city2_mid(1) and city2_mid(2) onto city2_mid</font>
<li><font face=arial>Drag city3_front(1) and city3_front(2) onto city3_front<br>
  The script in the next step only gets applied to the original parent images:<br>
  <br><br>
  <b>e.</b> Create a new C# script &quot;<b>BG_Parallax</b>.cs&quot; with the content below. 
  <br>
  Back in Unity, drag the script onto  each original city sprite (the parent sprites only, not their children). 
  <br>
  Select one of these sprites and drag Camera into the <b>script slot</b>. 
  <br>
  For BG_Sky (the Empty GO holding the sky Quads), simply drag it onto Camera so it follows Camera absolutely.
  </font>
  <br><br>
  <center>
    <font face="arial"><i>BG_Parallax.cs script:</i>
      </font>
    <br>
    <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;
        <br><br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>BG_Parallax :</b> <b>MonoBehaviour</b></font> {<br>
        <br>
        &nbsp; &nbsp; &nbsp; private float length, startposX; <br>
        &nbsp; &nbsp; &nbsp; <font color=gray>//startposY;</font><br>
        &nbsp; &nbsp; &nbsp; public GameObject cam;<br>
        &nbsp; &nbsp; &nbsp; public float parallaxEffect; <br>
        &nbsp; &nbsp; &nbsp; <font color=gray>//parallaxUpEffect;</font>
        <br><br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startposX = transform.position.x;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//startposY = transform.position.y;</font>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; length = GetComponent&lt;SpriteRenderer&gt;().bounds.size.x;<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float temp = (cam.transform.position.x * (<font color=#e36c0a><b>1</b></font> - parallaxEffect));<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float distX = (cam.transform.position.x * parallaxEffect);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//float distY = (cam.transform.position.y * parallaxUpEffect);</font>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new Vector3(startposX + distX, transform.position.y, transform.position.z);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//transform.position = new Vector3(startposX + distX, startposY + distY, 1);</font>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>if</b></font> (temp &gt; startposX + length){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startposX += length;
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>else if</b></font> (temp &lt; startposX - length){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startposX -= length;
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
        <br>&nbsp; &nbsp; &nbsp; }
        <br><br>
        }
        <br><br>
        </font></td>
      </tr></table>
  </center>
  <br>
  <font face=arial><b>f.</b> Set different <b>values</b> for each Parallax Effect slot: 
  <br>
  &nbsp; &nbsp; &nbsp; city1_front = 0 (so it moves the most), 
  <br>
  &nbsp; &nbsp; &nbsp; city2_mid = 0.3, 
  <br>
  &nbsp; &nbsp; &nbsp; city_Back = 0.7, 
  <br>
  &nbsp; &nbsp; &nbsp; BG_Sky = 1 (so it does not move at all: doers not actually need the script).
    
    <br><br>
    <b>g.</b> Hit <b>play</b> and in the Scene view, drag the camera back and forth to see the script work!<br><br>
    <b>CREATE TEST PLATFORM:</b> 
    <br>Create an <b>Empty GameObject</b>, name it &quot;TestPlatform.&quot; 
    <br>Add <b>Physics2D &gt; BoxCollider2D.</b> 
    <br>Set Collider Size X to the width of original background, and Y to 0.5. 
    <br>
    Set Position Z = 0, to match the Player.
    
    <br><br><br>
    <a href="#01a"><img src="gamedesign/triangle_purple.png" alt=""></a>
    <a name="01a5">&nbsp;</a><br>
    <font size=+2><b>FOREGROUND SPRITES: LEAVES BLOWING BY</b></font>
    <br>Want  sprites to move in front of your tilemaps, like blowing leaves? 
    <br>Instead of Offset, we move the sprites themselves.
    
    <br><br>
    <b>a.</b> Create a <b>spritesheet PNG</b> of a leaf blowing in the wind. 
    <br>Import into Unity, set to Multiple, hit [Apply], and in the Sprite Editor set slice = automatic, slice and apply.</font>
  
  <br>
  <b><br>
    <font face=arial>b.</font></b><font face=arial> Create an animation with the leaves: </font>
  <br>
<li><font face=arial>Drag the first into the Hierarchy, name it &quot;<b>leaf_art</b>&quot;.  </font>
<br>
<li><font face=arial>With leaf_art selected, open <b>Window &gt; Animation &gt; Animation</b>. [Create] to save a clip called &quot;<b>leaf_anim</b>&quot;.  </font>
<br><li><font face=arial>Drag all leaf frames into the Animation Timeline, and drag the first one again to be the end. 
<br>Space the keyframes along the Timeline as desired. </font>


<br>
<br><font face=arial><b>c.</b> Create <b>3 Empty Game Objects</b>, name them leaf1, leaf2 and leaf3 and Reset Transforms. </font>
<li><font face=arial>Make 2 copies of leaf_art and drag one each onto the leaf GOs to make them children. </font>
  <br>
<li><font face=arial>Position the leaf GOs next to each other, side by side, directly to the right of the Camera frame.<br><br>
<b>d.</b> Create a <b>new Empty Game Object</b> called &quot;<b>FG_SPRITES_LEAVES</b>&quot;. 
<br>Reset Transforms and drag all three tiles onto it to make them children. <br>
<br>
<b>e.</b> Create a <b>new C# script</b> called &quot;<b>SpriteTiler.cs</b>&quot; with the content below, and apply to FG_SPRITES_LEAVES. <br>
Load each of the three leaf GOs into the script slots.<br>
NOTE: to move in the opposite direction, set the bool moveLeft = false and position the sprites on the left.

<br><br>
</font>
<center>
  <font face="arial"><i>SpriteTiler.cs script:</i> </font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br><br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>SpriteTiler :</b> <b>MonoBehaviour</b></font> {<br>
        <br>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> Transform BG1;<br>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> Transform BG2;<br>&nbsp; &nbsp;  &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> Transform BG3;<br>
        <br>
        &nbsp; &nbsp; &nbsp;<font face=arial><font color=#31849b><b> private</b></font></font> Vector2 BG1Start;<br>
        &nbsp; &nbsp; &nbsp;<font face=arial><font color=#31849b><b> private</b></font></font> Vector2 BG2Start;<br>
        &nbsp; &nbsp;  &nbsp;<font face=arial><font color=#31849b><b> private</b></font></font> Vector2 BG3Start;<br>
        <br>
        &nbsp; &nbsp;  &nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> BGspeed = 8f;<br>
        &nbsp; &nbsp;  &nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> BGdistance = 40f;&nbsp; &nbsp;  &nbsp; <font color=gray>//30- 60</font> <br>
        &nbsp; &nbsp;  &nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Transform playerTarget; 
        <br>
        <br> 
        &nbsp; &nbsp;  &nbsp; <font face=arial><font color=#31849b><b>public bool </b></font></font>moveLeft = <font face=arial><font color=#365f91><b>true</b></font></font>; <br>
        <br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerTarget = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;Player&quot;</b></font>).GetComponent&lt;Transform&gt;();<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG1Start = new Vector2 (BG1.position.x, BG1.position.y);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG2Start = new Vector2 (BG2.position.x, BG2.position.y);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG3Start = new Vector2 (BG3.position.x, BG3.position.y);<br>&nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate(){
        
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//set parent object to player x-position</font> <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new Vector2(playerTarget.position.x, transform.position.y);
        <br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int moveDir = <font color=#e36c0a><b>1</b></font>; <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (moveLeft == false){moveDir = <font color=#e36c0a><b>1</b></font>;} <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>else</b></font> {moveDir = -<font color=#e36c0a><b>1</b></font>;} <br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> BG1rand = Random.Range(<font color=#e36c0a><b>0.5f</b></font>, <font color=#e36c0a><b>2f</b></font>); <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> BG2rand = Random.Range(<font color=#e36c0a><b>0.5f</b></font>, <font color=#e36c0a><b>2f</b></font>); <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> BG3rand = Random.Range(<font color=#e36c0a><b>0.5f</b></font>, <font color=#e36c0a><b>2f</b></font>); <br><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> bg1Pos = moveDir * BG1rand * BGspeed * Time.deltaTime;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> bg2Pos = moveDir * BG2rand * BGspeed * Time.deltaTime;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> bg3Pos = moveDir * BG3rand * BGspeed * Time.deltaTime; <br><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG1.localPosition = new Vector2(BG1.localPosition.x + bg1Pos, 
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG1.localPosition.y + (BG1rand/<font color=#e36c0a><b>20</b></font>));<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG2.localPosition = new Vector2(BG2.localPosition.x + bg2Pos, 
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG1.localPosition.y + (BG1rand/<font color=#e36c0a><b>20</b></font>));<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG3.localPosition = new Vector2(BG3.localPosition.x + bg3Pos, 
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG1.localPosition.y + (BG1rand/<font color=#e36c0a><b>20</b></font>));<br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (Mathf.Abs(BG1.position.x - BG1Start.x) &gt;= (Mathf.Abs(BG1Start.x) + BGdistance)){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG1.localPosition = BG1Start;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG2.localPosition = BG2Start;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BG3.localPosition = BG3Start;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>}<br><br>
      </font></td>
    </tr>
  </table>
</center>
<font face=arial><br>
<br>
<br>
<br>
</font></td></tr></table>
</div></td>
</tr></table>
<br>

<a name="01b">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr>
  <td>
<button class="accordion2">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1B]</b> <b>PLATFORMER PLAYER MOVEMENT</b> &nbsp; &nbsp; &nbsp; &nbsp;</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr><td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=purple><b>[1B]:</b></font> <b>PLATFORMER PLAYER CREATION</b></font></font>
<font face="arial"><br>
Player 
<a href="#01b1">Set-Up</a> &nbsp; | &nbsp;
<a href="#01b2">Movement</a> &nbsp; | &nbsp;
<a href="#01b3">Jumping</a> &nbsp; | &nbsp;
<a href="#01b4">Crouching</a> &nbsp; | &nbsp;
other: 
<a href="#01b5">Squishy package</a></font>
</center><font face=arial>

<br>
<b><a name="01b1">&nbsp;</a>STEP 1. CREATE PLAYER OBJECT</b><br>
  <b>a.</b> Add an <b>Empty GameObject</b>.  In Inspector name it <b>Player</b>, reset Transforms, set <b>tag</b> = Player.

<br><br>
<a href="gamedesign/Unity2D/PixelChar_SpritesheetB.png" target=tilemap><img src="gamedesign/Unity2D/PixelChar_SpritesheetB.png"  align=right></a><b>b.</b> Import your character art (single or sprite sheet, (power-of-2 square PNGs with power-of-2 square character images: 64x64, 128x128, 256x256, 512x512 etc).<br>
In the Inspector set the following and hit <b>[Apply]</b>:<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sprite Mode = Multiple<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pixels Per Unit = 16<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Filter Mode = Point (no filter)<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Compression  = None

<br>
Then open the [Sprite Editor] and Slice by count: 4 x 4. Hit Apply. 

<br><br>
<b>c.</b> In the Project panel open the character to view all poses as individual sprites.  
<br>Add the first Sprite to the Hierarchy for a Player character.
  
<br><br>
<b>d.</b> In the Inspector Set <b>Order in Layer</b> = <b>100</b>, and <b>Reset Transforms</b>.
Name it <b>PlayerArt</b>.

<br><br>
<b>e.</b> <b>Drag</b> PlayerArt onto the Player GameObject to make it a child.<br>
<strong>NOTE:</strong> Character art should be sized using Pixels Per Unit, NOT by changing scale in the Scene Inspector. <br>
Once the sprite is in the Scene, adjust its size by selecting the source image in the project panel and changing <strong>Pixles Per Unit</strong> and hitting <strong>[Apply]</strong>. 
Choose large numbers to shrink characters, smaller numbers make larger.<br><br>
<b>f.</b> Add these <b>Components</b> to the parent Player  Game Object:<br>
&nbsp; &nbsp; &nbsp; Component <b>Physics2D &gt; BoxCollider2D</b> and scale to fit the upper half of the art (the torso and head).<br>
&nbsp; &nbsp; &nbsp; Add <b>Physics2D &gt; CircleCollider2D</b> and scale to fit the lower half (to more smoothly colide with ramps).<br>
  &nbsp; &nbsp; &nbsp; Component <b>Physics2D &gt; Rigidbody2D</b>, set <b>Constraints &gt; </b><b>Freeze Rotation Z</b> to on, and change Collision Detection from Discrete to <b>Continuous</b>.
<br><br>
<em><b>NOTE:</b></em> All Player controls in this tutorial use the legacy <b>Input Manager</b> system in Unity.<br>
These can be seen and changed in the <b>Edit > Project Settings > Input Manager</b>.<br>Movement and Jump use the default Horizontal Axis and Jump inputs.

<br>
<b><em><br>
REMEMBER: </em>Test initial character art in Unity BEFORE making a lot of poses!</b><br>
All of your art for Unity should be <b>72ppi</b>, and drawn/ painted/ etc at the final intended size (like 64x64). Bring your PNGs into a Unity Scene to see how character look against backgrounds, to check your overall size and the thickness of lines, etc, before you create a hundred keyframes!<br><br><br>
<a href="#01b"><img src="gamedesign/triangle_purple.png"></a>
  <b><a name="01b2">&nbsp;</a>STEP 2. PLAYER MOVEMENT</b> (sources: simple vs <a href="https://youtu.be/dwcT-Dch0bA" target=hmove>controller-driven</a> Movement)<br>
  <b>a.</b> Create a new C# script called PlayerMove.cs. 

<br><br>
  <b>b.</b> Add the content below and drag the script onto your Player. <br>
  The commented-out code is for animation, if an Animator is applied to the character art.<br>
  (Here is an alternate movement <a href="gamedesign/Unity2D/PlayerMove.cs" target=move><b>script</b></a>).
  
<br>
<br>
  </font>
  <center>
    <font face="arial"><i>PlayerMove.cs script:</i><br>
      </font>
    <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
      <tr>
        <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>PlayerMove :</b> <b>MonoBehaviour</b></font> {
<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public Animator animator;</font><br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Rigidbody2D rb2D;<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private bool </b></font> FaceRight =<font face=arial><font color=#365f91><b> true</b></font></font>; <font color=gray>// determine which way player is facing.</font>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static float</b></font> runSpeed = <font color=#e36c0a><b>10f</b></font>;
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> startSpeed = <font color=#e36c0a><b>10f</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> isAlive =<font face=arial><font color=#365f91><b> true</b></font></font>;
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public AudioSource WalkSFX;</font><br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font></font><font color=#31849b><b>private Vector3</b></font> hMove;

<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//animator = gameObject.GetComponentInChildren&lt;Animator&gt;();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rb2D = transform.GetComponent&lt;Rigidbody2D&gt;();<br>
&nbsp; &nbsp; &nbsp; }<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//NOTE: Horizontal axis: [a] / left arrow is -1, [d] / right arrow is 1</font>
          
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hMove = new <font color=#31849b><b>Vector3</b></font>(Input.GetAxis(<font color=#e36c0a><b>&quot;Horizontal&quot;</b></font>), <font color=#e36c0a><b>0.0f</b></font>, <font color=#e36c0a><b>0.0f</b></font>);<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if </b></font>(isAlive == <font face=arial><font color=#365f91><b>true</b></font></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = transform.position + hMove * runSpeed * Time.deltaTime;<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Input.GetAxis(&quot;Horizontal&quot;) != 0){
<font color=gray>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; &nbsp; animator.SetBool (&quot;Walk&quot;, true);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//&nbsp; &nbsp; &nbsp; &nbsp;if (!WalkSFX.isPlaying){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; WalkSFX.Play(); 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; &nbsp;}
</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; } else { <font color=gray>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//&nbsp; &nbsp; &nbsp; animator.SetBool (&quot;Walk&quot;, false);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//&nbsp; &nbsp; &nbsp; WalkSFX.Stop(); 
</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; } <br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// Turning: Reverse if input is moving the Player right and Player faces left</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>((hMove.x &lt;<font color=#e36c0a><b>0</b></font> &amp;&amp; !FaceRight) || (hMove.x &gt;<font color=#e36c0a><b>0</b></font> &amp;&amp; FaceRight)){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerTurn();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; }

<br><br>
    &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//slow down on hills / stops sliding from velocity</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (hMove.x == <font color=#e36c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb2D.velocity = new Vector2(rb2D.velocity.x / <font color=#e36c0a><b>1.1f</b></font>, rb2D.velocity.y) ;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; } <br><br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private void </b></font> playerTurn(){<br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// NOTE: Switch player facing label</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FaceRight = !FaceRight;<br><br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// NOTE: Multiply player's x local scale by -1.</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector3</b></font> theScale = transform.localScale;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; theScale.x *= -<font color=#e36c0a><b>1</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.localScale = theScale;<br>&nbsp; &nbsp; &nbsp; }<br> 
}</font></td>
</tr></table>
  </center>
<br>
<b><font face=arial>PLAYER WALKING AUDIO:</font></b><font face=arial><br>
For basic footsteps, <b>[Add Component] AudioSource</b> to the Player with your footsteps sound.<br>
Disable &quot;<b>Play on awake</b>&quot; but make sure &quot;<b>Looping</b>&quot; is enabled.<br>
Uncomment the SFX lines in the PlayerMove script, including the if-condition.<br>In the Unity Inspector, drag the footsteps AudioSource Component into the WalkSFX script slot.<br>Hit Play and walk around!<br>
<br>For a jump sound, <b>[Add Component]</b> a separate <b>AudioSource</b> to the Player with the jump sound.<br>
Disable both &quot;<b>Play on awake</b>&quot; AND &quot;<b>Looping</b>&quot;.<br>
Uncomment the JumpSFX lines below. 
<br>In the Unity Inspector drag the Jump AudioSource into the JumpSFX script slot.

<br><br><br>
  <a href="#01b"><img src="gamedesign/triangle_purple.png" alt=""></a>
  <b><a name="01b3">&nbsp;</a></b><b>STEP 2. PLAYER JUMPING</b>
  <br>
  <b>a. </b>Create a new C# script called PlayerJump.cs. Add the content below and drag the script onto your Player. <br>
Note the commented-out code for animation, for when an Animator is applied to the character art.

<br><br>
<b>b.</b> This script uses Inputs for Jump: keyboard Spacebar and controller Joystick Button 3 (on XBox controller: (Y)). Change these or add more options: Open <b>Edit &gt; Project Settings &gt; Inputs</b>. 
<br><br>
</font>
<center>
<font face="arial"><i>PlayerJump.cs script (streamlining thanks to Harris Lynch):</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>PlayerJump :</b> <b>MonoBehaviour</b></font> {<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//public Animator anim;</font><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Rigidbody2D rb;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font>  jumpForce =<b><font color="#e36c0a"> </font></b><font color=#e36c0a><b>20f</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Transform feet;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> LayerMask groundLayer;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> LayerMask enemyLayer;	
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> canJump = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public int</b></font> jumpTimes = <font color=#e36c0a><b>0</b></font>; <br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> isAlive =<font face=arial><font color=#365f91><b> true</b></font></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public AudioSource JumpSFX;</font>

<br><br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void </b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb = GetComponent&lt;Rigidbody2D&gt;();<br>
&nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Update() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> ((IsGrounded()) || (jumpTimes &lt;= <font color=#e36c0a><b>1</b></font>)){
<br>

&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// if ((IsGrounded()) &amp;&amp; (jumpTimes &lt;= 1)){ // for single jump only</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; canJump = <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; <font color=#3ab050><b>else if</b></font> (jumpTimes &gt; <font color=#e36c0a><b>1</b></font>){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// else { // for single jump only</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; canJump = <font face=arial><font color=#365f91><b>false</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>((Input.GetButtonDown(<font color=#e36c0a><b>&quot;Jump&quot;</b></font>)) &amp;&amp; (canJump) &amp;&amp; (isAlive == <font face=arial><font color=#365f91><b>true</b></font></font>)) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Jump();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> Jump() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jumpTimes +=<font color=#e36c0a><b> 1</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb.velocity = Vector2.up * jumpForce;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// anim.SetTrigger(&quot;Jump&quot;);<br>
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//&nbsp;JumpSFX.Play();</font></font><br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Vector2 movement = new Vector2(rb.velocity.x, jumpForce);</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//rb.velocity = movement;</font><br>
&nbsp; &nbsp; &nbsp; }
<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>bool</b></font> IsGrounded() {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Collider2D groundCheck = Physics2D.OverlapCircle(feet.position, <font color=#e36c0a><b>2f</b></font>, groundLayer);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Collider2D enemyCheck = Physics2D.OverlapCircle(feet.position, <font color=#e36c0a><b>2f</b></font>, enemyLayer);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>((groundCheck != null) || (enemyCheck != null)) {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Debug.Log(&quot;I am trouching ground!&quot;);</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jumpTimes = <font color=#e36c0a><b>0</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return  <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return<font color=#365f91><b> false</b></font>;<br>
&nbsp; &nbsp; &nbsp; }<br>
}</font></td>
</tr></table>
  </center>
  <font face=arial> <br>
  Instead of adding a new collider in code to check distance to the feet, we can simply check for  basic collisions with ground or enemies in the scene:<br>
  </font>
  <center>
    <font face="arial"><strong>Alternate</strong><i> PlayerJump.cs script:</i> (thanks to Harris Lynch)<br>
      </font>
    <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
      <tr>
        <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>PlayerJump :</b> <b>MonoBehaviour</b></font> {<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=gray>//public Animator anim;</font><br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Rigidbody2D rb;<br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> jumpForce =<b><font color="#e36c0a"> </font></b><font color=#e36c0a><b>6f</b></font>;<br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> LayerMask groundLayer;<br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> LayerMask enemyLayer; <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> canJump = <font color=#365f91><b>false</b></font>; <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public int</b></font> jumpTimes = <font color=#e36c0a><b>0</b></font>; <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> isAlive =<font face=arial><font color=#365f91><b> true</b></font></font>;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public AudioSource JumpSFX;</font> <br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void </b></font> Start(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font> <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb = GetComponent&lt;Rigidbody2D&gt;();<br>
          &nbsp; &nbsp; &nbsp; }<br>
          <br>
          &nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Update() {<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>((Input.GetButtonDown(<font color=#e36c0a><b>&quot;Jump&quot;</b></font>)) &amp;&amp; (canJump) &amp;&amp; (isAlive == <font face=arial><font color=#365f91><b>true</b></font></font>)) {<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Jump();<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; }<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> Jump() {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#3ab050"><b>if</b></font>  (jumpTimes &lt;<b><font color="#e36c0a">2</font></b>){ <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jumpTimes +=<font color="#e36c0a"><b> 1</b></font>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb.velocity = Vector2.up * jumpForce;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="gray">// anim.SetTrigger(&quot;Jump&quot;);<br />
</font><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="gray">//&nbsp;JumpSFX.Play();</font></font><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp; <font color="#3ab050"><b>else </b></font>{ <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; canJump = <font face="arial"><font color="#365f91"><b>false</b></font></font>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; } <br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> OnCollisionEnter2D(Collision2D other){
<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=gray>//if (other.gameObject.layer == LayerMask.NameToLayer(&quot;Ground&quot;))</font> 

<br>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#3ab050"><b>if</b></font> (<br>			
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (((<font color="#e36c0a"><b>1</b></font> << other.gameObject.layer) & groundLayer.value) != <font color="#e36c0a"><b>0</b></font>) || <br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (((<font color="#e36c0a"><b>1</b></font> << other.gameObject.layer) & enemyLayer.value) != <font color="#e36c0a"><b>0</b></font>) <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ){ <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Debug.Log(&quot;I am trouching ground!&quot;);</font><br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jumpTimes = <font color=#e36c0a><b>0</b></font>;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; canJump = <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; }<br>
          }</font></td>
      </tr>
    </table>
  </center>
  <font face=arial>&nbsp;</font><font face=arial><br>
  <b>c.</b> <b>Set-up GroundPoint: </b>RightClick the Player to create an <b>Empty Game Object</b> as a child. 
  <br>
  In the Inspector name it &quot;<b>GroundPoint</b>&quot;, reset Transforms. Move it directly to the bottom of the Player's Collider / feet. Drag this GroundPoint into the PlayerJump &quot;feet&quot; script slot.<br>
  <br>
  <b>d.</b> <b>Assign layers to ground and enemies:</b> 
  <br>Select the environment Ground layer/s and in the Inspector <b>add two new Layers</b>: &quot;<b>Ground</b>&quot; and &quot;<b>Enemies</b>.&quot; Apply Ground to the Ground layer/s. 
  <br>Select the Player and set the &quot;groundLayer&quot;  LayerMask rolldown to Ground and the &quot;enemyLayer&quot; LayerMask rolldown to Enemies.<br> 
  <b>IMPORTANT:</b> The player will not jump at all if these last two steps are not done!<br>
  </font><br>
  <font face=arial><b>e.</b> Hit <b>[Play]</b> and test movement and jump!<br>
  Do your Player character's colliders get stuck on things? Turn off [Play] and add a slippery new <b>Physics Material</b> to the Player collider material slots, with Friction and Bounciness set to zero (rightclick Project panel to create).
  
  
  
If it is still an issue, be sure your player bottom collider is a circle, and consider adding circle colliders to the ends of platforms.<br>
<br>
<b>f. BETTER JUMP:</b> Does your Player jump feel too float-ty?
<br>
Create a new C# script called &quot;<b>PlayerBetterFall.cs</b>&quot; with the content below. 
<br>Save and add this script to the player to enhance the fall on each jump:<br>
<br>
  </font>
  <center>
    <font face="arial"><i>PlayerBetterFall.cs script:</i><br>
      </font>
    <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
      <tr>
        <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>PlayerBetterFall :</b> <b>MonoBehaviour</b></font> {<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> fallMultiplier = 2.5f; <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> lowJumpMultiplier = 2f; <br>
&nbsp; &nbsp; &nbsp; Rigidbody2D rb; <br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Awake(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb = GetComponent
&lt;Rigidbody2D&gt;
(); <br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (rb.velocity.y < 0) { <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb.velocity += Vector2.up * Physics.gravity.y * (fallMultiplier - <font color=#e36c0a><b>1</b></font>) * Time.deltaTime; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if (rb.velocity.y > 0 && !Input.GetButton (<font color=#e36c0a><b>&quot;Jump&quot;</b></font>)){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb.velocity += Vector2.up * Physics.gravity.y * (lowJumpMultiplier - <font color=#e36c0a><b>1</b></font>) * Time.deltaTime;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br>
}</font></td>
      </tr>
    </table>
  </center>
  <font face=arial>&nbsp;</font><font face=arial><br>
  <br>
  <br><br>
  <a href="#01b"><img src="gamedesign/triangle_purple.png" alt=""></a><b><a name="01b4">&nbsp;</a>STEP 4. OPTIONAL PLAYER CROUCH</b><br>
A <b>crouch</b> mechanic requires <b>art that shows the player kneeling lower</b>, and also needs the <b>BoxCollider2D</b> that normally covers the upper parts to be disabled when crouching, so the player can move under low structures or dodge blasts or blows.<br><br>
An easy way to disable the torso Collider is to move it to an Empty Game Object parented to the Player, and to access that new Empty Game Object with a script slot so it can be set inactive when the crouch buton is pressed.  

<br><br>
<b>a. CREATE THE TORSO OBJECT:</b><br>
Create an Empty Game Object.<br>In the Inspector name it &quot;<b>Torso</b>&quot; and reset Transforms. <b>Drag</b> it onto Player to make it a child.<br>
Select the Player object, RightClick-hold the BoxCollider2D component and select &quot;<b>Copy Component</b>&quot;.<br>
Select the Torso and RightClick-hold the Transform component to select &quot;<b>Past Component As New</b>&quot;.<br>
Select the Player object, turn off the <b>BoxCollider2D</b> component.<br><br>
<b>b. ADD &quot;CROUCH&quot; INPUT:</b><br>Open <b>Edit &gt; Project Settings &gt; Inputs</b>.<br>
Open the first <b>Fire3</b> button, rename &quot;<b>Crouch</b>&quot;. Set &quot;Positive Button&quot; = &quot;s&quot; and &quot;Alt Positive Button&quot; = &quot;down&quot;.<br>
Open the second <b>Fire3</b> button, rename &quot;<b>Crouch</b>&quot;.  Set &quot;Positive Button&quot; = &quot;joystick button 3&quot;.<br><br>
<b>c. ADD CROUCH SCRIPT:</b><br>
Create a new <b>C# script</b>, name it &quot;<b>PlayerCrouch.cs</b>&quot;.<br>
Add the following content and add to the Player object.<br>Drag the GroundPoint object into the &quot;feet&quot; <b>script slot</b>.<br>
Add the new Torso into its <b>script slot</b>.<br><br>
  </font>

<center>
<font face="arial"><i>PlayerCrouch.cs script:</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;
<br><font color=#3ab050><b>using</b></font> UnityEngine;
<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>PlayerCrouch :</b> <b>MonoBehaviour</b></font> {
<br>
<br>&nbsp; &nbsp; &nbsp; <font color=gray>//public Animator animator;</font>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Rigidbody2D rb2D;<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject torso;
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Transform feet;
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> isAlive =<font face=arial><font color=#365f91><b> true</b></font></font>;
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> LayerMask groundLayer;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> LayerMask enemyLayer;<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void </b></font> Start(){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator = gameObject.GetComponentInChildren&lt;Animator&gt;();</font> 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb = GetComponent&lt;Rigidbody2D&gt;();
<br>&nbsp; &nbsp; &nbsp; }
<br><br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Update() {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>((Input.GetButtonDown(<font color=#e36c0a><b>&quot;Crouch&quot;</b></font>)) &amp;&amp; (IsGrounded()) &amp;&amp; (isAlive==<font face=arial><font color=#365f91><b>true</b></font></font>)) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; torso.SetActive(false);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetBool(&quot;Crouch&quot;, true);</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (Input.GetButtonUp(<font color=#e36c0a><b>&quot;Crouch&quot;</b></font>)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; torso.SetActive(true);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetBool(&quot;Crouch&quot;, false);</font>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; } 
<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>bool</b></font> IsGrounded() {<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Collider2D groundCheck = Physics2D.OverlapCircle(feet.position, <font color=#e36c0a><b>2f</b></font>, groundLayer);<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Collider2D enemyCheck = Physics2D.OverlapCircle(feet.position, <font color=#e36c0a><b>2f</b></font>, enemyLayer);<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>((groundCheck != null) || (enemyCheck != null)) {<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Debug.Log(&quot;I can crouch now!&quot;);</font><br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return<font color=#365f91><b> false</b></font>;<br>
          &nbsp; &nbsp; &nbsp; }<br>
          }</font></td>
      </tr>
    </table>
  </center>
<font face=arial>

<br><br>
<b>PLAYER SPRITE ANIMATION </b><br>
Want to add player animation that give feedback to player actions, like walking, jumping, etc?
<br>
Follow this <a href="GameDesign_Unity2DTilemap.html#player" target=2dArt><b>2D Art Tutorial</b></a> to: 
<br>
(1). Creating a character spritesheet in your art tool of choice
<br>
(2) Import and slice your spritesheet in Unity. 
<br>(3) Set animation clips in the Unity Animation editor, 
<br>(4) Organize the clips in Unity's Mecanim State Machine system for the code to activate. 


<br>
<br><br><br>
<b>OTHER CHARACTER CREATION APPROACHES:</b> 

<br><br>
<a href="#01b"><img src="gamedesign/triangle_purple.png" alt=""></a><a name="01b5">&nbsp;</a><b>PLATFORMER SQUISHINESS</b><b>:</b><br>Want a sharp, bouncy, squishy player controller?<br>
Consider modifying this <a href="gamedesign/EzraSzanton_Platformer.unitypackage" target=squish>Squishy Platfomer Character Package</a> by developer Ezra Szanton 
<br>
(Unity Physics / Velocity based, rather than transfom-based)<br>
<br>
</font></td></tr></table>
</div></td>
</tr></table>

<br>
<a name="01c">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr>
  <td>
<button class="accordion1">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1C]</b> <b>TOP-DOWN PLAYER MOVEMENT AND SETTING</b> &nbsp; &nbsp;</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
  <td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=#dc0bdc><b>[1C]:</b></font> <b>TOP-DOWN PLAYER CREATION</b></font></font>
<font face="arial"><br>
Top-Down Player: <a href="#01c1">Set-Up</a> &nbsp; | &nbsp; 
<a href="#01c2">Movement</a>&nbsp; <br>
Top-Down Shooter: <a href="#01c1">Rotate to Mouse</a> &nbsp; | &nbsp; <a href="#01c2">Rotate to Movement</a>&nbsp; <br>
<a href="#01c3">Multi-Lane Environment</a> &nbsp; | &nbsp; 
<a href="#01c4">Climbing</a> &nbsp;&nbsp; | &nbsp; 
<a href="#01c5">Blend Trees</a></font>
</center>

<font face="arial">
<br>
<br>
<b>TOP-DOWN MOVEMENT:</b><br>
Top-down games are great for stealth, combat, or exploration gameplay! 
<br>A big difference for Top-down games is we use both Horizontal AND Vertical axis input to move the player. 
<br>We turn off gravity on the Player: &quot;up&quot; means towards the top, not a jump. 
<br>
This also means we cannot use the usual jump script above,  and we do not use collisions to define floors. 
<br>
Instead,  collisions to represent the walls and other blocking objects and architecture. 

<br>
<br>
<b>MULTI-LANE SIDESCROLLER MOVEMENT:</b><br>
Instead of a single linear platformer space, do you want the player to have the freedom to walk around the floor? While still looking like a sidescroller (still a horizontal view of the space, but more of the floor visible), this kind of side-scroller movement is more akin to  a top-down game, and uses both Horizontal AND Vertical axis input to move the player. 
<br>So the player can move &quot;up&quot; (away from the camera) and &quot;down&quot; (towars the camera) without the notion of &quot;falling&quot;. <br>

<br><br>
<b><em>REMEMBER: </em>Test initial character art in Unity BEFORE making a lot of poses!</b><br>
All of your art for Unity should be 72ppi, and drawn/ painted/ etc at the final intended size. 
<br>For a sidescroller, characters tend to be large, like 256x512, laid out in a 2048x2048 <a href="gamedesign/Unity2D/SideScroller_SpriteSheet_Template.psd"><b>spritesheet</b></a>. 
<br>
<b>Bring your PNGs into a Unity Scene to see how character looks</b> against backgrounds, to check your overall size and the thickness of lines, etc, before you create a hundred keyframes!<br><br>
<a href="#01c"><img src="gamedesign/triangle_purple.png" alt=""></a><b><a name="01c1">&nbsp;</a>STEP 1. </b> <b> PLAYER CREATION:</b> <b>TOP-DOWN or SIDESCROLLER / MULTI-LANE</b><br>
<b>a.</b> Create an <b>Empty GameObject</b>. In the Inspector  name it &quot;<b>Player</b>&quot;. Add the tag <b>Player</b>. Reset Transforms.<br>
<br>
<b>b.</b> 


Drag the player art onto Player:
<br>
<table width=100% cellpadding=10><tr>
<td valign=top><font face="arial"><b>If your player art is currently a single sprite:</b> 

<br><br>
    <b>Drag</b> it into the Hierarchy, parent under Player. <br>
In the Inspector re-name it &quot;<b>player_art</b>&quot; and set <b>Order In Layer</b> = <b>100</b>.<br>
<br>
<em><strong>OR </strong></em></font></td>
<td valign=top><font face="arial"><b>If your player art is a spritesheet for multiple frames of animation:</b> 

<br><br>
In the Inspector set SpriteMode to Multiple, hit <b>[Apply]</b>. 
<br>
Open the <b>[SpriteEditor]</b> to slice it up (set  Type = Grid by Cell Count, set columns and rows. Hit [Slice] and [Apply]).
<br>
Open the spritesheet in the project panel to view the poses (click the triangle).<br>
<br>
<strong>Drag</strong> the first pose into the Hierarchy, parent under Player. <br>
In the Inspector rename is &quot;<strong>player_art</strong>&quot; and set <strong>Order In Layer</strong> = <strong>100</strong>.</font></td>
</tr></table>
<br>
<strong>NOTE:</strong> Character art should be sized using Pixels Per Unit in the Project panel Inspector , NOT by changing scale in the Scene Inspector. <br>
Once the sprite is in the Scene, adjust its size by selecting the source image in the Project panel, changing <strong>Pixles Per Unit</strong>, and hitting <strong>[Apply]</strong>. 

<br>Choose large numbers to shrink characters, smaller numbers make larger.<br>
<br>
<b>FOR ANIMATION: </b>Create a folder called "Animation" to locate under Media.</font>
<br><font face=arial><img src="gamedesign/bullet.png" alt=""> Select player_art, open the Window &gt; Animation &gt; <b>Animation panel</b>.</font>
<br><font face=arial><img src="gamedesign/bullet.png" alt=""> Hit <b>[create]</b> and locate the Animation folder to save the clip name as <b>charName_idle</b>.</font>
<br><font face=arial><img src="gamedesign/bullet.png" alt=""> Click the clip name in the Animation window (upper left) to <b>create new clips:</b> 
<br>
<b>charName_walk</b>, <b>charName_GetHurt</b>, and any other clips for which you have created images.
<br>
(like charName_climbLeft, charName_climbRight, charName_stairsUp, charName_stairsDown, etc). 
<br>
Each of these clips is automatically assigned to the Statemachine <b>Animator</b> Component that was added to player_art when the first clip was created.</font>
<br><font face=arial><img src="gamedesign/bullet.png" alt=""> For each clip in the list, <b>drag</b> the intended art from the Project panel into the Animation <b>timeline</b>.</font>
<br><font face=arial><img src="gamedesign/bullet.png" alt=""> Hit Play in the Animation panel to see the character run the animation in the Scene view.

<br><br>
<b>c.</b> Select Player, <b>[Add Component] Physics2D &gt; BoxCollider2D</b> (adjust to surround the feet), and <b>Rigidbody2D</b> (turn on <b>Constraints > Freeze Rotation Z</b>, and set <b>Gravity Scale = 0</b>).

<br><br><br>
<a href="#01c"><img src="gamedesign/triangle_purple.png" alt=""></a><b><a name="01c2">&nbsp;</a></b><b>STEP 2.  PLAYER MOVEMENT:
ISOMETRIC or SIDESCROLLER / MULTI-LANE  </b><br><b>a.</b> Create new C# script, name it PlayerMoveAround.cs.

<br><br>
<b>b.</b> Add the content below to the script, save, and in Unity drag the script onto your Player. <br>
The commented-out code is for animation. Un-comment if an Animator is applied to the character art.</font>

<br>
<br>
<center>
<font face="arial"><i>PlayerMoveAround.cs script:</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>PlayerMoveAround :</b> <b>MonoBehaviour</b></font> { <br>
<br>&nbsp; &nbsp; &nbsp; <font color=gray>//public Animator anim;</font>
<br>&nbsp; &nbsp; &nbsp; <font color=gray>//public AudioSource WalkSFX;</font>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Rigidbody2D rb2D;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private bool </b></font> FaceRight =<font face=arial><font color=#365f91><b> true</b></font></font>; <font color=gray>// determine which way player is facing.</font> <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static float</b></font> runSpeed = <font color=#e36c0a><b>10f</b></font>; <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> startSpeed = <font color=#e36c0a><b>10f</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> isAlive =<font face=arial><font color=#365f91><b> true</b></font></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rb2D = transform.GetComponent&lt;Rigidbody2D&gt;();<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//NOTE: Horizontal axis: [a] / left arrow is -1, [d] / right arrow is 1</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//NOTE: Vertical axis: [w] / up arrow, [s] / down arrow</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector3</b></font> hvMove = new <font color=#31849b><b>Vector3</b></font>(Input.GetAxis(<font color=#e36c0a><b>&quot;Horizontal&quot;</b></font>), Input.GetAxis(<font color=#e36c0a><b>&quot;Vertical&quot;</b></font>), <font color=#e36c0a><b>0.0f</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(isAlive == <font face=arial><font color=#365f91><b>true</b></font></font>){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = transform.position + hvMove * runSpeed * Time.deltaTime;<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Input.GetAxis(&quot;Horizontal&quot;) != 0) || (Input.GetAxis(&quot;Vertical&quot;) != 0)){<font color=gray><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
</font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; anim.SetBool (&quot;Walk&quot;, true);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
</font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; if (!WalkSFX.isPlaying){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
</font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WalkSFX.Play();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
</font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; }</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<font color=gray><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp;
anim.SetBool (&quot;Walk&quot;, false);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp;
WalkSFX.Stop();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// Turning. Reverse if input is moving the Player right and Player faces left</font>. 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>((hvMove.x &lt;<font color=#e36c0a><b>0</b></font> &amp;&amp; !FaceRight) || (hvMove.x &gt;<font color=#e36c0a><b>0</b></font> &amp;&amp; FaceRight)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerTurn(); <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; }
<br>
<br> &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private void </b></font> playerTurn(){
<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// NOTE: Switch player facing label</font>
<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FaceRight = !FaceRight;
<br>
<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// NOTE: Multiply player's x local scale by -1.</font>
<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector3</b></font> theScale = transform.localScale;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; theScale.x *= -<font color=#e36c0a><b>1</b></font>;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.localScale = theScale;<br>
        &nbsp; &nbsp; &nbsp; }<br>
        }</font></td>
    </tr>
  </table>
</center>
<font face=arial>
Hit <b>[Play]</b> to test your character motion: WASD or Joystick to move both horizontally and vertically. Turn off Play to continue editing your Scene. 

<br><br>
<b><font face=arial>PLAYER WALKING AUDIO:</font></b><font face=arial><br>
For basic footsteps, <b>[Add Component] AudioSource</b> to the Player with your footsteps sound. <br>
Disable &quot;<b>Play on awake</b>&quot; but make sure &quot;Looping&quot; is enabled. <br>
Uncomment the SFX lines in the PlayerMoveAround script, above, including the if-condition. 
<br>
In the Unity Inspector, drag the footsteps AudioSource Component into the WalkSFX script slot. <br>
Hit Play and walk around!<br>
<br>
For other sounds, like  attacks or getting hurt, [Add Component] separate AudioSources to the Player with each new sound. Turn off both &quot;Play on awake&quot; AND &quot;Looping&quot;. <br>
Add class variables for AudioSource to the relevant scripts, like <b>public AudioSource AttackSFX; </b><br>
Add activation commands to relevant triggers in the same scripts, like <b>AttackSFX.Play(); </b>
</font>

<br><br>
<br><br>
<br>
<a href="#01c"><img src="gamedesign/triangle_purple.png" alt=""></a><b><a name="01c1">&nbsp;</a>TOP DOWN SHOOTER: ROTATE TOWARDS MOUSE</b><br>
<br>
<img src="gamedesign/Unity2D/Art2D_HunterA.png" align=right width=256 border=1>
  <b>PLAYER MOVEMENT</b> 
  (<a href="https://youtu.be/LNLVOjbrQj4" target=vid1>source video</a>): 

<br>
<b>a).</b> Create a <b>GameObject &gt; Empty GameObject.</b> 
<li> In the Inspector name it &quot;<b>Player</b>&quot;. 
<li> Reset Transforms. Assign the Tag = &quot;Player&quot;
<li> Add <b>Physics2D &gt; Rigidbody2D</b>. Set Gravity Scale = 0.</font> 
<li> Add <b>Physics2D &gt; CircleCollider2D</b>.

<br>
<br> 
<b>b).</b> Import a Character sprite  (power-of-two square PNG: 64x64, 128x128, 256x256, 512x512, etc). 
<li><strong>Drag</strong> the art onto the Player in the Hierarchy, to make it a child.
<li><b>Inspector: </b>Set Order in Layer = 100. Rename = <strong>player_art.</strong> Reset Transforms.
  <li>Adjust the size of the Player BoxCollider2D to fit  the player_art body/head.   
  
<br><br>
<b>c). </b>Add FireBase and FirePoint to prepare for shooting:
  <li>Right-click Player to add an <b>Empty Game Object</b> child. Name it<b> &quot;FireBase</b>&quot;.<br />
<li>Right-click FireBase to add an <b>Empty Game Object</b> child. Name it<b> &quot;FirePoint</b>&quot;.
<li>In the Scene move FirePoint to the tip of the gun.

<br><br>
  <b>d).</b> Create a new C# script named &quot;PlayerMove_MouseAim.cs&quot;. Add the content below, save.
  <li> In Unity, apply the script to the Player. 
  <br>
  Hit <b>[Play]</b>.  The player should rotate player towards mouse. <br>
  <br>
</font>
<center>
  <font face="arial"><i>PlayerMove_MouseAim.cs script:</i> <br>
    </font>
    
<table width=100% cellpadding=10 border=1 bgcolor=#ffffff><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> System;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <br>
        <font color=#31849b><b>public class </b></font></font><font color=#0070c0 face="arial"><b>PlayerMove_MouseAim : </b></font><font face=arial>&nbsp; </font><font color=#0070c0 face="arial"><b>MonoBehaviour</b></font> <font face=arial>{ <br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font><font color=#0070c0><b> float</b></font> moveSpeed =<font color=#e36c0a><b> 5f</b></font>;
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> Rigidbody2D rb; <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> Camera cam; <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#0070c0><b>Vector2</b></font> movement; <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font><b><font color="#0070c0"> </font></b><font color=#0070c0><b>Vector2</b></font> mousePos; 
          <br />
&nbsp; &nbsp; &nbsp; <font color="#31849b"><b>public</b></font> Transform fireBase; <br />
<br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Awake(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#a6a6a6>//Assign Rigidbody2D and Camera to variables:</font></b><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb = GetComponent
&lt;Rigidbody2D&gt;(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cam = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;MainCamera&quot;</b></font>).GetComponent&lt;Camera&gt;() as Camera; <br>
&nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>if</b></font> (gameObject != null) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#a6a6a6>//for position, get axis inputs</font></b><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; movement.x = Input.GetAxisRaw (<font color=#e36c0a><b>&quot;Horizontal&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; movement.y = Input.GetAxisRaw (<font color=#e36c0a><b>&quot;Vertical&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#a6a6a6>//for rotation: get mouse position</font></b><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mousePos = cam.ScreenToWorldPoint (<font color=#0070c0><b>Input</b></font>.mousePosition);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#a6a6a6>//actual movement uses Rigidbody2D, so goes in FixedUpdate</font></b><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb.MovePosition(rb.position + movement * moveSpeed * Time.fixedDeltaTime);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#a6a6a6>//actual rotation uses vector math to calculate angle,  then rotates character to mouse </font></b><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#0070c0><b>Vector2</b></font> lookDir = mousePos - rb.position;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float angle = Mathf.Atan2(lookDir.y, lookDir.x) * Mathf.Rad2Deg <font color=#e36c0a><b>-90f</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb.rotation = angle;<br>
&nbsp; &nbsp; &nbsp; }<br>
}</font></td>
    </tr>
  </table>
</center>

<br><br>
<font face=arial><br>
<a href="#01c"><img src="gamedesign/triangle_purple.png" alt=""></a><b><a name="01c1">&nbsp;</a>TOP DOWN SHOOTER: ROTATE TOWARDS MOVEMENT</b> (source <a href="https://youtu.be/gs7y2b0xthU" target=rotate>video</a>)
<br> 
<img src="gamedesign/Unity2D/Art2D_HunterA.png" alt="" width=256 align=right border=1>This script can be applied instead of the one above, to rotate the Player based on movement direction. 

<br><br> 
As above, create an Empty GameObject called Player. 
<ol>
<li> Reset Transforms
<br>
<li> [Add Component] BoxCollider2D 
<br>
 <li> [Add Component] Rigidbody2D (Gravity Scale = 0). <br>
<li> Add art as a child. Name it &quot;player_art&quot;.<br>
<li> Adjust the BoxCollider to surround the player-art torso and head. <br>
<li> RightClick Player to add a GameObject as a child. Name it &quot;FirePoint&quot;. 
<br>In the Scene move it to end of gun barrel.
<br>
<li> Create a C# script called &quot;PlayerMove_Rotate.cs&quot;. 
<br>
Add the content below, save, and apply to the Player.
</ol><br>
</font>
<center>
  <font face="arial"><i>PlayerMove_Rotate.cs script:</i> <br>
    </font>
<table width=100% cellpadding=10 border=1 bgcolor=#ffffff><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> UnityEngine;<br>
<font color=#3ab050><b>using</b></font> System;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<br>
<font color=#31849b><b>public class </b></font></font><font color=#0070c0 face="arial"><b>PlayerMove_Rotate :</b></font><font face=arial>&nbsp; </font><font color=#0070c0 face="arial"><b>MonoBehaviour</b></font> <font face=arial>{ <br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font><font color=#0070c0><b> float</b></font> moveSpeed =<font color=#e36c0a><b> 5f</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font><font color=#0070c0><b> float</b></font> rotationSpeed =<font color=#e36c0a><b> 720f</b></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){
<br>          
<font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; <font color=#0070c0><b>float</b></font> horizontalInput = Input.GetAxis (<font color=#e36c0a><b>&quot;Horizontal&quot;</b></font>);<br>       
<font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; <font color=#0070c0><b>float</b></font> verticalInput =  Input.GetAxis (<font color=#e36c0a><b>&quot;Vertical&quot;</b></font>);<br>          
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; </font><font color=#0070c0><b>Vector2</b></font> moveDirection = new <font color=#0070c0><b>Vector2</b></font>(horizontalInput, verticalInput);<br>
&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; <font color=#0070c0><b>float</b></font> inputMagnitude = Mathf.Clamp01(moveDirection.magnitude);<br>
&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; moveDirection.Normalize();<br>
<br>
&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; transform.Translate(moveDirection * moveSpeed * inputMagnitude * Time.deltaTime, Space.World);<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>if</b></font> (moveDirection != <font color=#0070c0><b>Vector2</b></font>.zero) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Quaternion toRotation = Quaternion.LookRotation (<font color=#0070c0><b>Vector3</b></font>.forward, moveDirection);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.rotation = Quaternion.RotateTowards (transform.rotation, toRotation, rotationSpeed * Time.deltaTime);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; }<br>
          <br>
          }</font></td>
    </tr>
  </table>
</center>
<br>
<br><br>
<a href="#01c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01c3">&nbsp;</a>
<font face=arial>
<b>SIDESCROLLER / MULTI-LANE ENVIRONMENT:</b>

<ol type="a">
<li> Create an Empty GameObject called &quot;<b>SETTING</b>&quot; to act as a folder. 

<br><br>
<li> <b>Add Background Art into the Scene: </b>Drag into the Hierarchy all<b> background sprites</b>, and drag them onto SETTING to make them children. For a sidescroller, this art should include a significant ground space (seen at angle) and a wall space (like the wall of a room interior, or an exterior building wall).

<br><br>
<img src="gamedesign/Unity2D/BoxCollider2D01.png" alt="" align=right>
<li> Create an <b>Empty Game Object</b>, drag it onto SETTING, and in the Inspector name it &quot;<b>Collider_Ground</b>&quot;. 
<br><b>[Add Component]</b> Physics &gt; <b>BoxCollider2D</b> and adjust the collider using the <b>Edit Collider</b> button to fit the bottom of background elements, along their entire length, to create a stopping place for your character. 

<br><br>
<li> Duplicate Collider_Ground and name it &quot;<b>Collider_Left</b>&quot;. Use <b>Edit Collider</b> to create a left-side barrier.

<br><br>
<li> Duplicate again for &quot;<b>Collider_Wall</b>&quot;. Use <b>Edit Collider</b> to surround the back wall in the Background art. <br>
Re-position Player so that its collider (around the feet) is standing on the ground area, between all the background colliders. 
<br><br>Hit <b>[Play]</b> to test! Turn off [Play] to resume editing.
</ol>

<br><br><br>
<b>WHO'S IN FRONT? DYNAMIC SORTING ORDER:</b> 
<br>
Does your game have multiple NPC characters pasing in front of and behind the player character?
They will need to have their colliders set to isTrigger and to have any attack interaction scripts set to OnTriggerEnter2D(). <br>
<br>
In order for character that are in the lower / foreground lane to appear in front of  characters in the middle or top / back lanes, their sorting order must be changed in relation to their Y-position: the further down the character, the higher their Sorting number, the more it appears in front.

<br><br>
Create a new C# script called "<b>CharacterSortingOrder.cs</b>" and add it to all characters: Player and NPCs.
<br>
<br>


<center>
<i>CharacterSortingOrder.cs</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections;<br> 
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br> 
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>CharacterSortingOrder :</b> <b>MonoBehaviour</b></font> {<br>
<br>    
&nbsp; &nbsp; &nbsp; <font color=gray>// Update is called once per frame</font>

<br>    
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update()
{<br>        
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
GetComponentInChildren&lt;SpriteRenderer&gt;().sortingOrder = Mathf.RoundToInt(transform.position.y * 100f) * -1;<br>    
&nbsp; &nbsp; &nbsp; }<br>
}
</div>

<br><br>
<a href="#01c"><img src="gamedesign/triangle_purple.png" alt=""></a><b><a name="01c4">&nbsp;</a>SIDESCROLLER / MULTI-LANE CLIMBING:</b> 
<br>
With no Gravity, the usual Jump script will not work. The idea of Jumping can still be used to get onto higher objects, with a custom script that manages both the upward and downward movement.

<br><br>
Alternatively, we can make some objects trigger Player animation, to make the player appear to climb objects or stairs. These objects need just: 
<ol>
<li> a <b>tag</b> for identifcation 
<br>
<li> <b>BoxCollider2D</b> Components, set to <b>isTrigger</b>, adjusted to fit around the area where we want the animation. 
</ol>

 We then add a <b>script</b> to the Player (or modify the PlayerMoveAround script) with <b>OnTriggerStay2D</b> functions to trigger climbing animation when encountering those tagged objects , as the Player moves to the top or down the other side. A similar system can be used for stair-walking up or down.<br>
<b><br>
</b> For an area where you want a distinct animation (a ladder, the side of a box, etc):

<ol type="a">
<li> <b>Create</b> an <b>Empty GameObject</b>. 

In the Inspector name it &quot;<b>Collider_objectName</b>&quot; and reset <b>Transforms</b>.

<br><br>
<li> <b>Move</b> Collider_objectName in the Scene to where the object visual  exists in the background (or drag the art sprite into the Hierarchy, and make another GameObject to parent both the Sprite and Collider_objectName). 

<br><br>
<li> Select Collider_objectName and <b>[Add Component]</b> Physics2D &gt; <b>BoxCollider2D.</b> 
<br>
Set this to <b>isTrigger</b>, and <b>Edit Collider</b> to surround the area meant to trigger the climbing animation. 


<br><br>
<li> Add a <b>tag</b> to the GameObject that will be used to identify it for the collision (can  be &quot;climbable&quot; for a ladder,  or &quot;climbLeft&quot; and &quot;climbRight&quot; for the two sides of an abject, like a box, in which case two separate GameObjects would need to be created, one for each side).

<br>
The Animation clips can be called &quot;<b>charName_ClimbLeft</b>&quot; and &quot;<b>charName_ClimbRight</b>&quot;. 
<br>
In the <b>Animator</b>, draw <b>transitions to and from</b> the default Idle clip to both of these climb clips.
<br>
Create <b>Parameters</b> to regulate those Animator transitions:  <b>bools</b> named &quot;<b>ClimbLeft</b>&quot; and &quot;<b>ClimbRight</b>&quot;. 


<br><br>
<li> Create new <b>C# script</b>, name it &quot;<b>PlayerMoveAround.cs</b>&quot;.<br>
Add the content below to the script, save, and in Unity drag the script onto your Player. <br>
The commented-out code is for animation. Un-comment if an Animator is applied to the character art.
</ol>
<br>
<center>
<i>PlayerClimb.cs script:</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
      <font color=#3ab050><b>using</b></font> System.Collections;<br>
      <font color=#3ab050><b>using</b></font> UnityEngine;<br>
      <br>
      <font color=#31849b><b>public class</b></font> <font color=#0070c0><b>PlayerClimb :</b> <b>MonoBehaviour</b></font> { <br>
      <br>
      &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Animator anim;<br>
      &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public Rigidbody2D</b></font> rb2D;<br>
      &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> isAlive = <font color=#365f91><b>true</b></font>;<br>
      <br>
      &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
      &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;animator = gameObject.GetComponentInChildren&lt;Animator&gt;();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rb2D = transform.GetComponent&lt;<font color=#31849b><b>Rigidbody2D</b></font>&gt;();<br>&nbsp; &nbsp; &nbsp; }
      <br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> OnTriggerStay2D(Collider2D other){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#e36c0a><b>&quot;climbLeft&quot;</b></font>){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; anim.SetBool (<font color=#e36c0a><b>&quot;ClimbLeft&quot;</b></font>, true);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  } <font color=#3ab050><b>else if</b></font> (other.gameObject.tag == <font color=#e36c0a><b>&quot;climbRight&quot;</b></font>){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; anim.SetBool (<font color=#e36c0a><b>&quot;ClimbRight&quot;</b></font>, true);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; anim.SetBool (<font color=#e36c0a><b>&quot;ClimbLeft&quot;</b></font>, false);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; anim.SetBool (<font color=#e36c0a><b>&quot;ClimbRight&quot;</b></font>, false);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font><b> </b>OnTriggerExit2D(Collider2D other){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#e36c0a><b>&quot;climbLeft&quot;</b></font>){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; anim.SetBool (<font color=#e36c0a><b>&quot;ClimbLeft&quot;</b></font>, false);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <font color=#3ab050><b>else if</b></font> (other.gameObject.tag == <font color=#e36c0a><b>&quot;climbRight&quot;</b></font>){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; anim.SetBool (<font color=#e36c0a><b>&quot;ClimbRight&quot;</b></font>, false);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; }<br>
}<br>
</div>

This script can be adopted for any interaction you want with objects in the environment.

<br>
<br><br>
<p>
<a href="#01c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01c5">&nbsp;</a><b>ADVANCED ISOMETRIC MOVEMENT: BLEND-TREES</b><br>
 A<strong> BlendTree</strong> is the best choice for animating an isometric character <strong>transitioning smoothly 
between multiple drections</strong>. This can be used for a simple four directons: cardinal right, back, left, down or the diagnonals. It can be used for an animaton in 8 directions (all cardinal and dagnonals) or a six-directin animation (right and left cardinals, and the four diagonals).<br>
<br>
Watch these video tutorials (<a href="https://youtu.be/whzomFgjT50" target=brackeys>Brackeys</a>, <a href="https://youtu.be/32VXj5BB7wU?si=ILXVmJsPr9sQN9d0" target=other>other</a>, and a quick <a href="https://youtu.be/DnqcxhOV-xQ?si=BDMIGcpcnu4zTe2K" target=3min>3-minute 3D</a> example) for player movement  using a <b>BlendTree</b> to switch between all 8 animations, depending on ranges of angle of movement.<br><br>

<strong>1. Import a character spritesheet</strong> 
<br>
This is for a top-down character that includes, at minimum, a front view idle, a front view walk, a right-side walk, a left-side walk, and a back walk (in this example, the character will default to front view for all idles, but we could have idle animations in all directions, too). For diagonal motion we can also include front-right, back-right. frnt-left, and back-left walking motions.

<br>
<p><strong>2. In the INSPECTOR:</strong>
<ul>
    <li>Sprite Mode = Multiple
    <li>Pixel Per Unit = 64 (for this example)
    <li>Hit [apply]
</ul>
Hit the <strong>[Sprite Editor]</strong> button (middle-right). <br />
  Open Slice to choose &quot;Grid By Cell Count&quot;, c=4, r=4. Ht [Slice] and [Apply]
  
  
  <br />
  <br />
  <strong>3. Make the Player Game Object</strong> and add the art:
<ol>
<li>RightClick the Hierarchy to make an Empty Game Object, name it &quot;Player&quot;. Reset Transforms and in the upper-left of the Inspector assign a diamond icon. 
<li>[Add Component] CircleCollider2D and Rigidbody2D, with Gravity = 0 and Constraints &gt; Freeze Rotation Z enabled. 
<li>In the Project panel open the player spritesheet (click the right-side triangle on the art) to see all the poses as separate objects. 
<li>Drag the first pose into the Hierarchy onto the Player object to make the art a child. Rename it player_art. 
</ol>

<br />
   <strong>4. Create the animation clips</strong>: <br />
   </font>
<ol>
  <li>In your Project panel Art folder, add an Animation folder for all of your animation assets.</li>
  <li><font face="arial">Open Window &gt; Animation &gt; Animation</font>.</li>
  <li><font face="arial">With the Hierarchy player_art selected, in the Animation panel clik the &quot;create&quot; button. </font>It wll ask you to name your first animain clip for this chatacter. Name it &quot;<strong>player_idle</strong>&quot; and put it in the Animatin folder.</li>
  <li><font face="arial">In the upper left of the Animation panel, click the player_idle clip to choose &quot;<strong>Create New Clip</strong>&quot;.</font> Name the new clip &quot;<strong>player_walk_front</strong>&quot;. Repeat for more clips: &quot;<strong>player_walk_right</strong>&quot;, &quot;<strong>player_walk_left</strong>&quot;, &quot;<strong>player_walk_back</strong>&quot;, and for this example, &quot;<strong>player_hurt</strong>&quot;. (you can also have player_attack, etc. It is also OK to have multple spritesheets contribute to a single character's animation, or to have an 8x8 instead of a 4x4).</li>
  <li>For each clip, drag in the relevant sprites from the Project panel. Spead them in the timeline so each takes about 30 frames. For looping animatiosn like idle or walk, add the first pose again at the end, at frame 40. For single-pose animations, like the Hurt pose, include that pose twice, at 0 and 20.</li>
  </ol>
  
<br>  
<strong>5. Set up the Animator</strong> for a <strong>BlendTree</strong>:
<ol>
    <li><strong>OPEN ANIMATOR PANEL:</strong> Select the player_art in the hierarchy. Notice it now has the Animator component (which shuld only be on the art, never the parent object). <strong>Doubleclick the Controller</strong> to open the <strong>Animator panel</strong>. Notice the [player_idle] node is organge (so it is the default).</li>
  <li><strong>MAKE  BLENDTREE NODE:</strong> Right-click an empty part of the Animator panel to choose <strong>Create State &gt; From New Blend Tree</strong>. This adds a Blend Tree node.
  In the Inpector name it &quot;<strong>Walk</strong>&quot;.
  <li><strong>MAKE TRANSITIONS: </strong>Right-click the [player_idle] node to choose &quot;<strong>Make Transition</strong>&quot; and left-click the [Walk] BlendTree node to make the transition. Repeat in the reverse direction: right-click the [walk] node to chose &quot;Make Transition&quot; and left-click the [player_idle] node.
  <li><strong>MAKE PARAMETERS:</strong> In the Parameters tab on the left, add <strong>three new floats</strong> named &quot;<strong>horizontal</strong>&quot;, &quot;<strong>vertical</strong>&quot;, and &quot;<strong>magnitude</strong>&quot;.
	<li><strong>SET MAGNITUDES:</strong> Select the transitions from [player_idle] to [walk]. In the Inspector hit [+] to add a parameter. Set it to magnitude, <strong>greater</strong> than 0. Above, turn off 'Has Exit Time&quot;. Under Settings turn off &quot;Fixed Duraton&quot;
  and set &quot;Transtion Duration&quot; = 0.
  <br>
  For the return transition back to [player_idle], repeat these steps, but set magnitude to <strong>less</strong> than 0.001.
  
  
    <li><strong>OPEN THE BLEND TREE:</strong> Double-click the BlendTree node to enter it (in the upper left corner, note you are insde the node, and you can click on &quot;Base State&quot; to return back up to
    see the idle, etc).  
  <li><strong>SET BLEND TYPE:</strong> In the Inspector (with the node selected) set Blend Type from 1D to &quot;<strong>2D Simple Directional</strong>&quot;. Change Parameters to &quot;horizontal&quot; and &quot;vertical&quot;.    
	<li><strong>ADD MOTION FIELDS:</strong> Under Motion click the <strong>[+]</strong> to add a <strong>Motion Field</strong>. Click the hotspot to choose the first clip: <strong>player_walk_right</strong>. Click the [+]  more times to add your clips in a <strong>counter-clockwise</strong> drection: choose player_walk_back, player_walk_left, and player_walk_front.
	<li> <strong>SET MOTION FIELD DIRECTIONS:</strong> In the display we have four blue dot for the motions, and a red dot for the current player directon. Set the position X and Y for each blue dot: 
    <ul>
    <li>Right = 1, 0 
    <li>Back = 0, 1
    <li>Left = -1, 0
    <li>Front = 0, -1
    </ul>

</ol>


<br />
<center>
  <font face="arial"><i>PlayerMoveAround_BlendTree.cs script:</i><br />
    </font>
  <table width="100%" cellpadding="10" border="1" bgcolor="#f7f7f7">
    <tr>
      <td><font face="arial"><font color="#3ab050"><b>using</b></font> System.Collections.Generic;<br />
        <font color="#3ab050"><b>using</b></font> System.Collections;<br />
        <font color="#3ab050"><b>using</b></font> UnityEngine;<br />
        <br />
        <font face="arial"><font color="#31849b"><b>public class </b></font></font><font color="#0070c0"><b>PlayerMoveAround_BlendTree :</b> <b>MonoBehaviour</b></font> { <br />
        <br />
        &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>public</b></font> Animator anim; <br />
        &nbsp; &nbsp; &nbsp; <font color="gray">//public AudioSource WalkSFX;</font> <br />
        &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>public</b></font> Rigidbody2D rb2D;<br />
        &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>public static float</b></font> runSpeed = <font color="#e36c0a"><b>10f</b></font>; <br />
        &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>public float</b></font> startSpeed = <font color="#e36c0a"><b>10f</b></font>;<br />
        &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>public bool</b></font> isAlive =<font face="arial"><font color="#365f91"><b> true</b></font></font>;<br />
        <br />
        &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>void</b></font> Start(){<br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;anim = gameObject.GetComponentInChildren&lt;Animator&gt;();
        <br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rb2D = transform.GetComponent&lt;Rigidbody2D&gt;();<br />
        &nbsp; &nbsp; &nbsp; }<br />
        <br />
        &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>void</b></font> Update(){<br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="gray">//NOTE: Horizontal axis: [a] / left arrow is -1, [d] / right arrow is 1</font><br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="gray">//NOTE: Vertical axis: [w] / up arrow, [s] / down arrow</font><br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>Vector3</b></font> movement = new <font color="#31849b"><b>Vector3</b></font>(Input.GetAxis(<font color="#e36c0a"><b>&quot;Horizontal&quot;</b></font>), Input.GetAxis(<font color="#e36c0a"><b>&quot;Vertical&quot;</b></font>), <font color="#e36c0a"><b>0.0f</b></font>);<br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color="#3ab050"><b>if</b></font><b><font color="#31849b"> </font></b>(isAlive == <font face="arial"><font color="#365f91"><b>true</b></font></font>){<br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = transform.position + movement * runSpeed * Time.deltaTime;
        
        
        <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; animator.SetFloat(<font color="#e36c0a"><b>&quot;horizontal&quot;</b></font>, movement.x); <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; animator.SetFloat(<font color="#e36c0a"><b>&quot;vertical&quot;</b></font>, movement.y); <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; animator.SetFloat(<font color="#e36c0a"><b>&quot;magnitude&quot;</b></font>, movement.magnitude); <br><br>
        <font color="gray">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="gray">// &nbsp;Sound Effects:</font><br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Input.GetAxis(&quot;Horizontal&quot;) != 0) || (Input.GetAxis(&quot;Vertical&quot;) != 0)){<font color="gray"><br />
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="gray">// &nbsp; &nbsp; if (!WalkSFX.isPlaying){<br />
              &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="gray">// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WalkSFX.Play();<br />
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="gray">// &nbsp; &nbsp; }</font><br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<font color="gray"><br />
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="gray">// &nbsp; &nbsp;
              WalkSFX.Stop();</font><br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; }<br />
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
        &nbsp; &nbsp; &nbsp; }<br />
        }</font></td>
    </tr>
  </table>
</center>

<p>Hit <b>[Play]</b> to test your character motion: WASD or Joystick to move both horizontally and vertically. 
<br>Turn off Play to continue editing your Scene.


<br><br><br><br>
</td></tr></table>
</div></td>
</tr></table>
<br>

<a name="01d">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion2">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1D]</b> <b>CAMERA FOLLOW</b> &nbsp; &nbsp; &nbsp; &nbsp;</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr><td valign=top>
<center>
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>
<h3><font color=purple><b>[1D]:</b></font> <b>CAMERA FOLLOW</b></font></h3>
</center>

In most Platformers the camera is expected to follow the player position. A <b>LERP</b> (linear interpolation) will move the camera smoothly to the player's new position, rather than jumping jerkily. <br>
<br>
Alternatively, see below for a &quot;Bounded&quot; camera that follows the player but stops at world boundaries; good for an exploration game.

<br><br>
<div class="blockNote">
<b>CAMERA DISTANCE:</b>
<br>
In a 2D Unity game, the MainCamera should always be <b>Z postion = -10</b> (&quot;in front&quot; of all game content).<br>
<br>
All other assets must be <b>Z position = 0</b> (grid, characters, pickups, even the folder-objects that hold content).<br>
<br>
To &quot;move&quot; the camera further back, in order to see more of the screen, change the <b>Camera SIZE</b> in the Inspector. <br>

<br>
By default, <b>Size=5</b>. Just  a small change to 7 or 8 can show a lot more content!<br>
</div>



<br>
<br><br>
<b>CAMERA-FOLLOW-PLAYER SCRIPTS:</b><br><br>
<b>[1]. FOLLOW WITH LERP</b> (<em>A delay with motion:</em> <a href="https://answers.unity.com/questions/633207/vector2-lerp-probably-a-simple-solution-c.html" target=LERP2D>2D source</a> and <a href="https://youtu.be/MFQhpwc6cKE" target=LERP3D>3D source</a>. See this excellent <b><a href="https://gamedevbeginner.com/the-right-way-to-lerp-in-unity-with-examples/#lerp_vector3" target=lerp>LERP Tutorial</a></b>).
 
<ol type="a">
<li> Create a new C# script, name it CameraFollow2DLERP.cs.
<br><br>
<li> Drag it onto the MainCamera. Note that higher camSpeed values cause the camera to move as fast as the player (4, better for action), while low ones cause a big delay (1, for slower player movement).
</ol>

<br><br>

<center>
<i>CameraFollow2DLERP.cs script:</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#0070c0><b>CameraFollow2DLERP :</b> <b>MonoBehaviour</b></font> {<br>

  <br> 
  &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> GameObject target;<br>
    &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> camSpeed = 4.0f; <br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; target = GameObject.FindWithTag(&quot;Player&quot;);<br>
    &nbsp; &nbsp; &nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate () {<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Vector2 pos = Vector2.Lerp ((Vector2)transform.position, (Vector2)target.transform.position, camSpeed * Time.fixedDeltaTime);<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new Vector3 (pos.x, pos.y, transform.position.z);<br>
&nbsp; &nbsp; &nbsp; }<br>}<br><br>
</div>


(NOTE: For 3D projects, here is a 3D camera follow script: <a href="GameDesign/Unity2D/CameraControl3DLERP.cs" target=lerp><b>CameraControl3DLERP.cs</b></a>). 

<br><br>
<b>c.</b> Hit <b>[Play]</b> and test  the scripts by moving the Player. 

<br><br><br><br>
<b>[2]. ALTERNATIVE 1: MATHF FOLLOW</b>
<br>
</font>
<center>
<i>CameraFollow.cs script:</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
      <font color=#3ab050><b>using</b></font> System.Collections;<br>
      <font color=#3ab050><b>using</b></font> UnityEngine;<br>
      <br>
      <font color=#31849b><b>public class </b></font><font color=#0070c0><b>CameraFollow :</b> <b>MonoBehaviour</b></font> {<br>
      <br>
      &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Transfrom target;<br>
      <br>
      &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update () {<br>
      &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new Vector3(<br>
      &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position.x, <br>
      &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Mathf.Clamp(targetToFollow.positon.y, 0f, 10f),</font>
      
      <br>
      &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position.y,<br>
      &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  transform.position.z);<br>
      &nbsp; &nbsp; &nbsp; }<br>
      }<br>
</div>



<br><br>
<b>[3]. ALTERNATIVE 2: BASIC FOLLOW</b> (<a href="https://youtu.be/MFQhpwc6cKE" target=follow>video source</a>) <br>
Try this <a href="GameDesign/Unity2D/CameraFollowX.cs" target=lerp><b>CameraFollowX.cs</b></a> script onto the Camera for a side-scrolling game (NOTE: this script only follows the X-axis, for scrolling backgrounds. Be sure player has Player Tag aplied).
<br>Try this <a href="GameDesign/Unity2D/CameraFollow.cs" target=lerp><b>CameraFollow.cs</b></a>
script if you need the camera (or another object) to follow in all directions.
<br><br>

<br><br>

<b><font face="arial">[4]. BOUNDED CAMERA (typically for top-down games):</font></b> <br>
For a  camera that follows the player but does not move/show outside the play area, create the following <b><font face="arial">CameraMoveBounded.cs</font></b> script and apply it to the Camera. <br>
<br>
In the  Inspector, enter the <b><font face="arial">Max</font></b> and <b><font face="arial">Min</font></b> position X and Y values for the UpperRight and LowerLeft corners of the space. Theaeasiest way to get these values is to move the Camera to those corners and copy Transform values. <br>
If the original space was 2x the game screen size, try max = 2 x 10 and min = -10 x -2. <br>
<br>
<em><b>NOTE:</b></em> LERP takes 3 arguments: current position, destination, and speed. CLAMP limits the range of a value between two other values. <br>
<br>

<center>
<em>CameraMoveBounded.cs</em>: 
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#3ab050><b>public class</b></font></font> <font color=#31849b face="arial"><b>CameraMoveBounded : MonoBehaviour</b></font><font face="arial"> {<br>
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>pivate</b></font> <font color=#31849b><b>Transform</b></font> target; <font color=#aaaaaa>// the player</font><br>
          &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> <font color=#31849b><b>float</b></font> smoothing = 0.6f; <font color=#aaaaaa>// how quickly  camera moves to player</font><br>
          &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> <font color=#31849b><b>Vector2</b></font> minPosition; <font color=#aaaaaa>// X &amp; Y values for&nbsp;player area LowerLeft corner</font><br>
          &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> <font color=#31849b><b>Vector2</b></font> maxPosition; <font color=#aaaaaa>// X &amp; Y values for UpperRight corner</font><br>
          <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;target = GameObject.FindWithTag(&quot;Player&quot;).GetComponent&lt;Transform&gt;();<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
          &nbsp; &nbsp; &nbsp; &nbsp;<b><font color=#31849b>void</font></b> Update () {<br>
          &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (transform.position != target.position){<font color=#31849b><b> <br>
            </b></font>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>Vector3</b></font> targPos = new Vector3(target.position.x, target.position.y, transform.position.z);<br>
          &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; targPos.x=Mathf.Clamp(targPos.x, minPosition.x, maxPosition.x);<br>
          &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; targPos.y=Mathf.Clamp(targPos.y, minPosition.y, maxPosition.y);<br>
          &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = Vector3.Lerp(transform.position, targPos, smoothing);<br>
          &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}<br>
          &nbsp; &nbsp; &nbsp; &nbsp;}<br>
          }
</div>

<br>
<br><br>
</td></tr></table>
</div></td>
</tr></table>
<br>

<a name="01e">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion1">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1E]</b> <b>GAMEHANDLER / PLAYER STATE / PLAYER DAMAGE</b> &nbsp; &nbsp; &nbsp; &nbsp;</font>
</button>
<div class="panel">
  <table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=purple><b>[1E]:</b></font> <b>PLAYER STATE</b></font>
<br>
<a href="#01e1">Canvas</a> &nbsp; | &nbsp; 
<a href="#01e2">GameHandler</a> &nbsp;|  &nbsp; 
<a href="#01e3">Static Variables Explained</a> &nbsp;| &nbsp; 
<a href="#01e4">Player Damage script</a>
<br> 
  Make a <a href="#01e5">GameHandlerCanvas Prefab</a> &nbsp;| &nbsp; 
  More Advanced UI: <a href="#01e6">Heart Health System</a> or <a href="#01e7">HealthBar</a>

</font>
</center>

<font face=arial>
<br>
<b><font face=arial><b><font face=arial><a href="#01e"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="01e1">&nbsp;</a></b></font><font color=purple>STEP 1.</font> CANVAS</b>

<br><b>1. CANVAS:</b> If you do not already have a <b>GameObject &gt; UI &gt; Canvas</b> object in your Hierarchy, create one.<br>
Note  in the Scene view the Unity Canvas displays enormous compared to the Sprite / Tilemap content (by design), but they overlap perfectly in the Game view.

<br><br>
<b>a.</b> In Inspector, set <b>Canvas Scaler &gt; UI Scale Mode</b> from &quot;Constant Pixel Size&quot; to &quot;<b>Scale With Screen Size</b>&quot; and Reference Resolution = <b>1280 x 720</b>. 

<br><br>
<b>b. Add Player Stat #1:</b> 
</font><ol>
<li> <font face="arial"><b>BACKGROUND: </b>Add a GameObject &gt; UI &gt; <b>Image</b>. Name it &quot;<b>imageHealthBG</b>&quot;. 

<br>
Size to fit in an upper corner, around 250 x 60. Set color dark and alpha transparency = 160.
<br>
</font>
<li> <font face="arial"><b>TEXT: Rightclick </b>imageHealthBG to add a UI &gt; <b>Text - TextMehPro</b>. Name it &quot;<b>textHealth</b>&quot;. Size to fit within imageHealthBG, around 240 x 50. Set text field to &quot;HEALTH: ???&quot;, Font Size = 36, bold, color light.
</font></ol><font face=arial><em><b>NOTE: </b></em>When the first TextMeshPro object is added, Text or Button, the import window appears. Click the upper button [Import TMP Essentials], but not the lower one. In tem project, it is impprtant that only one person imprt TMP, and then quickly push, to avoid GiHub conflits.
<br />

<a href="gamedesign/Unity2d/TextMeshPro_Import.png" target=new>
<img src="gamedesign/Unity2d/TextMeshPro_Import.png" style="width:70%; height:auto;"></a>


  <br><br>
<b>c. Add Player Stat #2:</b> 
<ol>
<li> <b>BACKGROUND:</b> Add a GameObject &gt; UI &gt; <b>Image</b>, name it &quot;<b>imageTokensBG</b>&quot;. <br>
Size to fit in the opposite upper corner, around 250 x 60. Set color dark and alpha transparency = 180.

<br>
<li> <b>TEXT: Rightclick </b>imageHealthBG to add a UI &gt; <b>Text - TextMehPro</b>, name it &quot;<b>textTokens</b>&quot;. Size to fit within imageHealthBG, around 240 x 50. Set text field to &quot;Gold: ???&quot;, Font Size = 36 and bold, color light.
</ol>

<br><br>
<em><b>NOTE: </b></em>Naturally, these stat names should be changed per the needs of your game, both in content and values.

<br><br><br>
<b><font face=arial><b><font face=arial><a href="#01e"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="01e2">&nbsp;</a></b></font><font color=purple>STEP 2.</font> GAMEHANDLER</b><br>
<b>a.</b> Create a new Empty Game Object. In the Inspector name it &quot;<b>GameHandler</b>&quot; and reset Transforms. 

In the Inspector upper left corner add the <b>tag</b> &quot;<b>GameHandler</b>&quot; to the project and then add it to the GameHandler object<br><br><b>b.</b> Create a new C# script called GameHandler.cs. 
<br>
Add the content below and drag the script onto your GameHandler object.

<br><br>
<em><b>NOTE:</b></em> We put all of these critical player stats on the GameHandler instead of the Player to allow them to persist even if the player object is &quot;killed&quot; (removed). <br>
<br></font>

<center>
<font face="arial"><em>GameHandler.cs script:
(current health is displayed as text)
</em>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;
<br><font color=#3ab050><b>using</b></font> System.Collections;
<br><font color=#3ab050><b>using</b></font> UnityEngine;<br />
<font color="#3ab050"><b>using</b></font> TMPro;<br>
<font color=#3ab050><b>using</b></font> UnityEngine.UI;
<br><font color=#3ab050><b>using</b></font> UnityEngine.SceneManagement;
<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>GameHandler : MonoBehaviour</b></font></font></font></font> {    
<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>private </b></font>GameObject player;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static int </b></font>playerHealth =<b><font color="#e36c0a"> 1</font></b><font color=#e36c0a><b>00</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public int</b></font> StartPlayerHealth =<b><font color="#e36c0a"> 1</font></b><font color=#e36c0a><b>00</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> TMP_Text healthText;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static int</b></font> gotTokens = <font color=#e36c0a><b>0</b></font>;
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> TMP_Text tokensText; 

<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>bool</b></font> isDefending = <font color=#365f91><b>false</b></font>; <br>

<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static bool</b></font> stairCaseUnlocked = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp; <font color=gray>//this is a flag check. Add to other scripts: GameHandler.stairCaseUnlocked = true; </font>
<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> <font color=#31849b><b>string</b></font> sceneName;
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static string</b></font> lastLevelDied;  &nbsp;<font color=gray>//allows replaying the Level where you died</font><br>

<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;Player&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sceneName = 
SceneManager.GetActiveScene().name;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//if (sceneName=="MainMenu"){ //uncomment these two lines when the MainMenu exists</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//}</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerGetTokens(<font color=#31849b><b>int</b></font> newTokens){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gotTokens += newTokens;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>
&nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerGetHit(int damage){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(isDefending == <font color=#365f91><b>false</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth -= damage;

<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (playerHealth >=<font color=#e36c0a><b>0</b></font>){ <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (damage > <font color=#e36c0a><b>0</b></font>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; <font color=gray>//play GetHit animation</font>:<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerHurt&gt;().playerHit();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }

<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(playerHealth &gt; StartPlayerHealth){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(playerHealth &lt;= <font color=#e36c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = <font color=#e36c0a><b>0</b></font>;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerDies();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }

<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> updateStatsDisplay(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; healthText.text = <font color=#e36c0a><b>&quot;HEALTH: &quot;</b></font> + playerHealth;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tokensText.text = <font color=#e36c0a><b>&quot;GOLD: &quot;</b></font> + gotTokens;<br>
&nbsp; &nbsp; &nbsp; } <br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerDies(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerHurt&gt;().playerDead(); &nbsp; &nbsp; &nbsp; <font color=gray>//play Death animation</font> 
<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastLevelDied = sceneName; &nbsp; &nbsp; &nbsp; <font color=gray>//allows replaying the Level where you died</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(DeathPause());<br>
&nbsp; &nbsp; &nbsp; }<br><br> 
&nbsp; &nbsp; &nbsp; IEnumerator DeathPause(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerMove&gt;().isAlive = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerJump&gt;().isAlive = <font color=#365f91><b>false</b></font>;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new </b></font> WaitForSeconds(<font color=#e36c0a><b>1.0f</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color=#e36c0a><b>&quot;EndLose&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> StartGame() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color=#e36c0a><b>&quot;Level1&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// Return to MainMenu</font><br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> RestartGame() {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time.timeScale = <font color=#e36c0a><b>1f</b></font>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color=#e36c0a><b>&quot;MainMenu&quot;</b></font>);<b><br>
</b><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Reset all static variables here, for new games:</font><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// Replay the Level where you died</font><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> ReplayLastLevel() {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time.timeScale = <font color=#e36c0a><b>1f</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(lastLevelDied);
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Reset all static variables here, for new games:</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> QuitGame() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#if UNITY_EDITOR</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UnityEditor.EditorApplication.isPlaying = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#else</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Application.Quit(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#endif</font><br>
&nbsp; &nbsp; &nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> Credits() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color=#e36c0a><b>&quot;Credits&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; }
<br>
}
</div>

<br>
<b>c.</b><b> Make a Prefab:</b> Drag the GameHandler object into the Project panel to make a Prefab, and add this Prefab to every Scene, so the static variables can preserve player state information between Scenes.
<br><br><br>

<div class="blockNote">

<a href="#01e"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01e3"></a>

<h3>NOTES ABOUT STATIC VARIABLES:</h3>

Class <strong>Static Variables</strong> can be used for <strong>Player  &quot;states&quot;</strong> (like Player health) to preserve  information between Scenes.

Want to keep track of player health, gold, a weapon charge, or even whether the player has already collected or killed something in a previous scene, so the player sees that change maintained when they return to that scene later? Set a static variable in the GameHandler to hold that information (and clear all that information on Restart).<br>
<br>
While non-static class variables are accessed through a reference to the GameObject that holds their script, <b>static variables are accessed directly through the class</b>. 

<br><br>
For example, in GameHandler.cs (above), there is a class static variable:
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static int</b></font> 
playerHealth;

<br><br>
if we want <b>another script</b> to update the value of this static variable, or to check it, 
<br>
we call it directly from the Class:<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>int</b></font> pHealth = <b>GameHandler.playerHealth</b>; <br>
<br />
or <br />
&nbsp; &nbsp; &nbsp;<b>GameHandler.playerHealth</b> +=<font color="#e36c0a"><b> 1</b></font>){<br />
<br>
or <br>
&nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (<b>GameHandler.playerHealth</b> &gt;=<font color=#e36c0a><b> 1</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//do a thing</font><br>
&nbsp; &nbsp; &nbsp; }


<br><br><br>
<h3>NON-STATIC VARIABLES:</h3>
 This is different with  <b>non-static variables</b>, which need a reference to the local GameObject in the Scene that has the script component with the Class (because non-static variables are only a local instance).<br>
For example, in GameHandler.cs (above), there is a class variable:<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>bool</b></font> isDefending = <font color=#365f91><b>false</b></font>; 

<br><br>
to access a non-static variable in another script, we need: 

<br>
<font face=arial>&nbsp;</font><font color=gray>(1)</font> a variable to hold the referenced GameObject, then 

<br><font face=arial>&nbsp;</font><font color=gray>(2)</font> load that GameObject and access the script Component, and <br>
<font face=arial>&nbsp;</font><font color=gray>(3)</font> finally access the variable: 
<br>
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> GameHandler gameHandler; 
<font color=gray>//(1)</font>
<br>
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){ 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();&nbsp;<font color=gray>//(2)</font><br>&nbsp; &nbsp; &nbsp; }
<br>
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){ 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (<font color=#365f91><b>Input</b></font>.GetKeyDown(KeyCode.D)){ gameHandler.isDefending = <font color=#365f91><b>true</b></font>;} <font color=gray>//(3)</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (<font color=#365f91><b>Input</b></font>.GetKeyUp(KeyCode.D)){ gameHandler.isDefending =<font color=#365f91><b> false</b></font>;}&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
        &nbsp; &nbsp; &nbsp; } 
<br><br>
</div>

<br><br><br>

<a href="#01e"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01e4">&nbsp;</a>
<b><font color=purple>STEP 3.</font> PLAYER DAMAGE</b>

<br>
Create a new C# script called PlayerHurt.cs. Add the content below and drag the script onto your Player. 
<br>This script manages the player reaction to damage; the actual health stat is managed in the GameHandler
<br>The commented-out code is for animation, when an Animator is applied to the character art.

<br><br>
<center>
  <i>PlayerHurt.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;
<br><font color=#3ab050><b>using</b></font> System.Collections;
<br><font color=#3ab050><b>using</b></font> UnityEngine;
<br><br>
<font color=#31849b><b>public class</b></font> <font color=#365f91><b>PlayerHurt: MonoBehaviour</b></font> { 
<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=gray>//public Animator animator;</font><br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Rigidbody2D rb2D;<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//animator = gameObject.GetComponentInChildren&lt;Animator&gt;();</font> <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rb2D = transform.GetComponent&lt;Rigidbody2D&gt;();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
          &nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> playerHit(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetTrigger (&quot;GetHurt&quot;);</font>
<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> playerDead(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb2D.isKinematic = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetTrigger (&quot;Dead&quot;);</font>
<br>
&nbsp; &nbsp; &nbsp; }<br>
          }
</div>


<br><br>
&nbsp; &nbsp; &nbsp; Want to display the Player health as a graphic bar instead of a number stat? <br>
&nbsp; &nbsp; &nbsp; Try this <a href="GameDesign_UnityUI.html#healthbar" target=hb><b>HealthBar tutorial</b></a> in the UI page.
<br>
&nbsp; &nbsp; &nbsp; There is an option to keep the HealthBar in the HUD or to make it a separate Canvas (with Render Mode set to <b>World Space</b>, so the Rect can be shaped to fit in the scene), parented to the Player. 


<br>
<br>
<br>
<br>
<br>
<a href="#01e"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01e5">&nbsp;</a> <b><font color=purple>MAKE YOUR WORK MUCH EASIER:</font> CREATE THE GAMEHANDLER_CANVAS PREFAB</b> <br>
Typically, multiple Canvas UI elements need to be dragged into th GameHandler script slots to assign them to script variables. The Camvas and the GameHandler are each identical across game Scenes, so save yourself a lot of work and opportunities for mistakes by making them part of a single prefab for the in-game Scenes:

<br><br>
<b>Start with an in-game Scene</b> in which you have already added your GameHandler Prefab and already created an in-game Canvas (with Health UI):<br>
<br>
<b>a. Create the &quot;folder&quot; Empty GameObject:
</b>
<ol>
<li> In the Hierarchy, RightClick to choose Create Empty. This makes a new GameObject.
<li> In the Inspector name it &quot;<b>GameHandlerCanvas</b>&quot;, set Transform <b>Position</b> X, Y, and Z = <b>0</b>.
<li> In the Hierarchy, drag the GameHandlerCanvas object to the top.
</ol>

<br><br>
<b>b. Add the GameHandler to GameHandlerCanvas: </b><br>
<li> In the Hierarchy, drag the GameHandler prefab up onto the GameHandlerCanvas, to make it a child. 
<br>
<b><em>NOTE:</em></b> this child is still its own prefab! The GameHandler prefab will later be dragged separately into the framing scenes (MainMenu, EndWin, EndLose, Credits), without the in-game Canvas, and then changes to the GameHandler prefab will change it in all Scenes. <br>
<b><br>
c. Add the in-game Canvas to GameHandlerCanvas: </b>

<br>
<li> In Hierarchy, drag the Canvas up onto GameHandlerCanvas, to make it a child (place above GameHandler).<br>
<b><em>NOTE:</em></b> this child is NOT  its own prefab. It is just a child of GameHandlerCanvas

<br><br>

<b>d. CRITICAL: Add the in-game EventHandler to GameHandlerCanvas: </b>
<ul>
<li> In the Hierarchy, drag the EventHandler up onto GameHandlerCanvas, to make it a child (place above GameHandler, below Canvas). If you do not include the EventHandler, no buttons will work!
</ul>

<br><br>
<b>e. Make the Prefab, and share it!: </b><br>
<ol>
<li> <b>Drag</b> the GameHandlerCanvas into your <b>Project &gt; Assets &gt; Prefabs</b> folder to make it a <b>prefab</b>. <br>
<li> <b>Save</b> the Scene. <br>
<li> Open all other in-game scenes and <b>add</b> the GameHandlerCanvas prefab! <br>
<li> <em><b>WANT TO EDIT THE IN_GAME CANVAS?</b></em> Open the <b>prefab</b> to make the changes, like adding a PauseMenu or Shop to the bottom of the Canvas.
</ol>

<br>
<b><em>NOTE:</em></b> 
<br>
We only use the <b>GameHandlerCanvas Prefab</b> in the <b>In-Game</b> Scenes, <b>NOT</b> the <b>Framing</b> Scenes. 

<br><br>
<b><a href="#01g">Framing Scenes</a></b> include MainMenu, EndWin, EndLose, Instructions, and Credits. 
<ol>
<li> The Framing Scenes get their own Canvas with no player feedback UI. <br>
<li> Instead the Framing Scene Canvas gets two &quot;<b>placeholder</b>&quot; objects: UI &gt; Legacy &gt; <b>Text</b>  and UI &gt; <b>Image</b>. <br>
<li> In the Scene view these placeholders are draggedabove the Canvas rectangle to stay out of sight. <br>
<li> In the Inspector these unseen placeholders are then dragged into the GameHandler script slots  to fill UI feedback variables that are not used in the Framing Scenes (because all script slots must be filled).
</ol>

<br>
<br>
<a href="#01e"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01e6">&nbsp;</a> 
<b><font color=purple>ALTERNATE UI:</font> HEALTH HEARTS SYSTEM</b>
<br>
The following script allows 3 hearts to be displayed instead of a text number or a health bar. 

<br><br>
<b>a. Create two pieces of art:</b>
<ol>
<li> a black and white image of a full heart, named "<b>HeartArt</b>". 
<br>
<li> a black silhouette of the same heart to go behind, named "<b>HeartEmpty</b>". 
</ol>

<br>
<b> b. Add the art: 
</b>
<ol>
<li> In your Canvas, RightClick to create a <b>UI > Image</b>. In the Scene hit <b>[w]</b> and position in the upper-left corner.


<br>
<li> In the Inspector name it &quot;<b>HeartBG1</b>&quot;, set  <b>SourceImage</b> = HeartEmpty. <br>
<li> Click the color rectangle to set alpha = 150. <br>
<li> In the Hierarchy select HeartBG1 and hit <b>[Ctrl/Cmd] + [d]</b> to duplicate it. <br>

<li> Drag the duplicate <em>below</em> HeartBG1 in the Hierarchy so it appears <em>in front of</em> HeartBG1 in the Scene. <br>
<li> In the Inspector rename the duplicate &quot;<b>Heart1</b>&quot;, set  <b>SourceImage</b> = HeartArt. 
Set <b>color</b> = green.
</ol>
<b><em>IMPORTANT, for a fill effect:</em></b> 
<br>
&nbsp; &nbsp; &nbsp; At the bottom of the Heart1 Image Component, change <b>Image Type</b> from Simple to "<b>Filled</b>".
<br>
&nbsp; &nbsp; &nbsp; Set <b>Fill Method</b> from Radial 360 to "<b>Horizontal</b>".

<br>
<b><br>
c. Duplicate the heart for 3 hearts:</b>
<ol>
<li> Select both HeartBG1 and Heart1, <b>[Ctrl/Cmd]+[d]</b> to copy twice for Heart2/HeartBG2 &amp; Heart3/HeartBG3. <br>
<li> In Scene hit <b>[w] </b>to <b>drag</b> each pair a bit to the right, to make a line of hearts in the Canvas upperleft corner 
<br>
(Heart1 is left-most and will disappear last, Heart3 is right-most and will disappear first).
</ol>

<br><br>
<b>d. Change the GameHandler.cs script</b> to add the content below (new content is boldfaced). <br>Note the variables for the three Heart gameobjects and static variables for the current number of hearts and the fill amount for each heart.
<br>Also note the changes to these 3 functions: Start(), playerGetHit(), and updateStatsDisplay().  

<br><br>
<b>e. In the GameHandlerCanvas prefab</b>, drag Heart1, Heart2, and Heart3 into the new script slots in the GameHandler.<br><br>
<b>f. In the framing scenes</b> (EndWin, EndLose, MainMenu, and Credits, when they are <b><a href="#01g">created</a></b>), drag the ImagePlaceholder object into the three GameHandler Heart slots, to avoid the error message of those slots being unassigned. 

<br>
<br>
<center>
	<em>GameHandler.cs script
    (current health is displayed as a row of hearts)</em><i>:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic; <br>
    <font color=#3ab050><b>using</b></font> System.Collections; <br>
    <font color=#3ab050><b>using</b></font> UnityEngine;<br />
    <font color="#3ab050"><b>using</b></font> TMPro; <br>
    <font color=#3ab050><b>using</b></font> UnityEngine.UI; <br>
    <font color=#3ab050><b>using</b></font> UnityEngine.SceneManagement; <br>
    <br>
    <font color=#31849b><b>public class </b></font><font color=#365f91><b>GameHandler : MonoBehaviour</b></font> { 
<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private </b></font>GameObject player;

<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static int </b></font><b>playerHearts = <font color="#e36c0a">3</font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b>public </font>GameObject heart1;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b>public </font>GameObject heart2;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b>public </font>GameObject heart3;<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b>public static float </font>heart1fill = <font color="#e36c0a">1.0f</font>;<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b>public static float </font>heart2fill = <font color="#e36c0a">1.0f</font>;<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b>public static float </font>heart3fill = <font color="#e36c0a">1.0f</font>;</b><br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static int </b></font>playerHealth =<b><font color="#e36c0a"> 1</font></b><font color=#e36c0a><b>00</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public int</b></font> StartPlayerHealth =<b><font color="#e36c0a"> 1</font></b><font color=#e36c0a><b>00</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=gray><b>//public TMP_Text healthText;</b></font><br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static int</b></font> gotTokens = <font color=#e36c0a><b>0</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> TMP_Text tokensText;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>bool</b></font> isDefending = <font color=#365f91><b>false</b></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static bool</b></font> stairCaseUnlocked = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//this is a flag check. Add to other scripts: GameHandler.stairCaseUnlocked = true;</font><br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> <font color=#31849b><b>string</b></font> sceneName;
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static string</b></font> lastLevelDied;  &nbsp;<font color=gray>//allows replaying the Level where you died</font><br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;Player&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sceneName = 
SceneManager.GetActiveScene().name;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//if (sceneName=="MainMenu"){ //uncomment these two lines when the MainMenu exists</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//}</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();
<br><br>


		<b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart1.SetActive(<font color=#365f91>true</font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart2.SetActive(<font color=#365f91>true</font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart3.SetActive(<font color=#365f91>true</font>);</b><br>
<b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Debug.Log(</b><font color=#e36c0a><b>&quot;pHealth = &quot;</b></font><b> + playerHealth + </b><font color=#e36c0a><b>&quot;. Hearts = &quot;</b></font><b> + playerHearts +  </b><font color=#e36c0a><b>&quot;. h1fill = &quot;</b></font><b> + heart1fill + </b><font color=#e36c0a><b>&quot;. h2fill = &quot;</b></font><b> + heart2fill + </b><font color=#e36c0a><b>&quot;. h3fill = &quot;</b></font><b> + heart3fill );</b><br>&nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerGetTokens(<font color=#31849b><b>int</b></font> newTokens){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gotTokens += newTokens;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerGetHit(int damage){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(isDefending == <font color=#365f91><b>false</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth -= damage;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (playerHealth > <font color=#e36c0a><b>0</b></font>){<br>
<b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050>if</font> (playerHearts == <font color=#e36c0a>3</font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart3fill = (<font color=purple>float</font>)playerHealth / StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050>else if</font> (playerHearts == <font color=#e36c0a>2</font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart2fill = (<font color=purple>float</font>)playerHealth / StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050>else if</font> (playerHearts == <font color=#e36c0a>1</font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart1fill = (<font color=purple>float</font>)playerHealth / StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</b><br>
<b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>Debug.Log(</b><font color=#e36c0a><b>&quot;pHealth = &quot;</b></font><b> + playerHealth + </b><font color=#e36c0a><b>&quot;. Hearts = &quot;</b></font><b> + playerHearts + </b><font color=#e36c0a><b>&quot;. h1fill = &quot;</b></font><b> + heart1fill + </b><font color=#e36c0a><b>&quot;. h2fill = &quot;</b></font><b> + heart2fill + </b><font color=#e36c0a><b>&quot;. h3fill = &quot;</b></font><b> + heart3fill );</b><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }

<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (damage > <font color=#e36c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerHurt&gt;().playerHit();&nbsp; &nbsp; &nbsp; <font color=gray>//play GetHit animation</font>

<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(playerHealth &lt;= <font color=#e36c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = <font color=#e36c0a><b>0</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>playerHearts -=<font color="#e36c0a">1</font>;</b><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>playerHealth = StartPlayerHealth;</b><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }



<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<b><font color=#3ab050>if</font> (playerHearts &lt;= <font color=#e36c0a>0</font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerDies();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</b><br>
<br>
<strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//if (playerHealth &gt; StartPlayerHealth){</font>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>// &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth;</font>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>// &nbsp; &nbsp; &nbsp; updateStatsDisplay();</font>
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//}</font></strong><br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> updateStatsDisplay(){
<br>
		<b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050>if</font> (playerHearts ==<font color=#e36c0a> 3</font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart3.GetComponent&lt;Image&gt;().fillAmount = heart3fill;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050> else if</font> (playerHearts == <font color=#e36c0a>2</font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart3.SetActive(<font color=#365f91>false</font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart2.GetComponent&lt;Image&gt;().fillAmount = heart2fill;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050> else if</font> (playerHearts == <font color=#e36c0a>1</font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart2.SetActive(<font color=#365f91>false</font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart1.GetComponent&lt;Image&gt;().fillAmount = heart1fill;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050> else if</font> (playerHearts == <font color=#e36c0a>0</font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; heart1.SetActive(<font color=#365f91>false</font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</b><br>
<b><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray> // healthText.text = &quot;HEALTH: &quot; + playerHealth; </font>

</b><br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tokensText.text = <font color=#e36c0a><b>&quot;GOLD: &quot;</b></font> + gotTokens;<br>
&nbsp; &nbsp; &nbsp; } <br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerDies(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerHurt&gt;().playerDead();&nbsp; &nbsp; &nbsp; <font color=gray>//play Death animation</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lastLevelDied = sceneName; &nbsp; &nbsp; &nbsp; <font color=gray>//allows replaying the Level where you died</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(DeathPause());<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; IEnumerator DeathPause(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerMove&gt;().isAlive = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerJump&gt;().isAlive = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new </b></font> WaitForSeconds(<font color=#e36c0a><b>1.0f</b></font>); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color=#e36c0a><b>&quot;EndLose&quot;</b></font>); <br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> StartGame() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color=#e36c0a><b>&quot;Level1&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// Return to MainMenu</font><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> RestartGame() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time.timeScale = <strong><font color=#e36c0a>1f</font></strong>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color=#e36c0a><b>&quot;MainMenu&quot;</b></font>);<b><br>
</b><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Please also reset all static variables here, for new games!</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; }

<br><br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// Replay the Level where you died</font><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> ReplayLastLevel() { <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time.timeScale = <font color=#e36c0a><b>1f</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(lastLevelDied);<b><br>
</b><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Reset all static variables here, for new games:</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth;<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> QuitGame() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#if UNITY_EDITOR</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UnityEditor.EditorApplication.isPlaying = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#else</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Application.Quit(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#endif</font><br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> Credits() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color=#e36c0a><b>&quot;Credits&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; }<br>
}
</div> 


<br>
<br>
<a href="#01e"></a><br>
<br>
<a href="#01e"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01e6">&nbsp;</a> <b><font color=purple>ALTERNATE UI:</font> HEALTHBAR SYSTEM</b> <br>
The following script allows 3 hearts to be displayed instead of a text number or a health bar. 

<br>
<br>
<b>a. Create two pieces of art:</b> 
<ul>
<li> a black and white image of a full heart, named "<b>HeartArt</b>". <br>
<li> a black silhouette of the same heart to go behind, named "<b>HeartEmpty</b>". 
</ul>

<br>
<br>
<b>b. Add the art: </b>
<ol>
<li> In your Canvas, RightClick to create a <b>UI > Image</b>. In the Scene hit <b>[w]</b> and position in the upper-left corner. <br>
<li> In the Inspector name it &quot;<b>HeartBG1</b>&quot;, set <b>SourceImage</b> = HeartEmpty. <br>
<li> Click the color rectangle to set alpha = 150. 

<br>
<br>
<li> In the Hierarchy select HeartBG1 and hit <b>[Ctrl/Cmd] + [d]</b> to duplicate it. <br>
<li> Drag the duplicate <em>below</em> HeartBG1 in the Hierarchy so it appears <em>in front of</em> HeartBG1 in the Scene. <br>
<li> In the Inspector rename the duplicate &quot;<b>Heart1</b>&quot;, set <b>SourceImage</b> = HeartArt. 
Set <b>color</b> = green. 
</ol>


<br>
<b><em>IMPORTANT, for a fill effect:</em></b> 
<ul>
 At the bottom of the Heart1 Image Component, change <b>Image Type</b> from Simple to "<b>Filled</b>". 
<br> Set <b>Fill Method</b> from Radial 360 to "<b>Horizontal</b>". 
</ul>
<br>
</td></tr></table>
</div></td>
</tr></table>
<br>

<a name="01f">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion2">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1F]</b> <b>PLAYER BATTLE SCRIPTS</b> &nbsp; &nbsp; &nbsp; &nbsp;</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>
<font size=+2><font color=purple><b>[1F]:</b></font> <b>PLAYER BATTLE SCRIPTS</b></font></font>
<font face="arial"><br>
Player 
<a href="#01f1">Melee</a> &nbsp; | &nbsp; 
<a href="#01f2">Shooting</a>, 
<a href="#01f3">Projectiles</a>, and 
<a href="#01f4">Explosions</a> &nbsp; | &nbsp; 
<a href="#01f5">Defense</a>
</font></center><font face="arial">

<br><a href="#01f"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01f1">&nbsp;</a>
<b><font color=purple>OPTION 1.</font>  PLAYER MELEE ATTACK</b>
<br><b>a.</b> Create a new C# script called <b>PlayerAttackMelee.cs</b>. <br>Add the content below and drag the script onto your Player.
<br>
Set  <b>LayerMask</b> <b>rolldown</b> in Inspector to "<b>Enemies</b>" (may need to first add a new Layer called Enemies).
<br>The commented-out code is for animation, if an Animator is applied to the character art.
<br>This script works for punches/kicks or swords slashes.

<br><br>
<b>b.</b> Add a new Empty GameObject.
<br>In the Inspector name it "<b>HitPoint</b>", reset Transforms.
<br>Drag HitPoint onto Player to make it a <b>child</b>.<br>Position it right in front of the character art, at the center of where you want attacks to hit enemies.
<br>Drag HitPoint into the attackPt <b>script slot</b>.<br>
<a href="gamedesign/Unity2D/platformer_inputs1.png"><img src="gamedesign/Unity2D/platformer_inputs1_thumb.png" alt="" align=right></a><br>
<b>c.</b> Create an "Attack" Input:<br>Open <b>Edit > Project Settings</b> panel to select the <b>Input Manager</b>.<br>
Open the first <b>Fire1</b> and change it to "<b>Attack</b>".<br>
Set &quot;Positive Button&quot; = &quot;space&quot; and &quot;Alt Positive Button&quot; = &quot;joystick button 0&quot;.<br><br>
</font>

<center>
<i>PlayerAttackMelee.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>PlayerAttackMelee : MonoBehaviour</b></font></font></font>{ <br>
          <br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public Animator animator;</font><br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> Transform attackPt;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>float</b></font> attackRange = <font color=#e36c0a><b>0.5f</b></font>;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>float</b></font> attackRate = <font color=#e36c0a><b>2f</b></font>;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>private</b></font> <font color=#31849b><b>float</b></font> nextAttackTime = <font color=#e36c0a><b>0f</b></font>;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>int</b></font> attackDamage = <font color=#e36c0a><b>40</b></font>;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> LayerMask enemyLayers;<br>
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//animator = gameObject.GetComponentInChildren&lt;Animator&gt;();</font><br>&nbsp; &nbsp; &nbsp; }<br>
<br>
 &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(Time.time &gt;= nextAttackTime){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//if (Input.GetKeyDown(KeyCode.Space))</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(Input.GetAxis(<font color=#e36c0a><b>&quot;Attack&quot;</b></font>) &gt; <font color=#e36c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Attack();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nextAttackTime = Time.time + <font color=#e36c0a><b>1f</b></font> / attackRate;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Attack(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetTrigger (&quot;Melee&quot;);</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Collider2D[] hitEnemies = Physics2D.OverlapCircleAll(attackPt.position, attackRange, enemyLayers); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>foreach</b></font>(Collider2D enemy <font color=#31849b><b>in</b></font> hitEnemies){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Debug.Log(<font color=#e36c0a><b>&quot;We hit &quot;</b></font> + enemy.name);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enemy.GetComponent&lt;EnemyMeleeDamage&gt;().TakeDamage(attackDamage);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=gray>//NOTE: to help see the attack sphere in editor:</font> <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> OnDrawGizmosSelected(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(attackPt == null) {<font color=#31849b><b>return</b></font>;}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Gizmos.DrawWireSphere(attackPt.position, attackRange);<br>
&nbsp; &nbsp; &nbsp; }<br>
}
</div>


<br><br>
  <a href="#01f"><img src="gamedesign/triangle_purple.png" alt=""></a>
  <a name="01f2">&nbsp;</a>
  <b><font color=purple>OPTION 2a.</font> PLAYER SHOOT ATTACK</b>
  <br>
  <b>1.</b> Create the FireBase and FirePoint:<br>

<ul>
<br>
<li>RightClick the Player object to add a new Empty GameObject (will  be a child with Position = 0,0,0). 
<li>In the Inspector name it "<b>FireBase</b>".
<li>RightClick ShootBase to add another Empty Game Object as a child. 

<li>In the Inspector name it "<b>FirePoint</b>".

<li>Move FirePoint above the player art, as the starting position. Leave FireBase at player center.
</ul>

<a href="gamedesign/Unity2D/platformer_inputs1.png" target=newInputs><img src="gamedesign/Unity2D/platformer_inputs1_thumb.png" alt="" align=right></a><br>
  <b>2.</b> Create an "Attack" Input:<br>
Open <b>Edit > Project Settings</b> panel to select the <b>Input Manager</b>.<br>
Open the first <b>Fire1</b> and change it to "<b>Attack</b>".<br>
Set &quot;Positive Button&quot; = &quot;space&quot; and &quot;Alt Positive Button&quot; = &quot;joystick button 0&quot;.
<br>

<br>
<strong>3.</strong> Create a new C# script called PlayerAttackShoot.cs. 
<br>Add the content below, save, and add the script to your Player. 
<br>
Drag FirePoint into the firePoint <b>script slot</b>. 

<br><br>
<em><strong>NOTE:</strong></em> There are commented-out code  for <strong>animation</strong>, if an Animator is applied to the character art. There is also commented code for a<strong> muzzle flash</strong>, which cn be a prefab of a partcile system set to cone and single burst. (see Game Feel section on particle systems)<br>
<br>
<center>
<i>PlayerMoveAimShoot.cs script:</i><br>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>PlayerMoveAimShoot : MonoBehaviour</b></font></font></font></font>{ <br>
          <br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public Animator animator;</font><br />
          <font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="#31849b"><b>public float</b></font> moveSpeed = <font color="#e36c0a"><b>5f</b></font>;<br />
          <font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="#31849b"><b>private</b></font> <font color="#31849b"><b>Rigidbody2D</b></font> rb;<br />
          <font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="#31849b"><b>public</b></font> Camera cam;<br />
          <font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="#31849b"><b>public Vector2</b></font> movement;<br />
          <font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="#31849b"><b>public </b><font face="arial"><b>Vector2</b></font></font> mousePos;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> Transform fireBase;<br />
          <font face="arial">&nbsp; &nbsp; &nbsp; </font><font color="#31849b"><b>public</b></font> Transform firePoint;<br />
          <font face="arial">&nbsp; &nbsp; &nbsp; </font><br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> GameObject projectilePrefab;
          <br> 
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float </b></font>projectileSpeed = <font color=#e36c0a><b>10f</b></font>;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>float</b></font> attackRate = <font color=#e36c0a><b>2f</b></font>;<br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>private</b></font> <font color=#31849b><b>float</b></font> nextAttackTime = <font color=#e36c0a><b>0f</b></font>;
          
          
          
          <br>
          &nbsp; &nbsp; &nbsp; <font color="gray">//public GameObject muzzleFlash;</font> 
          <br><br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//animator = gameObject.GetComponentInChildren&lt;Animator&gt;();</font><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rb = GetComponent&lt;<font color="#31849b"><b>Rigidbody2D</b></font>&gt;(); <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cam = GameObject.FindWithTag(<font color="#e36c0a"><b>&quot;MainCamera&quot;</b></font>).GetComponent&lt;Camera&gt;() as Camera; <br>
          &nbsp; &nbsp; &nbsp; }<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;movement.x = Input.GetAxisRaw(<font color="#e36c0a"><b>&quot;Horizontal&quot;</b></font>); <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;movement.y = Input.GetAxisRaw(<font color="#e36c0a"><b>&quot;Vertical&quot;</b></font>);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mousePos = cam.ScreenToWorldPoint(Input.mousePosition); <br />
<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(Time.time &gt;= nextAttackTime){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//if (Input.GetKeyDown(KeyCode.Space))</font><br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(Input.GetAxis(<font color=#e36c0a><b>&quot;Attack&quot;</b></font>) &gt; <font color=#e36c0a><b>0</b></font>){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerFire();<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nextAttackTime = Time.time + <font color=#e36c0a><b>1f</b></font> / attackRate;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; }
<br><br>
       
<br>
&nbsp; &nbsp; &nbsp; <font color="#31849b"><b>void</b></font> FixedUpdate(){
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="gray">//actual movement uses Rigidbody2D, so goes in FixedUpdate:</font> <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rb.MovePosition(rb.position + movement * moveSpeed * Time.fixedDeltaTime); <br>            
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>Vector2</b></font> lookDir = mousePos - rb.position; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>float</b></font> angle = Mathf.Atan2(lookDir.y, lookDir.x) * Mathf.Rad2Deg; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="gray">//rb.rotation = angle;</font> <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fireBase.transform.eulerAngles = new <font color="#31849b"><b>Vector3</b></font>(<font color="#e36c0a"><b>0</b></font>, <font color="#e36c0a"><b>0</b></font>, angle); <br>	
&nbsp; &nbsp; &nbsp; } <br><br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> playerFire(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetTrigger (&quot;Fire&quot;);</font>
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector2</b></font> fwd = (firePoint.position - this.transform.position).normalized; 
          
        <br>  
		<br><font color = gray>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //MUZZLEFLASH:
		<br>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameObject muzFlash = Instantiate(muzzleFlash, firePoint.position, Quaternion.identity);
		<br>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Vector2 muzDirection = firePoint.position - transform.position;
		<br>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Quaternion muzRotation = Quaternion.LookRotation(muzDirection, Vector3.up);
		<br>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; muzFlash.transform.rotation = muzRotation;
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */
        </font>  

          <br>
          <br>
          <font face="arial">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//PROJECTILE</font>
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameObject projectile = Instantiate(projectilePrefab, firePoint.position, Quaternion.identity);
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; projectile.GetComponent&lt;<font color="#31849b"><b>Rigidbody2D</b></font>&gt;().AddForce(fwd * projectileSpeed, ForceMode2D.Impulse);
          <br>&nbsp; &nbsp; &nbsp; }
          <br>}
        </div>
        

<br><br>
<a href="#01f"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01f3">&nbsp;</a>
<b><font color=purple>OPTION 2b.</font> MAKE THE PROJECTILE: </b>
<br>
<b>a.</b> Create a new <b>Empty Game Object</b>. In the Inspector name it &quot;<b>PlayerProjectile</b>&quot;, reset Transforms.

<br>
<br>
<b>b.</b> With PlayerProjectile selected, <b>[Add Component] BoxCollider2D</b>, set  <b>isTrigger </b>= on.
<br><b>[Add Component] Rigidbody2D</b>. 
<br>
To shoot straight, set Rigidbody <strong>Gravity = 0</strong> (do not set type = Kinematic, or addForce does not work). <br>
<br>
<b>c.</b> Import the projectile art<b> .PNG</b> and drag the image into the Hierarchy, onto PlayerProjectile to make it a child (can be a single frame or an animated spritesheet, see Option2c below for spritesheet steps). Name it &quot;projectile_art&quot;.
<br><br>
<b>d.</b> Create a new C# script named "PlayerProjectile". Add the following and apply to the PlayerProjectile GameObject:



<br><br>
<center>
<i>PlayerProjectile.cs script:</i><br>
</center>
<div class="blockScript">
      <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>PlayerProjectile : MonoBehaviour</b></font>{ 
        <br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public int</b></font> damage = <font color=#e36c0a><b>1</b></font>;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject hitEffectAnim;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float </b></font> SelfDestructTime = <font color=#e36c0a><b>4.0f</b></font>;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float </b></font> SelfDestructVFX = <font color=#e36c0a><b>0.5f</b></font>; <br> 
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject projectileArt;<br />
&nbsp; &nbsp; &nbsp; <font color=gray>public GameObject splatterPrefab;</font><br />
<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//projectileArt = GetComponentInChildren&lt;SpriteRenderer&gt;();</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;StartCoroutine(SelfDestruct());<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=gray>//if the bullet hits a collider, play the explosion animation, then destroy the effect and the bullet</font><br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> OnTriggerEnter2D(Collider2D other){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font>  (other.gameObject.layer == LayerMask.NameToLayer(<font color=#e36c0a><b>&quot;Enemies&quot;</b></font>)) {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//gameHandlerObj.playerGetHit(damage);</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; other.gameObject.GetComponent&lt;EnemyMeleeDamage&gt;().TakeDamage(damage);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(other.gameObject.tag != <font color=#e36c0a><b>&quot;Player&quot;</b></font>) {
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;BoxCollider2D&gt;().enabled = <font face="arial"><font face="arial"><font face="arial"><font color="#365f91"><b>false</b></font></font></font></font>; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameObject animEffect = Instantiate (hitEffectAnim, transform.position, Quaternion.identity);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; projectileArt.SetActive(<font face="arial"><font face="arial"><font face="arial"><font color="#365f91"><b>false</b></font></font></font></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Destroy (animEffect, 0.5);</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(selfDestructHit(animEffect));<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; IEnumerator SelfDestructHit(GameObject VFX){
        <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="gray">//MakeSplat();</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new</b></font> WaitForSeconds(SelfDestructVFX);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy (VFX);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy (gameObject);<br>&nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; IEnumerator selfDestruct(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new</b></font> WaitForSeconds(SelfDestructTime);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy (gameObject);<br>
        &nbsp; &nbsp; &nbsp; }

<font color=gray>
<br>        
<br>
&nbsp; &nbsp; &nbsp; /*   
<br>
&nbsp; &nbsp; &nbsp; //Make a mark on the ground where the projectile hit   
<br>
&nbsp; &nbsp; &nbsp; void MakeSplat(){
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameObject splat = Instantiate (splatterPrefab, transform.position, Quaternion.identity); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float zRotation = Random.Range(0f,179f); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; splat.transform.eulerAngles = new Vector3(0, 0, zRotation); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float size = Random.Range(0.5f,0.9f); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; splat.transform.localScale = new Vector3(splat.transform.localScale.x * size, splat.transform.localScale.y * size, 1); <br>
&nbsp; &nbsp; &nbsp; }  
<br>
&nbsp; &nbsp; &nbsp; */ 
</font>    
</div>


<br>
<b>e. Drag</b> the Player Projectile into the Project panel to make it a <b>Prefab</b>. <b>Delete</b> the original from the Hierarchy. 

<br><br>
<b>f.</b> Select the Player in the Hierarchy, drag the PlayerProjectile Prefab from the Project panel into the PlayerAttackShoot script 

projectilePrefab <b>slot</b>.<br><br><br>
<a href="gamedesign/Unity2D/VFX_explosion1.png" target=png><img src="gamedesign/Unity2D/VFX_explosion1.png" alt="" border=1 align=right></a><b><font face=arial>
<a href="#01f"><img src="gamedesign/triangle_purple.png" alt=""></a>
<b><a name="01f4">&nbsp;</a></b></font>
<font color=purple>OPTION 2c. </font></b><b>MAKE THE IMPACT EXPLOSION: </b>
<br>
<b>a. </b>Create a new Empty Game Object. <br>In the Inspector name it &quot;<b>Boom</b>&quot;, reset Transforms.
 <br>
Import an <a href="gamedesign/Unity2D/VFX_explosion1.png" target=png><b>explosion</b></a> spritesheet. <br>
<br><br>
<a href="gamedesign/unity2D/unityScripting3a.png" target=image><img src="gamedesign/unity2D/unityScripting3athumb.png" alt="" align=right></a>
<b>b.</b> Select the PNG in the Project panel. 
<br>In the Inspector set the following and hit <b>[Apply]</b>:<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sprite Mode = Multiple<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pixels Per Unit = 16<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Filter Mode = Point (no filter)<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Compression  = None

<br>
<br>
<a href="gamedesign/unity2D/unityScripting3b.png" target=image><img src="gamedesign/unity2D/unityScripting3bthumb.png" alt="" align=right></a>
<b>c.</b> Press 
<b>[Sprite Editor]</b> button in the Inspector to open the editor. 
<br> Open the Slice button.
<br> Set Slice &gt; Type = <b>Grid by Cell Count</b>: 2 x 2.
<br> Hit <b>[Apply]</b>.


<br>
<br>
<b>d. Drag</b> the first new image into the Hierarchy. 
<br>In the Inspector name it &quot;<b>Boom</b>&quot; and set <b>Order in Layer</b> = <b>105</b>.

<br>
<br>
<b>e.</b> Create a folder under Project panel &gt; Assets &gt; Media called &quot;Animation&quot;.

<br>
<br>
<b>f.</b> Open <b>Window &gt;  Animation &gt; Animation</b>. 
<br>With Boom selected hit the <b>[Create]</b> button at the center, choose the new  Animation folder, and name the new clip &ldquo;boom_anim&rdquo;. Hit <b>[OK]</b>.

<br>
<br>
<a href="gamedesign/unity2D/unityScripting3c.png" target=image>
<img src="gamedesign/unity2D/unityScripting3cthumb.png" alt="" align=right></a>
<b>g.</b> <b>Drag all 4 frames</b> into the timeline top, spread them out between 1-30.  Drag the last frame in a second time and place it at the end, for a total of 5 images set to frames 1, 10, 20, 30, 40. Hit the Animation Play triangle to see the Scene copy animate, and adjust timing as you desire. Close the Animation panel.

<br>
<br>
<b>h. Make it into a prefab:</b> Drag the Boom object from the Hierarchy into the Project panel. Delete the original from the Hierarchy.
<br><br>

<b>i. DoubleClick</b> the PlayerProjectile Prefab to open it. Drag the Boom object from the Project panel into the hitEffectAnim <b>script slot</b>. 


<br><br>
<strong>j.</strong> To make sure an impact effect does not hang around, apply the following script to the Boom object Prefab:

<center>
<i>VFX_DestroyMe.cs script:</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
<font color=#31849b><b>public class </b></font>
<font color=#365f91><b>VFX_DestroyMe : MonoBehaviour</b></font>
{<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> destroyTime = <font color=#e36c0a><b>1f</b></font>;
        <br>
        <br>    
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;StartCoroutine(DestroyMe());<br>    
        &nbsp; &nbsp; &nbsp;}<br><br>    
        &nbsp; &nbsp; &nbsp; IEnumerator DestroyMe(){<br>		
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#365f91><b>yield return new </b></font> WaitForSeconds(destroyTime);<br>        
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Destroy(gameObject);<br>    
        &nbsp; &nbsp; &nbsp; }<br>
        }
</div>

<br><br><br>
<a href="#01f"><img src="gamedesign/triangle_purple.png" alt=""></a><a name="01f5">&nbsp;</a><font color=purple>OPTION 3.</font> PLAYER DEFEND</b> (if you want a defense system for your player)<br>
  <b>a.</b> Create a new C# script called PlayerDefend.cs. Add the content below and drag the script onto your Player. The commented-out code is for animation, when an Animator is applied to the character art. 
  <br>
  <br>
  <b>b.</b> Import <b>defense art .PNG</b>: a semi-transparent sphere around the character, either a single sprite or a spritesheet for animation. <b>Drag</b> it into the Hierarchy to make it a child of the Player, and then drag it into the shieldArt <b>script slot</b>.<br>
  <br>
  <b>c.</b> Create a "Defend" Input:<br>
Open <b>Edit > Project Settings</b> panel to select the <b>Input Manager</b>.<br>
Open the first <b>Fire2</b> and change it to "<b>Defend</b>".<br>
Set &quot;Positive Button&quot; = &quot;Q&quot; and &quot;Alt Positive Button&quot; = &quot;joystick button 1&quot;.

<br><br>
<center>
  <i>PlayerDefend.cs script:</i><br>
    </center>
      
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>PlayerDefend : MonoBehaviour</b></font></font></font></font>{ <br><br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> GameHandler gameHandler; <br>
          <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public Animator animator;</font><br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Rigidbody2D rb2D;<br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject shieldArt;<br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> defendTime = <font color=#e36c0a><b>2.0f</b></font>; <br><br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){ 
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//animator = gameObject.GetComponentInChildren&lt;Animator&gt;();</font> <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rb2D = transform.GetComponent&lt;Rigidbody2D&gt;();		
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;shieldArt.SetActive(<font face=arial><font color=#365f91><b>false</b></font></font>);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
          &nbsp; &nbsp; &nbsp; }
          
          <br><br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){ 
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Defense activation</font><br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(Input.GetAxis(<font color=#e36c0a><b>&quot;Defend&quot;</b></font>) &gt; <font color=#e36c0a><b>0</b></font>){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerDefend();<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; }<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerDefend(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler.isDefending = <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shieldArt.SetActive(<font face=arial><font color=#365f91><b>true</b></font></font>);<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetBool(&quot;Defend&quot;, true);</font>
          <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(playerNoDefend());<br>
          &nbsp; &nbsp; &nbsp; }<br>
          <br>
          &nbsp; &nbsp; &nbsp; IEnumerator playerNoDefend(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new</b></font> WaitForSeconds(defendTime);<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler.isDefending = <font face=arial><font color=#365f91><b>false</b></font></font>;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shieldArt.SetActive(<font face=arial><font color=#365f91><b>false</b></font></font>);<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetBool(&quot;Defend&quot;, false);</font>
          <br>&nbsp; &nbsp; &nbsp; }
          <br>}
</div>
<br>
<em><b>NOTE:</b></em> this defense functionality can be modified for player <b>invisibility</b>, to hide from enemies. 
<br>Instead of removing damage, the Defense bool in the GameHandler would redirect the enemies, as if the player is not present. 
<br>
</td></tr></table>
</div></td>
</tr></table>
<br>

<a name="01g">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion1">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1G]</b> <b>FRAME SCENES: MAIN MENU, WIN, LOSE</b> &nbsp; &nbsp; &nbsp;</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=purple><b>[1G]:</b></font> <b>FRAME SCENES</b></font>
<br> 
MainMenu, EndWin,  EndLose, and Credits. Also, how to replay the level a player died on. 

</font>
</center>



<p><font face=arial>
  <br>
  <b><font color = purple>SCENE #1:</font> Create </b>a<b> MAIN MENU:</b><br>
  <b>1)</b> Create a new <b>Scene</b>, name it &quot;<b>MainMenu</b>&quot;. <br>
  <b>2)</b> RightClick the Hierarchy to add a UI &gt; <b>Canvas</b>. 
  <br>
  <b>&nbsp; &nbsp; &nbsp; </b>In the Inspector set <b>CanvasScaler &gt; UI Scale Mode</b> to &quot;<b>Scale with Screen Size</b>&quot;. 
  <br>
  <b>&nbsp; &nbsp; &nbsp; </b>Set <b>Reference Resolution</b> = <b>1280 x 720</b>. <br>
  <b>3)</b> RightClick the Canvas to add UI &gt; <b>Image</b>. In the Inspector name it &quot;<b>BG_Art</b>&quot;. 
  <br>
  <b>&nbsp; &nbsp; &nbsp; </b>Set Position X and Positon Y = 0, set Width and Height = 1280x720. 
  <br>
  <b>&nbsp; &nbsp; &nbsp; </b>To the Image &gt; <b>Source Image</b> slot add your 1280x720 background image when it is ready.<br>
  <b>4)</b> RightClick the Canvas to add UI &gt;<strong>Text - TextMesh Pro</strong>. In the Inspector name it <b>TextTitle.</b> 
  <br>
  &nbsp; &nbsp; &nbsp;  In the Inspetor fnd the text field and type the title (repclae later with game logo png). <br>
  <b>&nbsp; &nbsp; &nbsp; </b>Set width and height = 700x150, font = 80, bold. Move up near top. Replace with logo art when it is ready. <br>
  <b>5)</b> RightClick the Canvas to add UI &gt;<strong>Text - TextMesh Pro</strong> below it. In the Inspector name it &quot;<b>TextExplain</b>&quot;. 
  <br>
  <b>&nbsp; &nbsp; &nbsp; </b>Set width and height = 500 x 300, font  40. In the text field type an introductory sentence. 
  <br>
  </font></p>
<p><font face=arial><em><b>NOTE: </b></em>When the first TextMeshPro object is added, Text or Button, the import window appears. Click the upper button [Import TMP Essentials], but not the lower one. In tem project, it is impprtant that only one person imprt TMP, and then quickly push, to avoid GiHub conflits. <br />
  <a href="gamedesign/Unity2d/TextMeshPro_Import.png" target="new"> <img src="gamedesign/Unity2d/TextMeshPro_Import.png" style="width:70%; height:auto;" alt="TMP Import"/></a> <br />
  <br />
  <br>
  
  <b>BUTTON work:</b><br>
  <b>6)</b> Drag  the <b>GameHandler</b> Prefab into the Hierarchy.<br>
  <b>7)</b> RightClick the Canvas to add  a UI &gt; <b>Button - TextMeshPro</b>. 
  <ol type="a">
  <li> In the Inspector name it &quot;<b>button_MENU</b>&quot;. 
  <li> Set width and height = <strong>350 x 60</strong>.<br>
  <li> Set <strong>Highlighted Color</strong> as desired (replace the Image &gt; Source image when your art is ready).<br>
  <li> Change the child Text objects text field to &quot;<b>MENU</b>&quot;, set font size = 45 and bold.
  <br>
  <li> <em>IMPORTANT:</em> Change the Button  &gt; <strong>Navigation</strong> from &quot;Automatic&quot; to &quot;<strong>None</strong>&quot; (so [spacebar] won't click).<br>
  <li> Towards the bottom of the inspector, click the <b>[+] </b>icon to add an<b> Onclick event.</b>
</ol>



  <br>
  <br>
  <strong>8) Make the Button a PREFAB: </strong>
<ul>
  <li> <strong>Drag</strong> button_MENU into the Prefabs folder to make it a <strong>Prefab.<br>
  </strong>
  <li> All menu buttons in frame Scenes, PauseMenu, etc should use this Prefab, so that changes can be made in the Prefab and automatically populate to all Scenes.<br>
  <li> Naturally, if you are on a team project, only one person per team should make the Prefab, and everyone else should use it.
</ul>

  <br>
  <br>
<p>
  <b>9)</b> Set-up the three menu button copies:
<ol type="a">
  <li>Back in your MainMenu Scene, select the <b>button</b> and <b>duplicate</b> it twice <b>[Ctrl / Cmd] + [d]</b>. 
  <li>
  Rename the buttons: &quot;<b>button_PLAY</b>&quot; &quot;<b>button_CREDITS</b>&quot;, and &quot;<b>button_QUIT</b>&quot;. 
  <li>
  Change child Text objects text field: &quot;<b>PLAY</b>&quot;, &quot;<b>CREDITS</b>&quot;, and &quot;<b>QUIT</b>&quot;. 
  <li>
  Select the Buttons and arrange as a column or a row.
</ol>
<br>
  <b>10) </b>Towards the bottom of each button in the Inspector, find the <b> Onclick event.</b><br>  Drag the <b>GameHandler</b> from the Hierarchy into the &quot;None&quot; slot. Set the function per the button:
<ol type="a">
<li><b> PLAY: </b>GameHandler &gt; StartGame()<br>
<li><b> CREDITS:</b> GameHandler &gt; Credits()<br>
<li><b> QUIT:</b> GameHandler &gt; QuitGame()
</ol><br>
  <b>11) Add Placeholder UI Objects:</b> 
  <ol type="a">
  <li> RightClick the Canvas to create a <b>UI > text</b> object called &quot;<b>textPlaceholder</b>&quot;.<br>
  <li> RightClick the Canvas to create a <b>UI > image</b> object called &quot;<b>imagePlaceholder</b>&quot;.
  
  <br>
  <li> Select them both in the Hierarchy, and in the Scene view, hit [w] and drag them up significantly above the Canvas, out of view of the MainCamera.<br>
  <li> Use these to "plug holes" in any GameHandler scripts slots not meant to be used in the framing scenes, like textHealth and textTokens.
</ol>
  <br>
  <b>12) Add the PauseMenu (see below):</b><br>
  Have you created a PauseMenu prefab? 
  <ol type="a">
  <li> Drag it onto the Canvas so it becomes the <strong>very bottom child</strong>. <br>
  <li> Set up the three Pause Menu <strong>buttons</strong> and <strong>volume slider</strong> Events with the local GameHandler. <br>
  <li> Drag the PauseMenu from the Hierarchy into  GameHandler's GameHandler_PauseMenu.cs script slot.
  </ol>
  
  <br><br>
  <b><font color = purple>SCENE #2:</font> Duplicate MainMenu to create</b> an <b> END SCENE: </b>&quot;<b>EndWin</b>&quot;. 
  <ol>
  <li> With MainMenu open: <b>File &gt; Save As</b> to name the new file &quot;<b>EndWin</b>&quot; and save in the Scenes folder. <br>
  <li> Change <b>TextTitle</b> to say &quot;<b>YOU WIN</b>&quot;.<br>
  <li> In <b>TextExplain</b> below it type 1-2 sentences to explain the player's fate.<br>
  <li> Delete the &quot;Credits&quot; button, change the text field of &quot;PLAY&quot; to &quot;<b>MAIN MENU</b>&quot; and keep &quot;<b>QUIT</b>&quot;. <br>
  <li> Change the <b>Onclick event</b> for the  &quot;Main Menu&quot; button to GameHandler &gt; RestartGame(). 
  <br>
  <li> To the BG_Art Image &gt; <b>Source Image</b> slot add your 1280x720 background &quot;Win&quot; image when it is ready.
  </ol>
  
  <br>
  <br>
  <b><font color = purple>SCENE #3:</font> Duplicate EndWin to create</b> the other<b> END SCENE: </b>&quot;<b>EndLose</b>&quot;. 
  <ol>
  <li> With EndWin open: <strong>File &gt; Save As</strong> to name the new file &quot;<b>EndLose</b>&quot; and save in the Scenes folder. <br>
  <li> Change <b>TextTitle</b> to say &quot;<b>YOU LOSE</b>&quot;.<br>
  <li> In <b>TextExplain</b> below it type 1-2 sentences to explain the player's fate.<br>
  <li> To the BG_Art Image &gt; <b>Source Image</b> slot add your 1280x720 background &quot;Lose&quot; image when it is ready.
</ol>
  <br>
  <br>
  <b><font color = purple>SCENE #4:</font> Duplicate EndLose to create</b> the &quot;<b>Credits</b>&quot;. 
<ol>
  <li> With EndLose open: <strong>File &gt; Save As</strong> to name the new file &quot;<b>Credits</b>&quot; and save in the Scenes folder. <br>
  <li> Change <b>TextTitle</b> to say &quot;<b>CREDITS</b>&quot;.<br>
  <li> In <b>TextExplain</b> below it type the names of all contributers. Optionally include roles, special thanks, etc.<br>
  <li> <strong>Delete</strong> the &quot;<strong>QUIT</strong>&quot; button, leaving only &quot;<b>MAIN MENU</b>&quot;. 
  <br>
  <li> To the BG_Art Image &gt; <b>Source Image</b> slot add your 1280x720 background &quot;Credits&quot; image when it is ready.
</ol>
<br>
  <br>
  <br>
  <img src="gamedesign/Unity2D/platformer_BuildSettings.png" alt="" width=295 height=196 align=right><b>ADD ALL SCENES TO Build Settings:</b><br>
  Open <b>File &gt; Build Settings</b> to <b>drag all Scenes</b> made so far into the top section. The order does not matter so long as the MainMenu is first: Move MainMenu to the top.
  <br>
  <br>
  Hit <b>[Player Settings]</b> to add your team name and game name near the top. 
  
  
  <br><br>
  Standalone build: under Resolution and Presentation set <b>FullscreenMode</b> to "Windowed" (1280x720) and turn on "<b>Resizeable Window</b>". 
  
  
  <br><br><br><br>
  <br>
  <b>WANT TO REPLAY A LEVEL INSTEAD OF GOING BACK TO START?</b><br>
  If your player loses a level, do you want them to be able to replay that level right away, rather than being forced to play the entire game again up to that point? 
  <br>
  This is already supported in the GameHandler.cs script, and you just need to make the button. 
  
  <br><br>
  Here are the steps:
  <ol>
  <li> Duplicate an existing button in the EndLose Scene. <br>
  <li> Name it &quot;<strong>Button_Replay</strong>&quot;. 
  <br>
  <li> Set the child text object text field to read "<strong>REPLAY LAST LEVEL</strong>".
  <br>
  <li> In the <strong>OnClick() </strong>(Inspector bottom) set the GameHandler.cs function to <strong>ReplayLastLevel()</strong>. 
  </ol>
  
  <br>
  <br>
  <em><strong>NOTE:</strong></em> You still need a separate &quot;MAIN MENU&quot; button that always goes back to the MainMenu. <br>
  <br>
</font></p>
</p></td></tr></table>
</div></td>
</tr></table>
<br>

<a name="01h">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr>
  <td>
<button class="accordion2">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1H]</b> <b>MENUS: PAUSE MENU, SHOP, MINIMAP</b> &nbsp; &nbsp; &nbsp;</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=purple><b>[1H]:</b></font> <b>MENUS</b></font></font>
<font face="arial"><br>
<a href="#01h1">PauseMenu</a> &nbsp;| &nbsp; <a href="#01h2">Shop</a>
 &nbsp;| &nbsp; <a href="#01h3">MiniMap</a> </font>
</center><font face=arial>

<br>Menus are added to the main Canvas HUD (&quot;Heads Up Display&quot;).<br><br>
Creat the <b>GameObject &gt; UI &gt; Canvas</b>. In the Inspector, set <b>Canvas Scaler &gt; UI Scale Mode</b> from Constant Pixel Size to <b>Scale with Screen Size</b>, 1280 x 720.<br>
<br>Note that in the Scene view the Unity Canvas displays enormous compared to the Sprite / Tilemap content (by design), but they overlap perfectly in the Game view.<br>

<br><br>
<a href="#01h"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01h1">&nbsp;</a><b>PAUSE MENU:</b>

<br><br>

    
<div class="w3-row-padding">
  <div class="w3-half">

<em><b>SUMMARY:</b></em> Add a <b>PauseMenu</b> to the Canvas in each Scene, to control volume and allow the player to restart the game. <br />
        <br />
The PauseMenu should be created AFTER the MainMenu, so it can use the same Button_MENU prefab, and have the Text Mesh Pro package already installed <br />
<br />
<b>Create the PauseMenu once</b> and drag it into the Project panel to make it a <b>Prefab</b>, to easily update add to the other Scenes. <br />
<br />
Use the GameHandler script for all PauseMenu methods.<br />
<br />
<b><em>IMPORTANT:</em></b> Delete any old <b>[ESC]-Quit </b>option from Update() so the Pause Menu toggles on / off when hitting [ESC], and does not Quit the game. <br />
<br />
<em><b>RECOMMENDED:</b></em> Add a button the upper-left corner of all Scenes, wth an OnClick() set to GameHandler &gt; Pause().

  </div>
  <div class="w3-half">
    <a href="gamedesign/Unity2D/PauseMenu.png" target="mix4"><img src="gamedesign/Unity2D/PauseMenu.png" alt="Sample Pause Menu" style="width:100%, height=auto"></a>

  </div>
</div>    
    
    
    <br />
    <p>
  <b>IMPORTANT PREFAB NOTES: <br />
  <nobr>ONLY use <em>SCENE</em> objects for MENU SCRIPT SLOTS!</nobr></b>  
<ul>
<li> When dragging the PauseMenu into the pauseMenuUI script slot, be sure to drag in<b> the PauseMenu from inside the Scene</b>, <em>NOT</em> the Prefab from the Project panel.
<li> Similarly, when dragging the PauseMenuHandler into the PauseMenu <b>button</b> <b>OnClick</b> and <b>Slider</b> functions, be sure to drag in <b>the PauseMenuHandler from inside the Scene</b>, NOT the Prefab from the Project panel. 
</ul>


<br>
<br>
<br>      
<p>
<a href="#TOP"><img src="comicsDesign/ArrowUp.png" alt="" /></a> 
<span class="topic">PAUSE MENU STEPS:</span>
<br />
<b>1. Create the parent Image object:</b>
<img src="gamedesign/Unity2D/Dialogue_setup_ImageRaycasting.png" alt="Img Raycasting Target = off" align=right>
<ol type="a">
<li> Select your <b>Canvas</b>, RightClick to create a <b>UI &gt; Image</b>.<br />
<li>In Inspector name it &quot;<b>PAUSEMENU_HANDLER</b>&quot;.<br />
 Check that PosX and PosY = 0, set size <b>1280 x 720</b>.
<br />
<li>Click the color rectangle to set  alpha=0 (to make it invisible).
<li><strong>IMPORTANT:</strong> In the Image Component, set <strong>Raycast Target</strong> = <strong>OFF</strong>. This way, the image will not block clicking on the Scene buttons behind it.
</ol>

<br />
<p>
<b>2. Create the Pause Menu Background Image object:</b>
<ol typ="a">
<li> In the Hierarchy RightClick PAUSEMENU_HANDLER to create a <b>UI &gt; Image</b>.<br />
The Image should now be a child of PAUSEMENU and centered. <br />
<li> In Inspector name it &quot;<b>PauseMenuUI</b>&quot;. <br />
Check that PosX and PosY = 0, set size <b>550 x 680</b>. <br />
<li> Click the color rectangle to set a dark color and alpha=150 <br />
 (to make it semi-transparent) 
</ol> 
 
<p>
<b>Want to add custom background art to your PauseMenu? </b>
<ul>
<li> Import a PNG image to your project (600x700). <br />
<li> In the Inspector make sure <b>Texture Type</b> = <b>Sprite 2D</b><br />
<li> In the Inspector with <b>PauseMenuUI </b>selected, drag the PNG into the <b>Source Image</b> slot. 
</ul>

<br><br>
<p>
<b>3. Create two Text labels: PAUSED and VOLUME: </b><br />
<ol type="a">
<li> In Hierarchy right-click your PauseMenuUI, create a <b>UI &gt;  Text TextMeshPro</b>. 
<br />
The Text should now be a child of the PauseMenuUI and centered. 
<li> In Inspector rename it &quot;<b>textPaused</b>&quot;. 
<br />
Set PosX = 0, Y=<b>200</b>, and size width and height = <b>500 x 80</b>.
<li> Set Text field to &quot;<b>PAUSED</b>&quot;, set font bold and size = <b>60</b>, align centered. 
<br />
Set color as desired.
<li> Select textPaused in the Hierarchy and duplicate (<b>[Ctrl / Cmd] + [D]</b>) to make a second Text label. <br />
Name the second Text objet <b>&quot;textVolume&quot;</b> and  set the text field to &quot;<b>VOLUME</b>&quot;. 
<br />
Drag this object down closer to the middle of PauseMenuUI.
</ol>

<br><br>
<p>
<b>4. Add 1st Button: RESUME:</b>
<ol type="a">
<li> DRAG the <strong>Button_MENU Prefab</strong> from the Project panel onto  PauseMenuUI in the Hierarchy.<br />
&nbsp; &nbsp; This Button should now be a child of the PauseMenuUI and centered. <br />
<li> In the Inspector rename it &quot;<b>ButtonResume</b>&quot;. Set Pos X = 0 and size = <b>300 x 80</b>.<br />
<li> Set Button text field to &quot;<b>RESUME</b>&quot;, set font bold and size = <b>40</b>.
<br />
<em><b>NOTE:</b></em> All buttons must be located in the Hierarchy below the text objects so they are not blocked by the Text objects.
</ol>

<br><br>
<p>
<b>5. Duplicate for 2nd and 3rd buttons: RESTART and QUIT:</b>
<ol type="a">
<li> Select ButtonResume in the Hierarchy and duplicate (<b>[Ctrl / Cmd] + [D]</b>) to make a second button. Position lower in the Scene.<br />
  Name the second button <b>&quot;ButtonRestart&quot;</b> and  Set text to &quot;<b>RESTART</b>&quot;.<br />
<li> Select ButtonResume and duplicate (<b>[Ctrl / Cmd] + [D]</b>) again to make a third button. Position lower in the Scene.
<br /> Name the third button <b>&quot;ButtonQuit&quot;</b> and  Set text to &quot;<b>QUIT</b>&quot;.
</ol>

<br>
<p>
  <b>6. Create the volume Slider:</b>
<ol type="a">
<li> RightClick your PauseMenuUI to create a <b>UI &gt;Slider</b>. <br />
<li> In the Inspector, with anything selected, add a new <b>Tag</b> called <b>&quot;PauseMenuSlider&quot;</b>. <br />
<li> Select your Slider in the Hierarchy and in the Inspector <b>add the new tag </b>&quot;PauseMenuSlider&quot;. <br />
<li> Set Slider <b>Min Value</b> = <strong>0.0001</strong> (leave Max Value at 1) and <b>Value</b> = 1. <br />
<li> Set Slider width= 300, height = 40. Open the Slider (click the triangle in the Hiearchy) to find and set Handle height = 40. Also, set Background color darker. 
</ol>

<p>
<em><b>NOTE:</b></em> Make sure your tag is spelled and capitalized correctly, or the script can disable on play.

<br><br>
<p>
<b>7. Create the Audio Mixer:</b>
<ol type="a">
<li> Open Window &gt; Audio &gt; <b>AudioMixer</b>.
<li> In the Mixer panel hit <b>[+]</b> to create a new mixer. Name it &quot;<b>MyMusicMixer</b>&quot;. 
<li> Select Mixer Groups &gt; <b>Master</b>. 
<li> In Inspector RightClick <b>Volume</b> to choose: &quot;<b>Expose 'Volume (of Master)' to Script</b>.&quot; 
<li> In  UpperRight corner of Mixer click <b>Exposed Parameters</b> rolldown. <li> Change name &quot;Volume of Master&quot; to &quot;<b>MusicVolume</b>&quot;.
</ol><br>
<p>
<a href="gamedesign/Unity2D/AudioMixer1b.png" target=audio>
<img src="gamedesign/Unity2D/AudioMixer1b.png" alt="Audo Mixer Settings" style="width=100%, height=auto"> 
</a>

<br><br>
<br><br>
<p>
<b>8. Create new PauseMenuHandler.cs script</b>: <br />
In your scripts folder, rightclick to <strong>create</strong> a new <strong>MonoBehaviour Script.</strong><br>
<strong>Open</strong> the new script in your edtor, <strong>copy</strong> the content below into it. <br />
<strong>Save</strong> the script and return to Unity to compile the changed script. 


<p>
  <center>
    <em>PauseMenuHandler.cs</em>:
  </center>
</font><div class="blockScript"><font color="#31849b" face="arial"><b>using</b></font><font face="arial"> System.Collections;<br />
    <font color="#31849b"><b>using</b></font> System.Collections.Generic;<br />
    <font color="#31849b"><b>using</b></font> UnityEngine;<br />
    <font color="#31849b"><b>using</b></font> UnityEngine.UI; <br />
    <font color="#31849b"><b>using</b></font> TMPro;<br />
    <font color="#31849b"><b>using</b></font> UnityEngine.SceneManagement;<br />
    <font color="#31849b"><b>using</b></font> UnityEngine.Audio;<br />
    <br />
    <font color="#31849b"><b>public class</b></font></font> <font face="arial"><b><font color="#365f91">PauseMenuHandler : MonoBehaviour</font></b> {<br />
    <br />
    <b>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">public</font> <font color="#31849b">static</font> <font color="#31849b">bool</font> </b>GameisPaused =<b> <font color="#365f91">false</font>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">public</font> <font color="#31849b">GameObject</font> </b>pauseMenuUI;<b><br />
&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">public</font> <font color="#31849b">AudioMixer</font> </b>mixer;<b><br />
&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">public</font> <font color="#31849b">static float </font></b>volumeLevel = 1.0f;<b><br />
&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">private</font> </b>Slider sliderVolumeCtrl;<br />
<br />
<b>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">void</font> </b>Awake(){ <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SetLevel (volumeLevel); <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameObject sliderTemp = GameObject.FindWithTag(&quot;PauseMenuSlider&quot;); <b><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#3ab050">if</font></b> (sliderTemp != null){ <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sliderVolumeCtrl = sliderTemp.GetComponent&lt;Slider&gt;(); <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sliderVolumeCtrl.value = volumeLevel; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
<b>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">void</font> </b>Start(){<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pauseMenuUI.SetActive(false); <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameisPaused =<b> <font color="#365f91">false</font>;<br />
</b>&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
<b>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">void</font> </b>Update(){<b><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#3ab050">if</font></b> (Input.GetKeyDown(KeyCode.Escape)){<b><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#3ab050">if</font></b> (GameisPaused){ Resume();          }<b><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#3ab050">else</font></b>{ Pause();          }<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<b><br />
&nbsp; &nbsp; &nbsp; &nbsp; }</b><br />
<br />
<b>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">public void</font> </b>Pause(){
<br>
<b><font face="arial"><b>&nbsp; &nbsp; &nbsp; &nbsp; </b></font>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#3ab050">if</font></b><strong> </strong>(!GameisPaused){ <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>&nbsp; &nbsp; &nbsp; &nbsp; </b>pauseMenuUI.SetActive(<font color="#365f91">true</font>);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>&nbsp; &nbsp; &nbsp; &nbsp; </b>Time.timeScale = <b><font color="#ed6c0a">0f</font></b>;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b>&nbsp; &nbsp; &nbsp; &nbsp; </b>GameisPaused = <b><font color="#365f91">true</font>;}<br />
      <font color="#3ab050">else</font></b> { Resume (); }<br />
      <font color=gray>//NOTE: This function is for the pause button</font><br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
<b>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">public</font> <font color="#31849b">void</font> </b>Resume(){<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pauseMenuUI.SetActive(false);<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time.timeScale = <b><font color="#ed6c0a">1f</font>;<br />
</b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameisPaused =<b> <font color="#365f91">false</font>;<br />
</b>&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
<b>&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b">public</font> <font color="#31849b">void</font> </b>SetLevel (float sliderValue){<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mixer.SetFloat(&quot;MusicVolume&quot;, Mathf.Log10 (sliderValue) *<b> <font color="#ed6c0a">20</font>); <br />
</b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; volumeLevel = sliderValue; <br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>public</b></font></font> <font color="#31849b" face="arial"><b>void</b></font><font face="arial"> RestartGame(){ <br />
<b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b>Time.timeScale = <b><font color="#ed6c0a">1f</font>;</b><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(<font color="#ed6c0a"><b>&quot;MainMenu&quot;</b></font>);<b><br />
</b><font color="gray">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Please also reset all static variables here, for new games!</font><br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>public</b></font></font> <font color="#31849b" face="arial"><b>void</b></font><font face="arial"> QuitGame(){ <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#804000">#if UNITY_EDITOR</font></font> <font face="arial"><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UnityEditor.EditorApplication.isPlaying = <font color="#365f91"><b>false</b></font>; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#804000">#else</font></font> <font face="arial"><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Application.Quit(); <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color="#804000">#endif</font></font> <font face="arial"><br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
}</font></div><font face=arial>



<p><br />
  <b>9. Apply the script and fill Hierarchy PauseMenuHandler script slots:</b> 
<ol type="a">
  <li>Select the  <strong>PAUSEMENU_HANDLER</strong> in the Hierarchy, and apply the <strong>PauseMenuHandler.cs</strong> script. 
  
  <li>In the Inspector, into the &quot;<b>pauseMenuUI</b>&quot; <b>script slot</b> drag your Hierarchy <strong>PauseMenuUI</strong> object.
  
  <li>For the &quot;<b>mixer</b>&quot; <b>script slot</b> hit the <b>hotspot</b> to load your <b>MyMusicMixer</b> object. 
</ol>  
  
  
<br />
<br />
<p>
  
  
<b>10. Set-up Pause Menu Buttons functionality:</b>

<div class="w3-row-padding">
  <div class="w3-half">

<ol type="a">
  <li>Select each <b>Button</b>, in Inspector find <b>OnClick field</b>, hit <b>[+]</b>.<br />
  <li>Drag <b>Hierarchy</b> <b>PAUSEMENU_HANDLER</b> object into the &quot;<b>None</b>&quot; slot.<br />
  <li>Click <b>[No Function]</b> to find the <b>PauseMenuHandler()</b> script and choose the corresponding function:
	<ul>
<br /><b>Resume()</b> for ending the pause
<br /><b>RestartGame()</b> for ending the game and returning to the main menu
<br><b>QuitGame()</b> to Quit the game app
	</ul> 
</ol>

  </div>
  <div class="w3-half">
    <a href="gamedesign/Unity2D/AudioMixer4.png" target="mix4"><img src="gamedesign/Unity2D/AudioMixer4b.png" alt="audio Mixer step 4" style="width:100%,height=auto"></a>
    <br>
  </div>
</div>

<br />
<br />
<p>
<b>11. Set-up Pause Menu Slider functionality:</b>
<ol type="a">
<li>Select the <b>Slider</b>. 
<li>In Inspector  find the <b>OnValueChanged</b> field and hit <b>[+]</b>. 
<li>Drag the PAUSEMENU_HANDLER into None, 
<li> Click [No Function] to find the PauseMenuHandler() script. 
<br /> 
At the TOP of options under <font color="#666666" face="arial"><b>Dynamic float</b></font> choose <b>&quot;SetLevel&quot;</b> 
<br /> 
(use the <b>TOP</b> option, <b>NOT</b> the lower one). 
</ol>


<p><br />
</p>
<p> 12 <strong>Add a physical button to pause the game,</strong> so you don't have to hit [ESC]: </p>
<ol type="a">
  <li> Right-click the PAUSEMENU_HANDLER to create a <strong>UI &gt; Button.</strong><br />
  </li>
  <li> In the Inspector name it &quot;<strong>PauseButton</strong>&quot;, sized 60 x 60. <br />
  </li>
  <li> At the bottom, find the <strong>OnClick</strong> and hit <strong>[+]</strong>. <br />
  </li>
  <li> <strong>Drag</strong> the PAUSEMENU_HANDLER from the Hierarchy into the OnClick &quot;<strong>None</strong>&quot; slot. <br />
  </li>
  <li> Choose the <strong>function</strong>: PauseMenuHandler &gt; <strong>Pause()</strong>. <br />
  </li>
  <li> In the Scene view <strong>move</strong> it into the upper left corner of the Canvas. </li>
  <li> <strong>Decide the display:</strong> <img src="gamedesign/Unity2D/gear.png" alt="" align="right" /> <br />
    Open the PauseButton in the Hierarchy to select the <strong>Text</strong> object. <br />
    In the Inspector set the text field = <strong>||</strong>.
    <center>
      AND / OR
    </center>
    Select the Button and in the Inspector, under Image, find <strong>Source Image</strong> and drag in your pause button PNG art (like this gear.PNG). </li>
</ol>

<br><br>
<p>
To <b>playtest</b>, hit <b>Play.</b> Try tapping the Pause Button and Resume Button, or the the <b>[Esc]</b> key to toggle your Pause Menu! Turn off Play for the final steps. <br />
<br />
<br />
<p> <b>13.</b><em> <b>REPLICATE THE PAUSE MENU AS A PREFAB:</b></em> </p>
<ol type="a">
  <li> Drag the PAUSEMENU_HANDLER into the <b>Project</b> panel to make a <b>Prefab</b>. </li>
  <li> Then, <b>drag</b> this <b>PAUSEMENU_HANDLER Prefab</b> into <b>all Scenes</b>, onto the existing <b>Canvas</b> object (to parent).
    It shoud be the bottom item in the Canvas Hierarchy. Because the script is included, it should work a a self-contained system.<br />
  </li>
  <li>The GameHandler Prefab should also be in each Scene (but not as a child of the Canvas).<br />
  </li>
</ol>
<p> <em><b>IMPORTANT: </b></em> The default Update() function in the original GameHandler script <b>using the [ESC] key to quite the game</b>, needs to be <b>deleted or commented out</b>, or otherwise every time you try to hit [ESC] to pause the game in the actual build, it will instead close the game. <br />
</p>
<p><br /><br>



<br>
<strong><em>SCRIPT SLOT REMINDER: </em></strong> The only time we drag a Prefab from the Prefabs folder into an active Scene script slot   is when we are instantiating (spawning) a bullet or  enemy, etc. All <strong>BUTTON ONCLICK</strong> slots should be populated with a <strong>LOCAL SCENE COPY</strong> of the script holder (the GameHandler). 

<!--
<br><b>a.</b> Add a pauseMenu  to the Canvas in each Scene (please see full Pause Menu instructions <a href="GameDesign_UnityUI.html#pause" target=pm><font face="arial"><b>here</b></font></a>).<br>
<b>Create once</b>, drag  into Project panel to make it a <b>Prefab</b>, add the Prefab to the other Scenes. <br>
<b>Add the PauseMenu.cs script below to the GameHandler prefab</b>, and delete any <b><font face="arial">[ESC]-Quit </font></b>option from the GameHandler.cs Update() method so hitting [ESC] will only toggle on / off the Pause Menu. <br>
<br>
<b><font face="arial"> IMPORTANT: USE SCENE OBJECTS FOR SCRIPT SLOTS: </font></b><br>
</font>
  <li><font face="arial">When dragging the pauseMenu into the pauseMenuUI script slot, be sure you are dragging  the<b> pauseMenu from inside the Scene</b>, NOT the Prefab from the Project panel! <br>
    </font>
  <li><font face="arial">Similarly, when dragging the GameHandler into the pauseMenu buttons OnClick and slider functions, be sure you are dragging in <b>the GameHandler from inside the Scene</b>, NOT the Prefab from the Project panel! </font>
<font face=arial><br>
</font>
<center>
<font face="arial"><i>PauseMenu.cs script:</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial>
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
<font color=#3ab050><b>using</b></font> UnityEngine.SceneManagement;<br>
<font color=#3ab050><b>using</b></font> UnityEngine.Audio; <br><br>
<font color=#31849b><b>public class </b></font>
<font face=arial><font face=arial><font face=arial><font color=#365f91><b>PauseMenu : MonoBehaviour</b></font></font></font></font>{<br>
<br>
  &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public static bool</b></font></font> GameisPaused =<font color=#365f91><b> false</b></font>;<br>
    &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject pauseMenuUI;<br>
    &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> AudioMixer mixer;<br>
    &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public static float</b></font></font> volumeLevel = <font color=#e36c0a><b>1.0f</b></font>;<br>
    &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Slider sliderVolumeCtrl;
    <br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Awake (){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SetLevel (volumeLevel);<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameObject sliderTemp = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;PauseMenuSlider&quot;</b></font>);<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (sliderTemp != null){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sliderVolumeCtrl = sliderTemp.GetComponent&lt;Slider&gt;();<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sliderVolumeCtrl.value = volumeLevel;<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
    &nbsp; &nbsp; &nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Start (){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pauseMenuUI.SetActive(<font color=#365f91><b>false</b></font>);<br>
    &nbsp; &nbsp; &nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Update (){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (Input.GetKeyDown(KeyCode.Escape)){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (GameisPaused){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Resume();<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>else </b></font>{<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Pause();<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
    &nbsp; &nbsp; &nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Pause(){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pauseMenuUI.SetActive(<font face=arial><font color=#365f91><b>true</b></font></font>);<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time.timeScale = <font color=#e36c0a><b>0f</b></font>;<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameisPaused = <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
    &nbsp; &nbsp; &nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> Resume(){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pauseMenuUI.SetActive(<font color=#365f91><b>false</b></font>);<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time.timeScale = <font color=#e36c0a><b>1f</b></font>;<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameisPaused = <font color=#365f91><b>false</b></font>;<br>
    &nbsp; &nbsp; &nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> Restart(){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Time.timeScale = <font color=#e36c0a><b>1f</b></font>;<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//restart the game:</font><br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//SceneManager.LoadScene (SceneManager.GetActiveScene().buildIndex);</font><br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene (<font color=#e36c0a><b>&quot;MainMenu&quot;</b></font>);<br>
    &nbsp; &nbsp; &nbsp; }<br>
  <br>
  &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> QuitGame() {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#if UNITY_EDITOR</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UnityEditor.EditorApplication.isPlaying = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#else</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Application.Quit(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#804000>#endif</font><br>
&nbsp; &nbsp; &nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> SetLevel (<font face=arial><font color=#31849b><b>float</b></font></font> sliderValue){<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mixer.SetFloat(<font color=#e36c0a><b>&quot;MusicVolume&quot;</b></font>, Mathf.Log10 (sliderValue) * <font color=#e36c0a><b>20</b></font>);<br>
    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; volumeLevel = sliderValue;<br>
    &nbsp; &nbsp; &nbsp; } <br>
<br>
  }
<br><br><br>
  </font></td></tr></table>
</center>
-->


<!--
<br><br>
<font face=arial><b>PART 2. Mini Map:</b><br>
<b>a.</b> Are you creatign an exploration game, where each part of the map becomes visibel as it is reashed?To optionally create a Map menu element: add a button and a script to the Pause menu called &quot;view map&quot; which displays <br>
</font>
<center>
  <font face="arial"><i>MapMenu.cs script: </i>[WIP]<br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
        <br>
        <font color=#31849b><b>public class </b></font> <font color=#0070c0><b>MapMenu :</b> <b>MonoBehaviour</b></font> {<br>
        <br>
        &nbsp;<br>
        <br>
        } <br>
        <br>
        <br>
      </font></td>
    </tr>
  </table>
  <br><br>

</center>
--><br><br><br>
<a href="#01h"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01h2">&nbsp;</a>
<b>MAKING A SHOP:</b> 

<br>
Create a menu to display Player options for purchasing upgrades or in support of other mechanics.<br><br>
<b>a.</b> Make the Shop opening Button: 
<ol>
<li>Select the Canvas and create a button to open the Shop menu: GameObject &gt; <b>UI &gt;  Button - TextMeshPro</b>.
  <li>
In the Inpector  name it   &quot;<b>ButtonOpenShop</b>&quot;, size 200x60. 
  <li>In the child Text object, set font size = 40, and text field to  &quot;SHOP&quot;. 
  <li>
  <b>Move</b> the button to the upper right-corner of the Canvas. 
  <br>
  NOTE: This Shop  button can be always visible in game, or only visible when reaching milestones.
</ol>
  
  <br><br>
  <b>b.</b>  Select the Canvas and create a GameObject &gt; <b>UI &gt; Image</b>. In the Inspector name it &quot;<b>ShopMenu</b>&quot;.<br>
  Set Position X and Y = 0,  Width and Height = 1280 x 720, and color alpha = 0 (fully transparent).<br>
  <br>
  <b>c.</b> Select ShopMenu and add a <b>UI &gt; Image</b>. In the Inspector name it &quot;<b>ShopBG</b>&quot;. Set Position X and Y = 0,  Width and Height = 700 x 650, and a fun color  (if you are adding a custom sprite image, set color to white). 
  <br>
  If it was not automatically parented to ShopMenu, <b>drag</b> ShopBG onto ShopMenu to make it a <b>child</b>.<br>
  <br>
  <b>d.</b> Add title text: add a <b>UI &gt; </b><strong>Text - TextMeshPro</strong>. <br>In the Inspector name it &quot;<b>TextTitle</b>&quot;, set Positon X and Y =0, set Width and Height = 650 x 100. 
  <br>Enter the title of the shop into the text field, set the font size = 60, bold, and align center. 
  <br>
  <b>Drag</b> TextTitle onto ShopMenu to make it a <b>child</b> (must sit below ShopBG in the Hierarchy to be visible).<br><br>
  
  <b>e.</b> Create a <b>UI &gt; Button - TextMeshPro</b>, name it &quot;<b>ButtonCloseShop</b>&quot;, size 60x60. In the child Text object, set font size=40, and text field to just &quot;X&quot;. Drag onto ShopBG and locate in the upper right-corner of the Shop.<br><br>
  <b>f.</b> For a purchase-able element <b>create the following four objects</b>:
<ul>
<li> GameObject > <b>UI > Image</b>, name it &quot;<b>Item1Frame</b>&quot;, size 250x300. This can display a simple frame Sprite.
<li> GameObject > <b>UI > Image</b>, name it &quot;<b>Item1Art</b>&quot;, size 220x220. This will display your item Sprite.
<li> GameObject > <b>UI > </b><strong>Text - TextMeshPro</strong>, name it &quot;<b>Item1NameCost</b>&quot;, size 250 x 60, Font Size 40, Bold, align=center.
<li> GameObject > <b>UI &gt;  Button- TextMeshPro</b>, name it &quot;<b>Item1BuyButton</b>&quot;, size 250 x 60, Text Font Size 40, field= &quot;BUY&quot;.  
</ul>
<b>Parent</b> Item1Frame onto ShopMenu, and the other 3 onto Item1Frame.<br>
  <b>Arrange</b> the elements of item 1 in the frame: Image top, then name/cost, buy-button at bottom.<br>
  <b>Duplicate</b> Item1Frame (select, hit [Ctrl/Cmd]+[d]) for 2 more items, rename elements for item2 and item3.
<br><br>
<b>g.</b> Create a new <b>C# script</b> named &quot;<b>ShopMenu.cs</b>&quot; with the content below. 
<br>Save and <b>add this script to your GameHandler prefab</b>. 
<br><b>Fast-Drag</b> all elements into their respective <b>script slots</b>.
<br><b>Set item costs</b> as desired (make sure name texts match the variables in the ShopMenu.cs script).
<br><em><b>AUDIO NOTE:</b></em> Want to play a happy ka-ching sound with every purchase? Un-comment all relevant lines.


<br>
<br><br>
  <b><em>IMPORTANT:</em></b>
<ul>
<li> <b>Create this menu once</b>, drag  into Project panel to make it a <b>Prefab</b>, add the Prefab to the other Scenes.
<li> When dragging the ShopMenu into the shopMenuUI script slot, be sure you are dragging  the<b> ShopMenu prefab from inside the Scene</b>, NOT the Prefab from the Project panel! 
<li> Similarly, when dragging the GameHandler into the ShopMenu buttons OnClick functions, be sure you are dragging in <b>the GameHandler from inside the Scene</b>, NOT the Prefab from the Project panel!
<li> <em><b>GAMEHANDLER ACCESS:</b></em> 
<br>
The <strong>gameHandler</strong> reference (lower-case g) allows this script to access the local instance of the GameHandler object and it's script, to run the GameHandler function <strong>playerGetTokens(). </strong><br>
  On the other hand, the direct references to the <em><strong>GameHandler class</strong></em> (upper-case G) are accessing<strong> static variables</strong>, like <strong>gotTokens.</strong>
</ul>
  
  
  <br><br>
  <center>
    <i>ShopMenu.cs script:</i>
    </center>
<div class="blockScript">
        <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br><font color=#3ab050><b>using</b></font> System.Collections;<br><font color=#3ab050><b>using</b></font> UnityEngine;<br><font color=#3ab050><b>using</b></font> UnityEngine.UI;<br><font color=gray>//using UnityEngine.Audio;</font><br><br>
        <font color=#31849b><b>public class </b></font> 
        <font color=#365f91><b>ShopMenu : MonoBehaviour</b></font>{<br>
        <br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameHandler gameHandler;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static bool</b></font> ShopisOpen =
        <font color=#365f91><b> false</b></font>;<br>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject shopMenuUI;<br>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject buttonOpenShop;<br>
        <br>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject item1BuyButton;<br>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject item2BuyButton;<br>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject item3BuyButton;<br><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> item1Cost = <font face=arial><font color=#e36c0a><b>3</b></font></font>;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> item2Cost =<b><font color="#e36c0a"> 4</font></b>;<br>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> item3Cost = <font face=arial><font color=#e36c0a><b>5</b></font></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public AudioSource KaChingSFX;</font><br><br>
        
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Start (){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shopMenuUI.SetActive(<font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>&nbsp; &nbsp; &nbsp; }<br><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Update (){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> ((GameHandler.gotTokens &gt;= item1Cost) &amp;&amp; (GameHandler.gotitem1 ==<font color=#365f91><b> false</b></font>)) {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item1BuyButton.SetActive(<font color=#365f91><b>true</b></font>);}<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#3ab050><b>else</b></font> {&nbsp;item1BuyButton.SetActive(<font color=#365f91><b>false</b></font>);}<br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> ((GameHandler.gotTokens &gt;= item2Cost) &amp;&amp; (GameHandler.gotitem2 ==<font color=#365f91><b> false</b></font>))
        {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item2BuyButton.SetActive(<font color=#365f91><b>true</b></font>);}<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#3ab050><b>else</b></font> {&nbsp;item2BuyButton.SetActive(<font color=#365f91><b>false</b></font>);}<br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> ((GameHandler.gotTokens &gt;= item3Cost) &amp;&amp; (GameHandler.gotitem3 ==<font color=#365f91><b> false</b></font>))
        {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item3BuyButton.SetActive(<font color=#365f91><b>true</b></font>);}<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#3ab050><b>else</b></font> {&nbsp;item3BuyButton.SetActive(<font color=#365f91><b>false</b></font>);}<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//Button Functions:</font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> Button_OpenShop(){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;shopMenuUI.SetActive(<font color=#365f91><b>true</b></font>);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;buttonOpenShop.SetActive(<font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ShopisOpen = <font color=#365f91><b>true</b></font>;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Time.timeScale = <font color=#e36c0a><b>0f</b></font>;<br>&nbsp; &nbsp; &nbsp; }<br><br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> Button_CloseShop() {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;shopMenuUI.SetActive(<font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;buttonOpenShop.SetActive(<font color=#365f91><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ShopisOpen = <font color=#365f91><b>false</b></font>;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Time.timeScale = <font color=#e36c0a><b>1f</b></font>;<br>&nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> Button_BuyItem1(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler.playerGetTokens((item1Cost * -1));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameHandler.gotitem1 = <font color=#365f91><b>true</b></font>;
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//KaChingSFX.Play();</font><br>&nbsp; &nbsp; &nbsp; }<br><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> Button_BuyItem2(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler.playerGetTokens((item2Cost * -1));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameHandler.gotitem2 = <font color=#365f91><b>true</b></font>;
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//KaChingSFX.Play();</font><br>&nbsp; &nbsp; &nbsp; }<br><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> Button_BuyItem3(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler.playerGetTokens((item3Cost * -1));<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameHandler.gotitem3 = <font color=#365f91><b>true</b></font>;
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//KaChingSFX.Play();</font><br>
        &nbsp; &nbsp; &nbsp; }<br>}<br>
        <br>
 </div>
        
        
  <br>
  <b>h. Finally, adjust the GameHandler.cs script</b> to include <b>static bools</b> that acknowledge the purchased item/s (which can be used by other scripts to determine playerbuffs or other abilities). The GameHandler also needs a static int variable for the accumulated, spend-able tokens (like gold, etc) and the function to adjust that value (): </font>
  
  <br>
  <br>
  <center>
<i>add to GameHandler script:</i>
</center>
<div class="blockScript">
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static bool</b></font> gotitem1 = <font color=#365f91><b>false</b></font>;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static bool</b></font> gotitem2 = <font color=#365f91><b>false</b></font>;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static bool</b></font> gotitem3 = <font color=#365f91><b>false</b></font>;<br>
        <br>
</div>
  
<br>Hit <b>[Play]</b> to test, turn off play to resume editing.

<!--
<font face=arial><b>PART 2. Mini Map:</b>
<b>a.</b> Are you creating an exploration game, where each part of the map becomes visible as it is reached? To optionally create a Map menu element: add a button and a script to the Pause menu called &quot;view map&quot; which displays
-->

<br><br>
<br><br>
<br><br>


<a href="#01h"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01h3">&nbsp;</a> 
<b>MAKING A MINIMAP:</b><br>
(This tutorial is a <b>work-in-progress</b>, sourced here: 
<a href="https://youtu.be/waZBbsfwSzQ" target=minimap1>01</a>. Alternate system: 
<a href="https://youtu.be/kWhOMJMihC0" target=minimap2>02</a>)<br>
Have a large complex space for the player to traverse, and want to support player navigation?
<br>One method is to create a menu to display Player position in a corner mini-map.


<br><br>
<b>a. Make the MAP:</b>
<ol>
<li> Take a <b>top-down screenshot</b> of the map layout, and in Photoshop prepare it as a <b>512x512 PNG.</b>

You can leave all the details of the screenshot, or stylize it as a white cut-out of the same shapes, etc.<br>
<li>Import the PNG into Unity.<br>
<li> RightClick the Scene (or Prefab) Canvas to create a <b>UI &gt; Image.</b><br>
<li> In the Inspector name the image &quot;<b>MiniMap</b>&quot;, and locate in a corner of the Canvas.
</ol>


<br><br>
<b>b. Make the PLAYER ICON (Canvas Image):</b>
<ol>
<li> RightClick the MiniMap in the Canvas to create another <b>UI &gt; Image.</b><br>
<li> In Inspector name it &quot;<b>playerInMap</b>&quot;, scale it small, and color it to be easy to see against the map (red, etc)

<br>
<li> Create a new <b>tag</b> called &quot;<b>mm_playerInMap</b>, &quot; and apply it to playerInMap.
</ol>

<br><br>
<b>c. Make the MAP END(Canvas Image):</b>
<ol>
<li> RightClick the MiniMap in the Canvas to create a third <b>UI &gt; Image.</b><br>
<li> In Inspector name it &quot;<b>miniMapEnd</b>&quot;, scale it small, and color it transparent.<br>
<li> Move it to the upper-right corner of the MiniMap in the Canvas.<br>
<li>
Create a new <b>tag</b> called &quot;<b>mm_miniMapEnd</b>&quot; and apply it to miniMapEnd.
</ol>


<br>
<b>d. Make the MAP PARENT (Empty GO):</b>]
<ol>
<li> RightClick the Hierarchy to make an Empty Game Object.<br>
<li> In Inspector name it &quot;<b>mapParent</b>&quot;.<br>
<li> <b><em>IMPORTANT:</em></b> Move to the <b>exact center</b> of the ACTUAL gameplay map (in a 2D game, Positon Z = 0).<br>
<li> Create a new <b>tag</b> called &quot; <b>mm_mapParent</b>&quot; and apply it to mapParent.]
</ol>

<br>
<b>e. Make the MAP PARENT END (Empty GO):</b>
<ol>
<li> RightClick the mapParent to make another Empty Game Object.<br>
<li> In Inspector name it &quot;<b>mapParentEnd</b>&quot;. 
<br>
<li> <b><em>IMPORTANT:</em></b> Move it to the upper-right corner of the ACTUAL gameplay map.<br>
<li> Create a new <b>tag</b> called &quot;<b>mm_mapParentEnd</b>&quot; and apply it to mapParentEnd.
</ol>

<br>
<b>f.</b> Create a new <b>C# script</b> named &quot;<b>MiniMap.cs</b>&quot; with the content below.
<ol>
<li> Save and <b>add this script to your PLAYER prefab</b>.<br>
<li> <b>Fast-Drag</b> all 4 elements into their respective <b>script slots</b>.
</ol>


<br><br>
<center>
<i>MiniMap.cs script:</i>
</center>
  
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font color=#31849b><b>public class </b></font> <font color=#365f91><b>MiniMap : MonoBehaviour</b></font>{<br>
<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public RectTransform</b></font></font> playerInMap;<br> 
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font><font face=arial><font face=arial><font color=#31849b><b>RectTransform</b></font></font></font></font> miniMapEnd;<br> 
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font></font><font face=arial><font color=#31849b><b>Transform</b></font></font> mapParent;<br> 
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>Transform</b></font></font> mapParentEnd;<br> 
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> <font face=arial><font color=#31849b><b>Vector3</b></font></font> normalized, mapped;<br>
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>void</b></font></font> Start(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerInMap = GameObject.FindWithTag(&quot;mm_playerInMap&quot;).GetComponent&lt;<font face=arial><font face=arial><font face=arial><font color=#31849b><b>RectTransform</b></font></font></font></font>&gt;();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; miniMapEnd = GameObject.FindWithTag(&quot;mm_miniMapEnd&quot;).GetComponent&lt;<font face=arial><font face=arial><font face=arial><font color=#31849b><b>RectTransform</b></font></font></font></font>&gt;();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mapParent = GameObject.FindWithTag(&quot;mm_mapParent&quot;).GetComponent&lt;<font face=arial><font color=#31849b><b>Transform</b></font></font>&gt;();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mapParentEnd = GameObject.FindWithTag(&quot;mm_mapParentEnd&quot;).GetComponent&lt;<font face=arial><font color=#31849b><b>Transform</b></font></font>&gt;();<br>
&nbsp; &nbsp; &nbsp; } <br>
<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> <font face=arial><font color=#31849b><b>void</b></font></font> Update(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; normalized = Divide(
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mapParent.InverseTransformPoint(this.transform.position),
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mapParentEnd.position - mapParent.position
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; normalized.y = normalized.z;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mapped = Multiply(normalized, miniMapEnd.localPosition);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  mapped.z =<font face=arial><font color=#e36c0a><b>0</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerInMap.localPosition = mapped;<br>
&nbsp; &nbsp; &nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font><font color=#31849b><b>static Vector3</b></font> Divide(Vector3 a, Vector3 b){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#365f91><b>return new </b></font> <font face=arial><font color=#31849b><b>Vector3</b></font></font>(a.x / b.x, a.y / b.y, a.z / b.z); <br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> <font color=#31849b><b>static Vector3</b></font> Multiply(Vector3 a, Vector3 b){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#365f91><b>return new </b></font> <font color=#31849b><b>Vector3</b></font>(a.x * b.x, a.y * b.y, a.z * b.z); <br>
&nbsp; &nbsp; &nbsp; }<br>
}</div>




<br><br><br>
<b>OPTIONALLY, ADD A MASK</b> (source <a href="https://youtu.be/g3gpXmo8zRo" target=mask>01</a> &nbsp; | &nbsp; 
<a href="https://youtu.be/tcU8yzv_xEw" target=scrollrect>02</a>
):
<br>
Want to mask the map in this <a href="gamedesign/Unity2D/MiniMap_circle.png" target=circle>Circle PNG</a>?
<ol>
<li> RightClick the Canvas to create a new <b>UI > Image</b>. <br>
<li> In the Inspector name it "MiniMap_Mask" and add the Cicle PNG to the Source Image slot.
<br>
<li> [Add Component] <b>UI > Mask</b>. <br>
<li> <b>Drag</b> MiniMap onto MiniMap_Mask to make it a child. The Mask automatically applies! <br>
<li> [Add Component] <b>UI > ScrollRect</b>. Drag the 


MiniMap object into the Content script slot. 
<br>This allows the player to click and drag the map
</ol>


<br>
A <a href="gamedesign/Unity2D/MiniMap_ring.png" target=ring>Border Ring PNG</a> can be added as an image <strong>below</strong> the masked MiniMap.
<ol>
<li> Create a <b>UI > Image</b>, size the same as the Mask, add the PNG to Source Image. <br>
<li> <b>Turn off Raycast Target</b> so the ring image does not block interactivity (clicking and dragging the ScrollRect) 
</ol>

<br><br></td></tr></table>

</div></td>
</tr></table>
<br>

<a name="01i">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr>
  <td>
<button class="accordion1">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1I]</b> <b>LEVEL CHANGES: Doors and Switches</b> </font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr><td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>
<font size=+2><font color=purple><b>[1I]:</b></font> <b>LEVEL CHANGES</b></font></font>
<font face="arial">
<br>
1. <a href="#01i1">Simple Door</a>&nbsp; | &nbsp;
2. <a href="#01i2">Two-Step Door</a> with a pop-up message&nbsp; | &nbsp; 3. <a href="#01i3">Door</a> opens by flipping a <a href="#01i4">Switch</a><br>
&nbsp; 4. <a href="#01i5">Door</a> opens by getting enough objects&nbsp;
</font>
<font face="arial">&nbsp; | &nbsp; 
5. Optional <a href="#01i6">Transitons</a>&nbsp; (cross fade, wipe, etc)
</font>
</center><font face="arial">

<br><br>
<font face=arial>
<a href="#01i"><img src="gamedesign/triangle_purple.png" alt=""></a><a name="01i1">&nbsp;</a>
<b>OPTION 1. Keep it simple:</b><b><em><br>
SUMMARY:</em></b> This script creates no entry requirements, and is always open. 
<ol type="a">
<li> Create an <strong>Empty GameObject</strong>. In the Inspector name it &quot;<strong>Door</strong>&quot; and reset Transforms. 
<br>
<li> [Add Component] a Physics2D &gt; <strong>BoxCollider2D</strong>, turn on <strong>isTrigger</strong>. <br>
<li> Drag a door/portal <strong>image</strong> sprite onto Door to make it a child. <br>
<li> In the Inspector type the name of the destination Scene into the <strong>NextLevel script slot</strong> (defautls to MainMenu). <br>
<li>  Make sure the destination Scene is loaded into the <strong>Build Settings:</strong>
<br>
Open <strong>File menu > Build Settings</strong>, drag the destination Scene into the top area.
</ol>


<br><br>
When the Player touches it they will be transported to the Scene typed into the NextLevel script slot. <br><br> 
Note the critical namespace library at top of the script that allows Scene switching to happen: 
<br> 
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; </font><font color=#3ab050><strong>using</strong></font></font><strong> UnityEngine.SceneManagement</strong></font>
<br><br>

<center>
<i>DoorExitSimple.cs script:</i> (simple, no conditions)
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
      <font color=#3ab050><b>using</b></font> System.Collections;<br>
      <font color=#3ab050><b>using</b></font> UnityEngine; <br>
      <font color=#3ab050><b>using</b></font> UnityEngine.SceneManagement;<br>
      <br>
      <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>DoorExitSimple</b></font></font></font></font></font></font><font color=#365f91><b> : MonoBehaviour</b></font></font></font></font></font>{<br>
      <br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public string</b></font></font> NextLevel = <font color=#e36c0a><b>&quot;MainMenu&quot;</b></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> OnTriggerEnter2D(Collider2D other){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#e36c0a><b>&quot;Player&quot;</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene (NextLevel);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
}
</div>

<br>
<br>
<a href="#01i"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01i2">&nbsp;</a>
<b>OPTION 2. Two-Step Simple Door:</b> 
<br>
With this script the player <b>(1) <em>enables</em></b> the door by colliding with its isTrigger Collider, and then <b>(2) <em>activates</em></b> the door with a key-press. <br>
<br>
<b>a.</b> Create an <b>Empty Game Object</b>. In the Inspector name it "<b>Interactable_Door</b>" and reset Transforms. 
<br>
<b>[Add Component]</b> Physics2D > <b>BoxCollider2D</b> and turn on <b>isTrigger</b>. <br><br>
<b>b.</b> Create or <b>download</b> this <a href="gamedesign/Unity2D/message_pressE.png">press-e message</a>, <b>import</b>  into the Project. Set desired Properties in Inpector and drag into the Hierarchy onto <font face=arial>Interactable_Door</font> to make it a child.<br>
<br>
<b>c.</b> For the Door <b>visual</b>, either use a Door Sprite (drag into the Hierarchy and onto Interactable_Door) <b>OR</b> choose a Door image in the Background art. Move <font face=arial>Interactable_Door</font> into position.<br><br>
<b>d.</b> Select Interactable_Door and under the BoxCollider2D hit <b>Edit Collider</b> to surround the door and the space below and around it.<br><br>
<b>e.</b> Create a new C# script &quot;InteractableDoor&quot; with the following content. Apply this script to Interactable_Door. 


Drag the press-e message sprite into the script slot.<br><br>When the Player touches the collider they will see the message and when they press the key they will be transported to the Scene typed into the NextLevel script slot.</font><br><br>

<center>
<i>InteractableDoor.cs script:</i> (Collider enables door, key-press activates it)
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine; <br>
          <font color=#3ab050><b>using</b></font> UnityEngine.SceneManagement;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>InteractableDoor</b></font></font></font></font></font></font></font><font color=#365f91><b> : MonoBehaviour</b></font></font></font></font></font>{<br>
          <br>
          <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial><font color=#31849b><b>public string</b></font></font> NextLevel = <font color=#e36c0a><b>&quot;MainMenu&quot;</b></font>;<br>
          <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font></font> GameObject msgPressE;<br>
          <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public bool</b></font></font> canPressE =<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>; <br>
          <br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Start(){<br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>msgPressE.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>);<br>
          &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          <br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Update(){<br>
          <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> ((canPressE == <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>) &amp;&amp; (<font face="arial"><font color=#31849b><b>Input</b></font></font>.GetKeyDown(KeyCode.E))){<br>
          <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>EnterDoor();<br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</font></font><br>
          &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          <br>
          <font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>void</b></font></font> OnTriggerEnter2D(Collider2D other){<br>
          <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){        ;<br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>msgPressE.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>); <br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>canPressE =<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
          &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          <br>
          <font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>void</b></font></font> OnTriggerExit2D(Collider2D other){<br>
          <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>msgPressE.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>); <br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>canPressE =<font color=#0070c0><b><font color="#365f91" face="arial"> false</font></b></font>;<br>
          <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
          &nbsp; &nbsp; &nbsp; &nbsp; } <br>
          <br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> EnterDoor(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene (NextLevel);<br>
&nbsp; &nbsp; &nbsp; }
<br>
<br>
}
</div>


<br><br>
<a href="#01i"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01i3">&nbsp;</a>
<b>OPTION 3a. Open Door Depending on a Flipped Switch:</b>

<br><br>
<b>a.</b> <b>Create</b> an <b>Empty GameObject</b>. Name it &quot;<b>DOOR_SWITCH_SYSTEM</b>&quot;, reset Transforms.

<br><br>
<b>b.</b> <b>Create</b> a second <b>Empty GameObject</b>.
<ol> 
<li> In Inspector name it &quot;<b>DoorExit_Switch</b>&quot;, reset Transforms.
<li> <b>[Add Component]</b> Physics2D &gt; <b>BoxCollider2D</b>, turn on <b>isTrigger</b>.<li> Create and apply the <b>tag</b> "<b>Door</b>" to this object (so DoorSwitch can find and communicate with it).
<li> <b>Drag</b> DoorExit_Switch onto DOOR_SWITCH_SYSTEM to make it a child.
</ol>

<br><br>
<a href="gamedesign/Unity2D/PixelChar_SpritesheetB.png" target=tilemap><img src="gamedesign/Unity2D/PixelChar_SpritesheetB.png" alt=""  align=right></a><b>c.</b> <b>Create</b> or <b>download</b> 2 <b>PNG</b> images for the Door: one open and one closed (64 x 64). <br>
Import them into the Unity project panel (RightClick the Project panel, choose Import New Asset, browse to the asset/s on your computer to select them).


<br><br>
To use the provided provided spritesheets. 
<br>In the Inspector change the following settings and hit <b>[Apply]</b>:<br>
&nbsp; &nbsp; &nbsp; Sprite Mode = Multiple<br>
&nbsp; &nbsp; &nbsp; Pixels per Unit = 16<br>
&nbsp; &nbsp; &nbsp; Filter Mode = Point (no filter)<br>
&nbsp; &nbsp; &nbsp; Compression = none.<br>
Hit <b>[Apply]</b>. In the <b>[Sprite Editor]</b>  Slice by cell count, drag the specific Sprites for each door into the Hierarchy.<br><br>
<b>d.</b> <b>Drag</b> the 2 door images into the Hierarchy, and make them children of DoorExit_Switch. They should appear directly on top of each other. In the Inspector name the Hierarchy copies &quot;Door_open&quot; and &quot;Door_closed&quot; and set their Order In Layer to 90.

<br><br>
<b>e.</b> Create a new C# script &quot;DoorExit_Switch.cs&quot; with the following code. 
This script enables the collider to allow passage (and swap the door dsplay from closed to open) IF the Player has found and hit the associated switch.
<ol>
<li> <b>Add</b> this script to the DoorExit_Switch object.
<li> In the Inspector, <b>drag</b> the 2 images from the Hierarchy into the DoorClosedArt and DoorOpenArt <b>script slots</b>.
<li>
Also set the <b>Next Scene</b> text to the name of the level this door is meant to allow the Player to enter.
</ol><br>
</font>

<center>
<i>DoorExit_Switch.cs script:</i> (with switch-flipping condition)
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.SceneManagement;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>DoorExit_Switch : MonoBehaviour</b></font></font></font></font>{<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font></font> GameObject DoorClosedArt;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font></font>GameObject DoorOpenArt;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public string</b></font></font> NextScene = <font color=#e36c0a><b>&quot;MainMenu&quot;</b></font>;<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void </b></font></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DoorClosedArt.SetActive(<font color=#365f91><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DoorOpenArt.SetActive(<font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;Collider2D&gt;().enabled = <font color=#365f91><b>false</b></font>;<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void </b></font></font> DoorOpen(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DoorClosedArt.SetActive(<font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DoorOpenArt.SetActive(<font color=#365f91><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;Collider2D&gt;().enabled = <font color=#365f91><b>true</b></font>;<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void </b></font></font> OnTriggerEnter2D(Collider2D other){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#e36c0a><b>&quot;Player&quot;</b></font>){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(NextScene);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>
        }
</div>


<br><br>
Temporarily hide the DoorExit_Switch object and its children by selecting DoorExit_Switch and turnign off the checkbox in the Inspector upper-left corner.

<br><br><br>
<a href="gamedesign/Unity2D/TilemapA.png" target=tilemap><img src="gamedesign/Unity2D/TilemapA.png" alt="" align=right></a><b><font face=arial><b><font face=arial><a href="#01i"><img src="gamedesign/triangle_purple.png" alt=""></a></font></b><b><a name="01i4">&nbsp;</a></b></font></b>


<b>OPTION 3b. Make the Switch:</b><br><br>
<b>a.</b> <b>Create</b> a third <b>Empty GameObject</b>. 
<br>In the Inspector name it &quot;<b>DoorSwitch</b>&quot;, reset Transforms. 
<b><br>
[Add Component]</b> Physics2D &gt; <b>BoxCollider2D</b>, turn on <b>isTrigger</b>. <br>
Drag DoorSwitch onto DOOR_SWITCH_SYSTEM to make it a second child.<br>
<br>
<b>b.</b> <b>Create</b> or <b>download</b> two <b>PNG</b> images for the Switch: one left and one right (32 x 32). 
<br>Set and Apply Inspector Sprite properties (see (c) above). 
<br>Import them into the Unity project panel, drag them onto DoorSwitch.<br>
<br>
<b>c. </b>Create a new <b>C# script</b> named &quot;<b>DoorSwitch.cs</b>&quot; with the following code (This script, on collision with the Player, swaps art to &quot;flip&quot; the switch, and sends a message to DoorExit_Switch on the object with tag &quot;Door&quot;).<br>
<b>Add</b> this script to the DoorExit_Switch object.<br>
In the Inspector, <b>drag</b> the 2 images from the Hierarchy into  DoorClosedArt and DoorOpenArt <b>script slots</b>.<br>
Also set the <b>Next Scene</b> text to the name of the level this door is meant to allow the Player to enter.

<br><br>
<center>
<i>DoorSwitch.cs script:</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br><br>
<font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>DoorSwitch : MonoBehaviour</b></font></font></font></font></font></font>{<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject SwitchOffArt;<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject SwitchOnArt;<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject DoorObj;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start()
{<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwitchOffArt.SetActive(<font color=#365f91><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwitchOnArt.SetActive(<font color=#365f91><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DoorObj = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;Door&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; }<br><br> 
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void </b></font></font>OnTriggerEnter2D(Collider2D other){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#e36c0a><b>&quot;Player&quot;</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwitchOffArt.SetActive(<font color=#365f91><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SwitchOnArt.SetActive(<font color=#365f91><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DoorObj.GetComponent&lt;DoorExit_Switch&gt;().DoorOpen();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }
<br>}
<br><br>
</div>

<br><br>
<a href="#01i"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01i5">&nbsp;</a>
<b>OPTION 4. Open Door Depending on Acquired Pickups:</b> 
<br>
This script keeps the door closed (disables its collider) until the player has managed to acquire a certain number of items (like gems or a key), at which point the collider is activated, the art switches to the open door, and the player can &quot;enter&quot;.
<ul>
<br>
<li> Apply this script to a Door object with a BoxCollider2D and two child images, one open and one closed.<br>
<li> Enter the intended destination Scene name in the Inspector in the NextLevel script slot.
</ul>
<br>
<center>
<i>DoorExit_Items.cs script:</i> (with item collection condition)
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <font color=#3ab050><b>using</b></font> UnityEngine.SceneManagement;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>DoorExit_Items : MonoBehaviour</b></font></font></font></font></font>{<br>
         <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// NOTE: This script depends on the GameHandler having a public int &quot;thePieces&quot;
         <br> 
         </font><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//</font></font> <font color=gray>that is updated with each pickup collected.</font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameHandler gameHandler;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public string</b></font></font> NextLevel = <font color=#e36c0a><b>&quot;MainMenu&quot;</b></font>;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject exitClosed;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject exitOpen;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> piecesCollected;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> piecesNeeded = <font color=#e36c0a><b>1</b></font>;<br>
        <br>
        &nbsp; &nbsp; &nbsp; void Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exitClosed.SetActive(<font color=#365f91><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exitOpen.SetActive(<font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;Collider2D&gt;().enabled =<font color=#365f91><b> false</b></font>;<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; void Update(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; piecesCollected = gameHandler.thePieces;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (piecesCollected &gt;= piecesNeeded){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exitClosed.SetActive(false);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exitOpen.SetActive(true);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;Collider2D&gt;().enabled =<font color=#365f91><b> true</b></font>;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>else</b></font> {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;Collider2D&gt;().enabled = <font color=#365f91><b>false</b></font>;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> OnTriggerEnter2D(Collider2D other){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (other.gameObject.tag == <font color=#e36c0a><b>&quot;Player&quot;</b></font>){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene (NextLevel);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>
        } 
<br>
<br>
</div>
      
<br>
<li> For this script to function, the <b>GameHandler.cs</b> script needs two additions: <br>

&nbsp; &nbsp; &nbsp; a) Add a new variable to the top variables: <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> thePieces =<b><font color="#e36c0a">0</font></b>; <font face=arial><font color=gray>//</font></font> <font color=gray>if not static, will reset with each scene.</font><br>
<br>

&nbsp; &nbsp; &nbsp; b) Add a new function to increase this number:<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> AddPiece(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; thePieces += <font color=#e36c0a><b>1</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }

<br>
<br>
<li> Also, your Pickup objects script (see <b><font color=purple>[2a]</font></b>) needs to reference the GameHandler, so thePieces can increase:<br>
 &nbsp; &nbsp; &nbsp; a) Add to top variables:<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public bool</b></font></font> isPieces = <font color=#365f91><b>false</b></font>;  <font face=arial><font color=gray>//</font></font><font color=gray>an option the level designer can turn on in the inspector.</font><br><br>
&nbsp; &nbsp; &nbsp; b) Add to OnTriggerEnter2D() function:<br>

&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (isPieces == <font color=#365f91><b>true</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gameHandler.AddPiece();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; }<br>
<br>
<br>
<b><font face=arial><b><font face=arial><a href="#01i"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="01i6">&nbsp;</a></b></font></b><b>VISUAL EFFECT. Add Scene Transitions:</b><br>
Want to create a <b>Scene Transition</b>, like a <b>cross fades</b> or <b>wipe</b>? 
<br>Try this <a href="https://youtu.be/CE9VOZivb3I" target=transitons><b>video tutorial</b></a>
<br><br>
</td></tr></table>
</div></td></tr></table>

<br>
<a name="01j">&nbsp;</a> 
<br>
<table width=850 cellpadding=10 border=0><tr>
<td><button class="accordion1">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1J]</b> <b>LOCAL MULTIPLAYER: Custom Inputs for Player controls, Split Screen and Full Screen</b></font>
</button>
<div class="panel2">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>

<center>
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a> 
<font size=+2><font color=purple><b>[1J]:</b></font> <b>Custom Inputs and MULTIPLAYER: 
<br>LOCAL vs NETCODE</b></font>
</center>

<div> 
<h3>INPUT MANAGER</h3>
<p>Custom Input Axis and Input Buttons to easily allow Controllers and Keyboard input for player controlls:
<ul>
<li> <a href="#basicInputs">Basic Inputs</a><br>
<li> <a href="#rightjoystick">Right Joystick</a>
</ul>
<h3>LOCAL MULTIPLAYER</h3> 
<p>
(2-4 players on one computer) 
<ol>
<li> Multi-player controls with the <a href="#01j1">Legacy Input System</a><br>
<li> Split Screen: <a href="#01j2">Multi-Camera Set-Up</a><br>
<li> Make the <a href="#01j3">Prefab</a><br>
<li> Scoring for multiple players (<em>TK</em>)<br>
<li> MultiPlayer enemy targeting (<em>TK</em>)
</ol>
<br>
<a href="#01j6"><strong>NETCODE</strong></a> 
<br>
(for games on different computers) 
<ol>
<li> 
<strong><em>Netcode for Game Objects</em></strong> to transmit data<br>
<li> 
<strong><em>Relay</em></strong> for connecting players
</ol>


<br>
<br>
<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="basicInputs">&nbsp;</a> <font color=purple> <strong>CUSTOM INPUTS FOR EXTERNAL CONTROLLERS:</strong> </font> <br>
<b><em>SUMMARY:</em></b> 
<br>
The Input Manager sets one Input for many buttons, like for keyboard AND XBox controller. 

<p>
For example: 
<ul>
<li> The default <strong>Horizontal</strong> and <strong>Vertical</strong> Input Axis are already set to work with keyboard WASD and Arrows, as well as the contoller left Joystick. <br>
<li> The default <strong>Jump</strong> inputs already include the Spacebar and a controller button, and [W] and Up arrow can be easly added to the &quot;alt positive&quot; slots. <br>
<li> The default <strong>Fire1</strong> input uses LeftMouse click and another controller button.</ul> 

<br>
Movement inputs use <strong>Input.GetAxis</strong> or <strong>Input.GetAxisRaw</strong>.
<br>
Actions use <strong>Input.GetButtonDown</strong> for 1 click, or <strong>Input.GetButton</strong> for a sustained hold. <br><br>
Want a <strong>new function</strong> with new Inputs? Increase the Input Manager <strong>Array</strong> by 2 (one for keyboard and one for controller), and set the <strong>name</strong> (same on both) <strong>axis</strong>, and <strong>values</strong>. 




<br><br><br><br>
<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="rightjoystick"></a> <font color=purple><strong>Right Joystick Aiming (twin stick control)</strong></font><br>
<strong>Here is a more complex example:</strong><br>
For a 2D shooter using the <strong>mouse</strong> to set the shoot direction, we can set the <strong>right joystick</strong> to also choose direction:<br>
<br>
<strong>2D Top-Down Shooter Direction</strong> (<a href="https://youtu.be/ol-5ozqy7N8?si=zvy2iB-7ioBATuaU" target=rightJoystick><strong>source</strong></a>)<br>
<strong>1. Open the Input Manager</strong>, and add two Inputs:
<ol>
<li> Edit   &gt; Project Settings &gt; Input Manager.<br>
<li> Near the top, increase the <strong>Array</strong> by 2.
</ol>

<br><br>
<strong>2. Open these two new Inputs and make these changes:</strong>
<ol>
<li> <strong>Name</strong> the new Inputs: &quot;<strong>HorizontalRightStick</strong>&quot; and &quot;<strong>VerticalRightStick</strong>&quot; <br>

<li> Set the bottom values on both: <strong>Gravity</strong> = 0, <strong>Dead</strong> = 0.19, <strong>Sensitivity</strong> = 1.
<br>
<li> Set <strong>Type</strong> = <strong>Joystick Axis</strong>.<br>
<li> Set the HorizontalRightStick Axis = <strong>4th Axis (Joysticks)</strong>.<br>
<li> Set the VerticalRightStick Axis = <strong>5th Axis (Joysticks)</strong>.<br>
(delete any Positive, Negative, or Alt buttons values)
</ol>


<br><br>
<strong>3. Create the projectile:</strong>
<ol type="a">
<li><strong> Create </strong>an <strong>Empty Game Object</strong><strong>. </strong>Name it &quot;<strong>PlayerProjectile.&quot;</strong> Reset Transforms.
<li> <strong>[Add Component]</strong> BoxCollider2D. Enable isTrigger. <br>
<li><strong> [Add Component]</strong> Rigidbody2D. Set Gravity Scale = 0. <br>
<li><strong> </strong>Add the PlayerProjectile.cs script found in [1f].
<br>
<li><strong> Right-click</strong> to add a <strong>2D &gt; Sprite &gt; Triangle</strong> (until you have final art)<strong>.</strong>
</ol>

<br><br>
<strong>4. Select the &quot;Player&quot; object from [1C] and add the shoot objects: </strong>
<ol type="a">
<li> <strong>Right-click </strong>player to add an <strong>Empty Game Object</strong> child<strong>. </strong>Name it &quot;<strong>ShootBase.&quot;</strong><br>
<li><strong> Right-click </strong>ShootBase to add another <strong>GO. </strong>Name it <strong>&quot;ShootPoint,</strong>&quot; <strong>drag</strong> up: Y = 0.5<strong>.</strong>
</ol>

<br>
<strong>5. Create a new C# script, name it &quot;JoystickMouseAiming.cs&quot;. </strong>
<ol type="a">
<li> <strong>Add the content from 1 of these 2 scripts, </strong>for top-down OR side/platformer games.<strong> <br>
</strong>
<li> Drag <strong>ShootBase</strong> and <strong>ShootPoint</strong> to the script slots.<br>
<li> Set the bottom values on both: <strong>Gravity</strong> = 0, <strong>Dead</strong> = 0.19, <strong>Sensitivity</strong> = 1.
</ol>


<br>
<br>
<center>
<i>JoystickMouseAiming.cs script</i>
<br>
(for <strong>Top-Down games</strong>: assumes PlayerMoveAround.cs script is also applied)<i>:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic; <br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>JoystickMouseAiming</b></font>
        <font color=#365f91><b> : MonoBehaviour</b></font> {
  <br>
  <font face=arial><font face=arial>&nbsp; &nbsp;</font></font><font color=gray>//AIMING:</font>
  <br>	
  <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>private</b></font></font> Rigidbody2D rb; <br> 
  &nbsp; &nbsp;<font color=#31849b><b>private</b></font> Camera cam; 
  <br>
  <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>private</b></font></font> <font face=arial><font color=#31849b><b>Vector2</b></font></font> mousePos;
<br>
<br><br>
  <font face=arial><font face=arial>&nbsp; &nbsp;</font></font><font color=gray>//SHOOTING:</font>
  <br>	
  <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public</b></font></font> GameObject projectilePrefab; <br>	
  <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public</b></font></font> Transform shootPoint; <br>	
  <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public</b></font></font> Transform shootBase; 
<br> 
<font face=arial><font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public float</b></font></font></font> projectileSpeed = <font color=#e36c0a><b>10f</b></font>; 
<br><br>

	<font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp;</font></font></font></font><font color=gray>//Disable MouseControl when using Joystick:</font>
<br>	
<font face=arial><font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public bool</b></font></font></font> mouseOn = <font face=arial><font color=#365f91><b>true</b></font></font>; <br>

<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp;<font color=#31849b><b>private</b></font></font></font> <font face=arial><font face=arial><font color=#31849b><b>Vector2</b></font></font></font> mousePosLast; <font color=gray>//test mouse position change</font></font><br><br>
  &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Awake(){ <br>	
  &nbsp; &nbsp;<font color=gray>//assign rigidbody2D and camera to variables for AIMING: </font><br>	
  &nbsp; &nbsp; &nbsp; &nbsp; rb = GetComponent&lt;Rigidbody2D&gt;();
  <br>	
  &nbsp; &nbsp; &nbsp; &nbsp; cam = GameObject.FindGameObjectWithTag(<font color=#e36c0a><b>&quot;MainCamera&quot;</b></font>).GetComponent&lt;Camera&gt;() as Camera;
  <br>
  &nbsp; &nbsp;}
        
  <br><br>
  &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Update(){<br>		
  &nbsp; &nbsp;<font color=gray>//mouse location for AIMING</font><br>		
  &nbsp; &nbsp;&nbsp; &nbsp;mousePos = cam.ScreenToWorldPoint (Input.mousePosition);

<br><br>
&nbsp; &nbsp;<font color=gray>//enable mouse if used</font>
<br> 
&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (mousePos != mousePosLast){mouseOn = <font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font>;} <br>
&nbsp; &nbsp;&nbsp; &nbsp;mousePosLast = mousePos;     
<br>
<br>
&nbsp; &nbsp;<font color=gray>//add a player Input listener for SHOOTING:</font><br>		
&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (Input.GetButtonUp(<font face=arial><font color=#e36c0a><b>&quot;Fire1&quot;</b></font></font>)){<br>				
          &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;Shoot();<br>
          &nbsp; &nbsp;&nbsp; &nbsp;}<br>
          &nbsp; &nbsp;}<br><br>
          <font color=gray>//for AIMING:</font><br>	
          &nbsp; &nbsp;<font color=#31849b><b>void</b></font> FixedUpdate(){<br>
          &nbsp; &nbsp;<font color=gray>//joystick variables:</font><br>		
          &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>float</b></font></font></font> horizAxis = Input.GetAxis(<font face=arial><font color=#e36c0a><b>&quot;HorizontalRightStick&quot;</b></font></font>);<br>		
          &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>float</b></font></font></font> vertAxis = Input.GetAxis(<font face=arial><font color=#e36c0a><b>&quot;VerticalRightStick&quot;</b></font></font>);<br>		
          &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>float</b></font></font></font> directionMultiplier = <b><font color="#e36c0a">1</font></b>;<br>		
          &nbsp; &nbsp;<font color=gray>//if JOYSTICK values are non-zero, disable mouse and rotate using joystick:</font> 
          <br>		
          &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (horizAxis != <font face=arial><font color=#e36c0a><b>0f</b></font></font> || vertAxis != <font face=arial><font color=#e36c0a><b>0f</b></font></font>){<br>
          &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;mouseOn = <font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font>;<br>
<br>&nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//see if we are facing right or left:</font><br>
          &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (gameObject.GetComponent&lt;PlayerMoveAround&gt;().FaceRight){<br>
          &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;directionMultiplier =<font color="#e36c0a"> </font>-<font face=arial><font color=#e36c0a><b>1</b></font></font>;<br>
          &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;}<br>			
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>else</b></font></font> {directionMultiplier = <b><font color="#e36c0a">1</font></b>;}<br>			
&nbsp; &nbsp;<font face=arial>&nbsp; &nbsp;</font><font color=gray>//rotate  base by joystick input:</font> 
<br>			
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;float angle = Mathf.Atan2(horizAxis *directionMultiplier, vertAxis *-<b><font color="#e36c0a">1</font></b>) * Mathf.Rad2Deg;<br>

&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;shootBase.transform.localEulerAngles = new <font face=arial><font face=arial><font color=#31849b><b>Vector3</b></font></font></font>(<font face=arial><font color=#e36c0a><b>0f</b></font></font>, <font face=arial><font color=#e36c0a><b>0f</b></font></font>, angle);<br>		
&nbsp; &nbsp;&nbsp; &nbsp;}<br>		
&nbsp; &nbsp;<font color=gray>//otherwise, if the mouse is moving, rotate to MOUSE Position:</font> <br>		
&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>else</b></font></font> {
<br>
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (mouseOn){

<br>
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//rotation uses vector math to calculate angle, then rotates shootBase to mouse</font> <br>        	
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>Vector2</b></font></font></font> lookDir = mousePos - rb.position; <br>        	
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp;</font><font color=#31849b><b>float</b></font></font></font> angle = Mathf.Atan2(lookDir.y, lookDir.x) * Mathf.Rad2Deg -<font face=arial><font color=#e36c0a><b> 90f</b></font></font>; <br>
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//rb.rotation = angle;</font><br>			
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;shootBase.rotation=Quaternion.FromToRotation(<font face=arial><font face=arial><font color=#31849b><b>Vector3</b></font></font></font>.up, lookDir); <br>
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;} <br>      
&nbsp; &nbsp;&nbsp; &nbsp;} 
<br>
&nbsp; &nbsp;}
<br><br>
<br>	
<font color=gray>//for SHOOTING:</font><br>	
&nbsp; &nbsp;<font color=#31849b><b>void</b></font> Shoot(){<br>
&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>Vector2</b></font></font></font> fwd = (<font face=arial>shootPoint</font>.position - <font face=arial>shootBase</font>.position).normalized;<br>
&nbsp; &nbsp;&nbsp; &nbsp;GameObject bullet = Instantiate(projectilePrefab, shootPoint.position, Quaternion.identity);<br>
&nbsp; &nbsp;&nbsp; &nbsp;bullet.GetComponent&lt;Rigidbody2D&gt;().AddForce(fwd * projectileSpeed, ForceMode2D.Impulse);<br>
        &nbsp; &nbsp; &nbsp; } <br>
        <br>
        }
<br><br>
</div>

<br><br>
<br>

<center>
<i>JoystickMouseAiming_Platformer.cs script</i> <br>
    (for <strong>Platformer games</strong>: assumes PlayerMove.cs script is also applied)<i>:</i></center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic; <br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>JoystickMouseAiming_Platformer</b></font> <font color=#365f91><b> : MonoBehaviour</b></font> { <br>
        <font face=arial><font face=arial>&nbsp; &nbsp;</font></font><font color=gray>//AIMING:</font> <br>
        <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>private</b></font></font> Rigidbody2D rb; <br>
        &nbsp; &nbsp;<font color=#31849b><b>private</b></font> Camera cam; <br>
        <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>private</b></font></font> <font face=arial><font color=#31849b><b>Vector2</b></font></font> mousePos; <br>
        <br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp;</font></font><font color=gray>//SHOOTING:</font> <br>
        <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public</b></font></font> GameObject projectilePrefab; <br>
        <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public</b></font></font> Transform shootPoint; <br>
        <font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public</b></font></font> Transform shootBase; <br>
        <font face=arial><font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public float</b></font></font></font> projectileSpeed = <font color=#e36c0a><b>10f</b></font>; <br>
        <br>
        <font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp;</font></font></font></font><font color=gray>//Disable MouseControl when using Joystick:</font> <br>
        <font face=arial><font face=arial>&nbsp; &nbsp;<font color=#31849b><b>public bool</b></font></font></font> mouseOn = <font face=arial><font color=#365f91><b>true</b></font></font>; <br>
        <font face=arial><font face=arial><font face=arial>&nbsp; &nbsp;<font color=#31849b><b>private</b></font></font></font> <font face=arial><font face=arial><font color=#31849b><b>Vector2</b></font></font></font> mousePosLast; <font color=gray>//test mouse position change</font></font><br>
        <br>
        &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Awake(){ <br>
        &nbsp; &nbsp;<font color=gray>//assign rigidbody2D and camera to variables for AIMING: </font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; rb = GetComponent&lt;Rigidbody2D&gt;(); <br>
        &nbsp; &nbsp; &nbsp; &nbsp; cam = GameObject.FindGameObjectWithTag(<font color=#e36c0a><b>&quot;MainCamera&quot;</b></font>).GetComponent&lt;Camera&gt;() as Camera; <br>
        &nbsp; &nbsp;} <br>
        <br>
        &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Update(){<br>
        &nbsp; &nbsp;<font color=gray>//mouse location for AIMING</font><br>
        &nbsp; &nbsp;&nbsp; &nbsp;mousePos = cam.ScreenToWorldPoint (Input.mousePosition); <br>
        <br>
        &nbsp; &nbsp;<font color=gray>//enable mouse if used</font> <br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (mousePos != mousePosLast){mouseOn = <font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font>;} <br>
        &nbsp; &nbsp;&nbsp; &nbsp;mousePosLast = mousePos; <br>
        <br>
        &nbsp; &nbsp;<font color=gray>//add a player Input listener for SHOOTING. Set to Attack button:</font><br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (Input.GetButtonUp(<font face=arial><font color=#e36c0a><b>&quot;Fire1&quot;</b></font></font>)){<br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;Shoot();<br>
        &nbsp; &nbsp;&nbsp; &nbsp;}<br>
        &nbsp; &nbsp;}<br>
        <br>
        <font color=gray>//for AIMING:</font><br>
        &nbsp; &nbsp;<font color=#31849b><b>void</b></font> FixedUpdate(){<br>
        &nbsp; &nbsp;<font color=gray>//joystick variables:</font><br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>float</b></font></font></font> horizAxis = Input.GetAxis(<font face=arial><font color=#e36c0a><b>&quot;HorizontalRightStick&quot;</b></font></font>);<br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>float</b></font></font></font> vertAxis = Input.GetAxis(<font face=arial><font color=#e36c0a><b>&quot;VerticalRightStick&quot;</b></font></font>);<br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>float</b></font></font></font> directionMultiplier = <b><font color="#e36c0a">1</font></b>;<br>
        &nbsp; &nbsp;<font color=gray>//if JOYSTICK values are non-zero, disable mouse and rotate using joystick:</font> <br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (horizAxis != <font face=arial><font color=#e36c0a><b>0f</b></font></font> || vertAxis != <font face=arial><font color=#e36c0a><b>0f</b></font></font>){<br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;mouseOn = <font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font>;<br>
        <br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//see if we are facing right or left:</font><br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (gameObject.GetComponent&lt;PlayerMove&gt;().FaceRight){<br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;directionMultiplier =<font color="#e36c0a"> </font>-<font face=arial><font color=#e36c0a><b>1</b></font></font>;<br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;}<br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>else</b></font></font> {directionMultiplier = <b><font color="#e36c0a">1</font></b>;}<br>
        &nbsp; &nbsp;<font face=arial>&nbsp; &nbsp;</font><font color=gray>//rotate  base by joystick input:</font> <br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;float angle = Mathf.Atan2(horizAxis *directionMultiplier, vertAxis *-<b><font color="#e36c0a">1</font></b>) * Mathf.Rad2Deg;<br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;shootBase.transform.localEulerAngles = new <font face=arial><font face=arial><font color=#31849b><b>Vector3</b></font></font></font>(<font face=arial><font color=#e36c0a><b>0f</b></font></font>, <font face=arial><font color=#e36c0a><b>0f</b></font></font>, angle);<br>
        &nbsp; &nbsp;&nbsp; &nbsp;}<br>
        &nbsp; &nbsp;<font color=gray>//otherwise, if the mouse is moving, rotate to MOUSE Position:</font> <br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>else</b></font></font> { <br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font color=#3ab050><b>if</b></font></font> (mouseOn){ <br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//rotation uses vector math to calculate angle, then rotates shootBase to mouse</font> <br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>Vector2</b></font></font></font> lookDir = mousePos - rb.position; <br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp;</font><font color=#31849b><b>float</b></font></font></font> angle = Mathf.Atan2(lookDir.y, lookDir.x) * Mathf.Rad2Deg; <br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//rb.rotation = angle;</font><br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;shootBase.rotation=Quaternion.FromToRotation(<font face=arial><font face=arial><font color=#31849b><b>Vector3</b></font></font></font>.left * -1, lookDir); <br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;} <br>
        &nbsp; &nbsp;&nbsp; &nbsp;} <br>
        &nbsp; &nbsp;} <br>
        <br>
        <br>
        <font color=gray>//for SHOOTING:</font><br>
        &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Shoot(){<br>
        &nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>Vector2</b></font></font></font> fwd = (<font face=arial>shootPoint</font>.position - <font face=arial>shootBase</font>.position).normalized;<br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;GameObject bullet = Instantiate(projectilePrefab, shootPoint.position, Quaternion.identity);<br>
        &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;bullet.GetComponent&lt;Rigidbody2D&gt;().AddForce(fwd * projectileSpeed, ForceMode2D.Impulse);

<br><br>
<font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font color=gray>// Calculate the angle and set  bullet's rotation:</font>
<br>      
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font color=#31849b><b>Vector3</b></font></font></font> direction = (shootPoint.position - shootBase.position).normalized; <br>
<font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font color=gray>//Rigidbody2D rb = bullet.GetComponent&lt;Rigidbody2D&gt;();</font>
<br>
<font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font color=gray>//rb.velocity = direction * bulletSpeed; // Shoot the bullet in the mouse direction</font>
<br>      
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<font face=arial><font face=arial><font color=#31849b><b>float</b></font></font></font> angle = Mathf.Atan2(direction.y, direction.x) * Mathf.Rad2Deg; 
<br> 
<font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font face=arial>&nbsp; &nbsp;&nbsp; &nbsp;</font><font color=gray>// Adjust by -90 degrees</font>:
<br>
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;bullet.transform.rotation = Quaternion.Euler(new Vector3(<font face=arial><font color=#e36c0a><b>0</b></font></font>, <font face=arial><font color=#e36c0a><b>0</b></font></font>, angle - <font face=arial><font color=#e36c0a><b>90</b></font></font>)); <br>
&nbsp; &nbsp; &nbsp; }   
<br>
<br>
} <br>
<br>
</div>


<br>


<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; 
  <img src="gamedesign/bullet.png" alt=""> &nbsp; 
  <img src="gamedesign/bullet.png" alt="">
</center>


<br><br>
<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01j1">&nbsp;</a> 
<font color=purple>
<strong>LOCAL MULTIPLAYER PART  1. Multi-Player Inputs and Movement Controls:</strong>
</font>

<br>
<b><em>SUMMARY:</em></b> Create two player characters and apply the same movement script with unique Input Axis.
<br>
(This is also how to set your game functions to alternate inputs, like an XBox controller)

<br><br>
<a href="gamedesign/Unity2D/Inputs_Manager.jpg" target=newInputs><img src="gamedesign/Unity2D/Inputs_Manager_thumb.jpg" align=right width=250></a>
<br>
<b>a.</b> Create your custom <b>Input Axis</b>:
<ol>
<li> Open the Input Manager: 
<br>
on a PC: Edit &gt; <b>Project Settings &gt; Input Manager</b>.

<br>
<li> Open the <b>&gt; Axes</b> twirly to view all current Axes. 
<br>
&nbsp; &nbsp; <b>Increase the Size by 4</b> to add four more at the bottom. 

<br>
<li> Open the new 4 Axes (click their twirlies) 
<br>
Set the following <b>parameters</b> (Snap = on, Invert = off):
</ol>


<br><br>
<strong>Keyboard Inputs:</strong><br>

<center>
  <table width=85% border=1>
    <tr>
      <td bgcolor=#cccccc><font face=arial>NAME:</font></td>
      <td bgcolor=#f7f7f7><font face=arial>p1Horiz</font></td>
      <td bgcolor=#e7e7e7><font face=arial>p1Vert</font></td>
      <td bgcolor=#f7f7f7><font face=arial color=blue>p2Horiz</font></td>
      <td bgcolor=#e7e7e7><font face=arial color=blue>p2Vert</font></td>
      </tr><tr>
        <td bgcolor=#cccccc><font face=arial>NEGATIVE BUTTON:</font></td>
        <td bgcolor=#f7f7f7><font face=arial>s</font></td>
        <td bgcolor=#e7e7e7><font face=arial>a</font></td>
        <td bgcolor=#f7f7f7><font face=arial color=blue>left</font></td>
        <td bgcolor=#e7e7e7><font face=arial color=blue>down</font></td>
        </tr><tr>
          <td bgcolor=#cccccc><font face=arial>POSITIVE BUTTON:</font></td>
          <td bgcolor=#f7f7f7><font face=arial>w</font></td>
          <td bgcolor=#e7e7e7><font face=arial>d</font></td>
          <td bgcolor=#f7f7f7><font face=arial color=blue>right</font></td>
          <td bgcolor=#e7e7e7><font face=arial color=blue>up</font></td>
          </tr><tr>
            <td bgcolor=#cccccc><font face=arial>GRAVITY: </font></td>
            <td bgcolor=#f7f7f7><font face=arial>3</font></td>
            <td bgcolor=#e7e7e7><font face=arial>3</font></td>
            <td bgcolor=#f7f7f7><font face=arial color=blue>3</font></td>
            <td bgcolor=#e7e7e7><font face=arial color=blue>3</font></td>
            </tr><tr>
              <td bgcolor=#cccccc><font face=arial>DEAD: </font></td>
              <td bgcolor=#f7f7f7><font face=arial>0.001</font></td>
              <td bgcolor=#e7e7e7><font face=arial>0.001</font></td>
              <td bgcolor=#f7f7f7><font face=arial color=blue>0.001</font></td>
              <td bgcolor=#e7e7e7><font face=arial color=blue>0.001</font></td>
              </tr><tr>
                <td bgcolor=#cccccc><font face=arial>SENSITIVITY: </font></td>
                <td bgcolor=#f7f7f7><font face=arial>3</font></td>
                <td bgcolor=#e7e7e7><font face=arial>3</font></td>
                <td bgcolor=#f7f7f7><font face=arial color=blue>3</font></td>
                <td bgcolor=#e7e7e7><font face=arial color=blue>3</font></td>
                </tr><tr>
                  <td bgcolor=#cccccc><font face=arial>TYPE: </font></td>
                  <td bgcolor=#f7f7f7 colspan=4><font face=arial>Key or Mouse Button</font></td>
                  </tr><tr>
                    <td bgcolor=#cccccc><font face=arial>AXIS:</font></td>
                    <td bgcolor=#f7f7f7><font face=arial>X axis</font></td>
                    <td bgcolor=#e7e7e7><font face=arial>Y axis</font></td>
                    <td bgcolor=#f7f7f7><font face=arial color=blue>X axis</font></td>
                    <td bgcolor=#e7e7e7><font face=arial color=blue>Y axis</font></td>
                    </tr><tr>
                      <td bgcolor=#cccccc><font face=arial>JOY NUM: </font></td>
                      <td bgcolor=#f7f7f7 colspan=4><font face=arial>Get Motion from all Joysticks</font></td>
                  </tr></table>
</center><br>
To use  <strong>XBox Controllers</strong> also, create an additional 4 Axis with the <b>same axis names</b>, but these settings:<br>
<center>
  <table width=85% border=1>
      <tr>
        <td bgcolor=#cccccc><font face=arial>NAME:</font></td>
        <td bgcolor=#f7f7f7><font face=arial>p1Horiz</font></td>
        <td bgcolor=#e7e7e7><font face=arial>p1Vert</font></td>
        <td bgcolor=#f7f7f7><font face=arial color=blue>p2Horiz</font></td>
        <td bgcolor=#e7e7e7><font face=arial color=blue>p2Vert</font></td>
      </tr>
      <tr>
        <td bgcolor=#cccccc><font face=arial>NEGATIVE BUTTON:</font></td>
        <td bgcolor=#f7f7f7>&nbsp;</td>
        <td bgcolor=#e7e7e7>&nbsp;</td>
        <td bgcolor=#f7f7f7>&nbsp;</td>
        <td bgcolor=#e7e7e7>&nbsp;</td>
      </tr>
      <tr>
        <td bgcolor=#cccccc><font face=arial>POSITIVE BUTTON:</font></td>
        <td bgcolor=#f7f7f7>&nbsp;</td>
        <td bgcolor=#e7e7e7>&nbsp;</td>
        <td bgcolor=#f7f7f7>&nbsp;</td>
        <td bgcolor=#e7e7e7>&nbsp;</td>
      </tr>
      <tr>
        <td bgcolor=#cccccc><font face=arial>GRAVITY: </font></td>
        <td bgcolor=#f7f7f7><font face=arial>0</font></td>
        <td bgcolor=#e7e7e7><font face=arial>0</font></td>
        <td bgcolor=#f7f7f7><font face=arial color=blue>0</font></td>
        <td bgcolor=#e7e7e7><font face=arial color=blue>0</font></td>
      </tr>
      <tr>
        <td bgcolor=#cccccc><font face=arial>DEAD: </font></td>
        <td bgcolor=#f7f7f7><font face=arial>0.19</font></td>
        <td bgcolor=#e7e7e7><font face=arial>0.19</font></td>
        <td bgcolor=#f7f7f7><font face=arial color=blue>0.19</font></td>
        <td bgcolor=#e7e7e7><font face=arial color=blue>0.19</font></td>
      </tr>
      <tr>
        <td bgcolor=#cccccc><font face=arial>SENSITIVITY: </font></td>
        <td bgcolor=#f7f7f7><font face=arial>1</font></td>
        <td bgcolor=#e7e7e7><font face=arial>1</font></td>
        <td bgcolor=#f7f7f7><font face=arial color=blue>1</font></td>
        <td bgcolor=#e7e7e7><font face=arial color=blue>1</font></td>
      </tr>
      <tr>
        <td bgcolor=#cccccc><font face=arial>TYPE: </font></td>
        <td bgcolor=#f7f7f7 colspan=4><font face=arial>Joystick Axis</font></td>
      </tr>
      <tr>
        <td bgcolor=#cccccc><font face=arial>AXIS:</font></td>
        <td bgcolor=#f7f7f7><font face=arial>X axis</font></td>
        <td bgcolor=#e7e7e7><font face=arial>Y axis</font></td>
        <td bgcolor=#f7f7f7><font face=arial color=blue>X axis</font></td>
        <td bgcolor=#e7e7e7><font face=arial color=blue>Y axis</font></td>
      </tr>
      <tr>
        <td bgcolor=#cccccc><font face=arial>JOY NUM: </font></td>
        <td bgcolor=#f7f7f7><font face=arial>Joystick 1</font></td>
        <td bgcolor=#e7e7e7><font face=arial>Joystick 1</font></td>
        <td bgcolor=#f7f7f7><font face=arial color=blue>Joystick 2</font></td>
        <td bgcolor=#e7e7e7><font face=arial color=blue>Joystick 2</font></td>
      </tr>
    </table>
</center>
  <font face="arial">
  
<br><br>
<a href="gamedesign/Unity2D/Inputs_XBOX.jpg" target=newInputs2><img src="gamedesign/Unity2D/Inputs_XBOX.jpg" align=right width=200></a> 
<b><em>NOTE:</em></b> For attack or jump buttons, etc, two new Axis need to be made for each player: 
<br>a keyboard/Mouse input and an 
<a href="https://subscription.packtpub.com/book/game-development/9781783553631/1/ch01lvl1sec09/picking-the-controls" target=newXBox>XBox controller</a> 
button input. 
<br>Open existing examples, like the Jump or Fire Axis, to see settings. 

<br><br><br><br>
<br><br>
<b>b.</b> Make a <b>Player Character parent object: </b>
<ol>
<li> Create a GameObject &gt; <b>Empty GameObject</b>. 
<br><li> In the Inpector name it &quot;<b>Player1</b>&quot; and  <b>Reset Transforms</b>. 
<br><li> [Add Component] Physics2D &gt; <b>Rigidbody2D</b>. Set type = <b>Kinematic</b> and disable Constraints &gt; <b>Rotation Z</b>. 
<br><li> [Add Component] Physics2D &gt; <b>BoxCollider2D</b>. Set size to surround lower half. 
</ol>


<br><br>
<b>c.</b> Add <b>Player Art:</b>
<ol>
<li> <b>Drag</b> your Sprite 2D image from the Project panel into the Hierarchy (or create GameObject &gt; 2D &gt; Square).<br>
<li> In Inspector: name it &quot;<b>player1_art</b>&quot; and  <b>Reset Transforms</b>, then set Scale as needed. <b>Order in layer</b> = <b>100</b>.<br>
<li> <b>Drag</b> player1_art onto Player1 to make it a child.<br>
<em><b>NOTE:</b></em> To move Player1, carefully select Player1 in the Hierarchy. Clicking in the Scene view only selects art.
</ol>


<br>
<br>
<b>d.</b> Create a new C# script &quot;<b>MultiPlayerMove</b>.cs&quot; with the following content. 
<ol>
<li> Apply this script to the Player1 parent object (below the Rigidbody2D and BoxCollider2D). <br>
 <li> Enable &quot;isPlayer1&quot; (turn on checkbox in Inspector, if it is off).
</ol>
<br>

<center>
<i>MultiPlayerMoveAround.cs script:</i>
<br>
(modifes the top-down move script, changes in bold. 
<br>Platformer move / jump scripts can work, too)
</center> 

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;
<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
                      <font color=#3ab050><b>using</b></font> UnityEngine;<br>
                      <br>
                      <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>MultiPlayerMoveAround</b></font></font></font></font></font></font><font color=#365f91><b> : MonoBehaviour</b></font></font></font></font></font>{<br>
                      <br>
                      &nbsp; &nbsp; &nbsp; <font color=gray>//public Animator anim;</font> <br>
                      &nbsp; &nbsp; &nbsp; <font color=gray>//public AudioSource WalkSFX;</font> <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> Rigidbody2D rb2D;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private bool </b></font> FaceRight =<font face=arial><font color=#365f91><b> true</b></font></font>; <font color=gray>// determine which way player is facing.</font> <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static float</b></font> runSpeed = <font color=#e36c0a><b>10f</b></font>; <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> startSpeed = <font color=#e36c0a><b>10f</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> isAlive =<font face=arial><font color=#365f91><b> true</b></font></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> isPlayer1 =<font face=arial><font color=#365f91><b>false</b></font></font>;<br>
</font>


<br>
<font face=arial>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private </b></font><b><font color=#31849b>Vector3</font> hvMove;</b></font><br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rb2D = transform.GetComponent&lt;Rigidbody2D&gt;();<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//NOTE: Horizontal axis: [a] / left arrow is -1, [d] / right arrow is 1</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//NOTE: Vertical axis: [w] / up arrow, [s] / down arrow</font><br>
<font face=arial><font face=arial><b>&nbsp;</b></font><b>&nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050>if</font> (isPlayer1 == <font face=arial><font color=#365f91>true</font></font>){</b></font><b><br>
&nbsp; &nbsp; &nbsp; &nbsp; </b><font face=arial>&nbsp; &nbsp; &nbsp; </font><b>hvMove = new <font color=#31849b>Vector3</font>(Input.GetAxis(<font color=#e36c0a>&quot;p1Horiz&quot;</font>), Input.GetAxis(<font color=#e36c0a>&quot;p1Vert&quot;</font>), <font color=#e36c0a>0.0f</font>);


<br>
<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial>&nbsp;</font>&nbsp; &nbsp; &nbsp; &nbsp;}</font></font></font></font><br>
<font face=arial><font face=arial>&nbsp;</font>&nbsp; &nbsp; &nbsp; &nbsp;<font color="#3ab050">else</font> {</font><br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font>hvMove = new <font color=#31849b>Vector3</font>(Input.GetAxis(<font color=#e36c0a>&quot;p2Horiz&quot;</font>), Input.GetAxis(<font color=#e36c0a>&quot;p2Vert&quot;</font>), <font color=#e36c0a>0.0f</font>);


<br>
<font face=arial><font face=arial><font face=arial>&nbsp;</font>&nbsp; &nbsp; &nbsp; &nbsp;}</font></font></font></b><font face=arial><font face=arial><font face=arial></font><br>
<font face=arial></font></font><br>
&nbsp;</font>&nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(isAlive == <font face=arial><font color=#365f91><b>true</b></font></font>){

<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = transform.position + hvMove * runSpeed * Time.deltaTime;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#3ab050><b>if</b></font></font> ((Input.GetAxis(&quot;Horizontal&quot;) != 0) || (Input.GetAxis(&quot;Vertical&quot;) != 0)){<font color=gray><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; anim.SetBool (&quot;Walk&quot;, true);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; if (!WalkSFX.isPlaying){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WalkSFX.Play();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp; }</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <font face=arial><font color=#3ab050><b>else</b></font></font> {<font color=gray><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp;
anim.SetBool (&quot;Walk&quot;, false);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>// &nbsp; &nbsp;
WalkSFX.Stop();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// Turning. Reverse if input is moving the Player right and Player faces left</font>. <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>((hvMove.x &lt;<font color=#e36c0a><b>0</b></font> &amp;&amp; !FaceRight) || (hvMove.x &gt;<font color=#e36c0a><b>0</b></font> &amp;&amp; FaceRight)){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerTurn(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
&nbsp; &nbsp; &nbsp; } <br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private void </b></font> playerTurn(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// NOTE: Switch player facing label</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FaceRight = !FaceRight; <br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// NOTE: Multiply player's x local scale by -1.</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector3</b></font> theScale = transform.localScale;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; theScale.x *= -<font color=#e36c0a><b>1</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.localScale = theScale;<br>
&nbsp; &nbsp; &nbsp; }
<br><br>
}
</div>

<br>
<br>
<b>e.</b> Duplicate for <b>Player2:</b>
<ol>
<li> Select Player1 and drag it into the Project panel &gt; Assets  folder to make it a Prefab. 
In the Inpector, rename it &quot;Player_Prefab&quot;.<br>
<li> Back in the Hierarchy, select Player1 and hit <strong>[Ctrl / Cmd] + [d]</strong> to duplicate. <br>
<li> In the Inspector name it &quot;<b>Player2</b>&quot; and the art &quot;<b>player2_art</b>&quot;. Replace the source image if available.<br>
<li> <b>Disable</b> &quot;<b>isPlayer1</b>&quot; (turn off checkbox in Inspector).<br>
<li> <b>Move</b> Player1 and Player2 away from each other in the Scene, so they do not overlap. </ol>

<em><b>REMEMBER!:</b></em> 
<br>
To move a Player, carefully select the Player parent in the Hierarchy. Clicking in the Scene only selects the art, and maks it easy to acidentally move the art away from its parent.


<br><br>
Hit <strong>Play</strong> to test the separate movement controls (WASD and arrows). Turn off Play to resume. <br><br>
<em><b>NOTE:</b></em> Please see section <a href="#01c"><font color=#dc0bdc><b>[1C]</b></font></a> of this tutorial for instructions on implementing animation for each Player.<br>
<br>
<font face=arial><br>
</font><br>
<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01j2">&nbsp;</a>

<font color=purple>
<strong>LOCAL MULTIPLAYER PART </strong><b> 2. Multi-Camera Set-Up:</b> 
</font>
<br>
<b>SUMMARY:</b> Create a split-screen view to separately display each character, and then dynamically switch to a shared full-screen view when the players are in close enough proximity.


<br><br>
<a href="gamedesign/Unity2D/CameraViewportRecs.jpg" target=cvr><img src="gamedesign/Unity2D/CameraViewportRecs.jpg" align=right width=200></a>

<b>a.</b> Create two new GameObject &gt; <b>Camera</b> objects. 
<ol>
<li> In the Inspector name them &quot;<b>Camera_P1</b>&quot; and &quot;<b>Camera_P2</b>&quot;. 

<br>
<li> Be sure to Reset Transforms, and set Position Z = -10.<br>

<li> Find the AudioListener component on each and disable it (turn off the component check box).<br>
<li> Temporarily turn off the <b>MainCamera</b> by clicking the disable checkbox in the Inspector upper-left. 
</ol>

<br>
<br>
<b>b.</b> Change the Camera display settings:

<br>
The "<b>Viewport Rect</b>" parameters set the camera <strong>size</strong> relative to the full screen 
<nobr>(W = Width, H = Height)</nobr> 
and the <strong>position</strong> on the screen (X = Horizontal, Y = Vertical). 
<ol>
<li> Select Camera_P1, find Viewport Rect and set <b>W = 0.5</b> (this sets width to 50%). <br>
<li> Select Camera_P2, set <b>W = 0.5</b> and also <b>X = 0.5</b> (sets position to start at half screen). <br>Look in the Game view. These cameras now each occupy half the screen, displaying a split screen
</ol>

<br>
<br>
<b>c.</b> Create a new C# script &quot;CameraFollow.cs&quot; with the following content. 
<ol>
<li> Apply this script to each of the three cameras in the Scene. 
<li> Select Camera_P1, <b>quick-drag</b> Player1 into the &quot;target&quot; script slot. <br>
<li> Select Camera_P2, <b>quick-drag</b> Player2 into the &quot;target&quot; script slot (CameraMain target is step (d)).
</ol><br>
<center>
<i>CameraFollow.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>CameraFollow</b></font></font></font></font></font></font></font><font color=#365f91><b> : MonoBehaviour</b></font></font></font></font></font>{<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject target;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> camSpeed = 4.0f;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate () {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Vector2 pos = Vector2.Lerp ((Vector2)transform.position, (Vector2)target.transform.position, camSpeed * Time.fixedDeltaTime);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new Vector3 (pos.x, pos.y, transform.position.z);<br>
&nbsp; &nbsp; &nbsp; }<br>
}
</div>


<br>
<br>
<b>d.</b> <b>Create</b> an <b>Empty GameObject for the MainCamera target:</b>
<ol>
<li> In the Inspector name it &quot;<b>CameraManager</b>&quot;.<br>
<li> Be sure to Reset Transforms.<br>
<li> Select CameraMain in the Hierarchy. <b>Re-enable</b> in Inspector. <b>Quick-drag</b> CameraManager into &quot;target&quot; slot.
</ol>
<br>
<b>e.</b> Create a new C# script &quot;<b>CameraManager_SplitScreens</b>.cs&quot; with the following code.
<ol>
<li> Apply this script to the CameraManager.<br>
<li> In the Inspector, <b>quick-drag</b>  objects to fill the five script slots: all three cameras and both Players.
</ol><br>
  <center>
<i>CameraManager_SplitScreens.cs script:</i> (with switch-flipping condition)<br>
      </center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>CameraManager_SplitScreen : MonoBehaviour</b></font></font></font></font>{<br>
          <br>
          &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font></font> GameObject cameraMain;<br>
          &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font></font>GameObject cameraPlayer1;<br>
          &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font></font> GameObject cameraPlayer2;<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font></font>Transform player1;<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public </b></font></font> Transform player2;<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b><font face=arial><font face=arial> <font face=arial><font face=arial><b>float</b></font></font></font></font> </font></font>cameraDistance = <font color=#e36c0a><b>5f</b></font>;<br>




<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void </b></font></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraMain.SetActive(<font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraPlayer1.SetActive(<font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraPlayer2.SetActive(<font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp; }<br><br>




&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void </b></font></font> Update(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FindPlayerCenter(); <font color=gray>//the GameHandler acts as the target for the MainCamera</font><br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; float playerDistance = Vector3.Distance(player1.position, player2.position); <font color=gray>//get distance</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//if distance is within threshold, use fullscreen MainCamera</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#3ab050><b>if</b></font></font> (playerDistance &lt; cameraDistance){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraPlayer1.GetComponent&lt;Camera&gt;().enabled = <font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraPlayer2.GetComponent&lt;Camera&gt;().enabled = <font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraMain.GetComponent&lt;Camera&gt;().enabled = <font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//else, use splitscreen</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#3ab050><b>else</b></font></font> {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraPlayer1.GetComponent&lt;Camera&gt;().enabled = <font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraPlayer2.GetComponent&lt;Camera&gt;().enabled = <font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cameraMain.GetComponent&lt;Camera&gt;().enabled = <font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; }<br>
          <br>
&nbsp; &nbsp; &nbsp; <font color=gray>// set this object's position to the center of the two players</font><br>
          &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>void </b></font></font> FindPlayerCenter(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><font face=arial><font face=arial><font face=arial><font face=arial><b>Vector3</b></font></font></font></font></font></font> pos;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos.x = player1.position.x + (player2.position.x - player1.position.x) / <font color=#e36c0a><b>2</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos.y = player1.position.y + (player2.position.y - player1.position.y) / <font color=#e36c0a><b>2</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos.z = player1.position.z + (player2.position.z - player1.position.z) / <font color=#e36c0a><b>2</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new <font face=arial><font color=#31849b><font face=arial><font face=arial><font face=arial><font face=arial><b>Vector3</b></font></font></font></font></font></font>(pos.x, pos.y, 0);<br>
&nbsp; &nbsp; &nbsp; }<br>
          }
</div>

<br>
<br> <strong><em>NOTE:</em></strong> We disable the Camera Component instead of just using SetActive(false) on camera GameObjects so that other components stay active, like the MainCamera Audio Listener.<br>
<br>
 Hit <b>Play</b> to test Camera follow and to test the screens switching to a single full screen when players move close enough, and split back into two views when they move apart. Turn off Play to continue editing.<br>
 <br>

 <em><b>CHALLENGE:</b></em> What adjustments are needed  for the right-split camera to always follow the player on the right, and the left-split Camera to follow the player on the left, regardless of which character it is?<br><br>
<br><br>

<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="01j3">&nbsp;</a>  
<font color=purple><strong>
LOCAL MULTIPLAYER PART Part 3. Make the Player System into a Prefab:</strong></font><br>
<b>SUMMARY:</b> To easily add all of this work to multiple Scenes in your game, save it as a single Prefab!<br><br>
<b>a.</b> <b>Create</b> a new GameObject &gt; <b>Empty GameObject.</b><br>
In the Inspector name it &quot;<b>MultiPlayerSystem</b>&quot;. Make sure to <b>Reset Transforms</b> (this is critical!).<br><br>
<b>b.</b> <b>Drag</b> all three Cameras, the CameraManager, and both Players onto MultiPlayerSystem to make all six objects into children of MultiPlayerSystem.<br><br>
<b>c. Drag</b> the MultiPlayerSystem object down into the Project panel &gt; Assets folder, into your Prefabs folder.
<br>
The object should now be blue in both the Hierarchy and the Project panel, indicating it is a Prefab.
<br>From this point on, any critical changes to this Player and Camera system should be made in the Prefab, not in the Scene, to be sure those changes appear in all Scenes.

<br><br>
<br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial><br>
<br>
<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a>
<font color=purple>
<a name="01j6">&nbsp;</a> <b>NETWORKED MULTIPLAYER:</b>
</font>


<br>
<b>SUMMARY:</b> In 2022 Unity released a new 2-4 player networked game system: <a href="https://unity.com/products/netcode" target=net1><strong>Netcode for Game Objects</strong></a><br>
<p>
<strong>UNITY NETCODE:</strong>
<ul>
<li> Start: Netcode <a href="https://docs-multiplayer.unity3d.com/netcode/current/about/index.html" target=netdocs><strong>documentation</strong></a> and tutorial: 
&quot;<a href="https://docs-multiplayer.unity3d.com/netcode/current/tutorials/helloworld/index.html" target=net2>Hello World</a>&quot; <br>
<li> Then explore the <a href="https://docs-multiplayer.unity3d.com/?_ga=2.23565946.1994184551.1678645847-2051411392.1674449289" target=net3>Netcode Learning Hub</a><br>
<li> See this example Unity 2D project: &quot;<a href="https://unity.com/demos/galactic-kittens" target=net4>Galactic Kittens</a>&quot; 
</ul>

<br>
<p>
<em><strong>WATCH these Code Monkey Videos:</strong></em>
<ul>
<li> Galactic Kittens <a href="https://youtu.be/JIN9BRNMtjI" target=net5>video breakdown</a> (40 min) <br>
<li> Try this single <a href="https://docs.google.com/document/d/18lo1JvxH6vabYLAqlG9WpFQDghH_rmEzq5edU8JJVy4/edit#" targetnet=5b>1-hour tutorial</a> for move matching<br>
<li> Watch this FREE, full <a href="https://youtu.be/7glCsF9fv3s" target=net6> tutorial course</a> on Unity Network Games (2023, about 6 hours).
</ul>

<br>
<br>
<br>
<br>
</font></td>
</tr>
</table>

</div></td>
</tr>
</table>

<br>
<a name="01k">&nbsp;</a> <br>
<table width=850 cellpadding=10 border=0><tr>
<td><button class="accordion1">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [1K]</b> <b>READ / WRITE TO EXTERNAL FILES: JSON</b></font>
</button>
<div class="panel2">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a> 
<font size=+2><font color=purple><b>[1K]:</b></font> <b> READ and WRITE EXTERNAL FILES</b></font 
><br>
<a href="01k1a">BASIC</a> reading JSON files &nbsp; | &nbsp; 
 Read a JSON file from a <a href="01k1b">WEB URL</a><br>
<a href="01k1">Intro</a> to JSON files &nbsp; | &nbsp; 
<a href="01k2">Read</a> from a JSON file &nbsp; | &nbsp; 
<a href="01k3">Write</a> to a JSON file
</center>


<br>
<br>
<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01k1a">&nbsp;</a> <b>EXAMPLE  1. Reading a JSON file in the project
(<a href="https://youtu.be/XbdnG__wzZ8?si=E2_AHoFADVtMUujX" target=json1>source</a>):<em>

<p>
<em><strong>SUMMARY:</strong></em> JSON (<a href="https://www.json.org/" target=JSON1>JavaScript Object Notation</a>) is a data interchange language for Object, Array, and Values.
<ul>
<li> The file contains name / value pairs.<br>
<li> The basic Unity JSON package can handle most uses, but for more complicated uses of JSON consider importing the free &quot;JSON .NET for Unity&quot; package from the asset store.
</ul>

<br>
<p>
<strong>STEP 1:</strong> In your Unity Project panel, <strong>make a JSON text file:</strong>
<ul>
<li> RightClick the Assets folder. <br>
<li> Choose &quot;<strong>Show in Explorer</strong>&quot; to see the computer folder structure where your Unity project lives.<br>
<li> RightClick in the Assets folder to create a Text Document file, name it &quot;<strong>JSONtext</strong>&quot;.
</ul>
<br>
Open in your script editor, add the following, Save, close the Exploerer window, and return to Unity:

<br>
<br>
<center>
<i>JSONtext.txt script:</i>
</center>
<div class="blockScript">
{<br>
        &nbsp; &nbsp; &nbsp; &quot;player&quot;: [
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;{<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&quot;name&quot; : &quot;Grunt&quot;,<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;health&quot; : 100,</font></font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;mana&quot; : 20</font></font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;},<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;{<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&quot;name&quot; : &quot;Wizard&quot;,<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;health&quot; : 40,</font></font><br>
&nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;mana&quot; : 80</font></font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;},<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;{<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&quot;name&quot; : &quot;Cleric&quot;,<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;health&quot; : 80,</font></font><br>
&nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;mana&quot; : 50</font></font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;}<br>
        &nbsp; &nbsp; &nbsp;]
        
<br><br>
        }
<br>
</div>

<br>
<em><strong>NOTE:</strong></em> &quot;player&quot; is the class name. Multiple classes can be created for information to be listed / updated.<br>
<a href="#01j"></a>

Also note the colon after the class name and between each name / value pair, and the comma after each item pair (except the last) and between each entry (outside the curly braces). Missing any of these will cause an error.<br>
<br>
<br>
<strong>STEP 2:</strong> In your Unity Project panel, make a new <strong>C# file</strong> to communicate with the JSON file:<br>
RightClick the Unity  Editor Assets folder, create &gt; C# script, name it &quot;<strong>JSONreader</strong>.cs&quot;.<br>
<br>
DoubleClick to open in your script editor, add the following, Save, and return to Unity:


<br>
<br>
<center>
<i>JSONreader.cs script:</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>JSONreader : MonoBehaviour</b></font></font></font></font>{<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public </b></font><font face=arial><font face=arial><font color=#365f91><b>TextAsset</b></font></font></font></font> textJSON;<br>
<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>[System.Serializable]</b></font></font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public class</b></font><font face=arial><font face=arial><font color=#365f91><b> Player </b></font></font></font></font>{<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public string </b></font></font>name;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public int </b></font></font> health;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b><font face=arial><font face=arial> <font face=arial><b>int</b></font></font></font></font></font> mana;
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; <font color=gray>// these variables must be identical to the items in the JSONtext file</font>
        <br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>[System.Serializable]</b></font></font><br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public class</b></font><font face=arial><font face=arial><font color=#365f91><b> PlayerList </b></font></font></font></font>{<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public Player</b></font></font><strong>[]</strong> player;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; <font color=gray>// this variable must be identical to the class name in the JSONtext file</font> <br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public </b></font></font><font face=arial><font face=arial><font face=arial><font color=#365f91><b>PlayerList</b></font></font></font></font> myPlayerList = new <font face=arial><font face=arial><font face=arial><font color=#365f91><b>PlayerList</b></font></font></font></font>();<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=gray>// Write the external file to the Assets folder (need a different location to work in Build)</font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void </b></font></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;myPlayerList = JsonUtility.FromJson&lt;PlayerList&gt;(textJSON.text);<br>
        &nbsp; &nbsp; &nbsp; }<br>
        }
<br>
</div>



<br><br>
<a href="#01j"></a><strong>STEP 3: Test in the Unity Editor:</strong>
<ol>
<li> <strong>Add</strong> JSONreader to a Scene object. <br>
<li> <strong>Drag</strong> the JSONtext from the Project panel to the JSONreader textJSON <strong>script slot</strong> in the Inspector.<br>
 <li> Note the empty array in the Inspector. <br>
 <li> Hit <strong>Play</strong>, and see the full array as the JSON file is read into the object script. Turn off Play.
</ol>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>

<p>
<strong>To further test in a webGL build, try this:</strong>
<ol>
<li> Create a new Empty Game Object. In the Inspector name it &quot;<strong>playerObj</strong>&quot;, reset transforms.
<br>
<li> In the Hierarchy, RightClick playerObj to create a 2D > <strong>Sprite</strong> child (just the make the playerObj visible). <br>
<li> RightClick playerObj to create a <strong>Canvas</strong> child. In the Inspector name it &quot;playerCanvas&quot;, and set the following: <strong>Render Mode</strong> = <strong>World Space</strong>, <strong>PosY </strong>= <strong>1.1</strong>, <strong>Width </strong>= <strong>2</strong>, <strong>Height</strong> = <strong>1.4</strong>. <br>
<li> RightClick playerCanvas to create a UI > <strong>Text - TextMeshPro</strong>. In Inspector name it &quot;Text1&quot;, and set the following: Width = <strong>270</strong>, Height = <strong>60</strong>, and Scale X and Y = <strong>0.007</strong>. Type temp text into ther Text Field. Set <strong>Font Size</strong> = <strong>35</strong>. <br>
<li> Duplicate twice, spread the three Text objects vertically, name them Text1, Text2, Text3.
<br>
<li> Create a new C# script &quot;<strong>playerScript</strong>.cs&quot;. Add this script to playerObj, to manage the population of these text fields. Add the content below, save and return to Unity. Drag the 3 Text objects into the 3 script slots.<br>
<li> Make a <strong>Prefab</strong>: drag playerObj into the Project panel, then delete it from the Hierarchy.<br>
</ol>


<br>
<center>
<i>playerScript.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br />
        <font color="#3ab050"><b>using</b></font> TMPro;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
<br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>playerScript : MonoBehaviour</b></font></font></font></font>{<br>
        <br>
	&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font><font color=#365f91><b>TMP_Text</b></font> textName;<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public </b></font><font face=arial><font face=arial><font color=#365f91><b>TMP_Text</b></font></font></font></font> textHealth;<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public </b></font><font face=arial><font face=arial><font color=#365f91><b>TMP_Text</b></font></font></font></font> textMana;<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void </b></font></font> SetText(<font face=arial><font face=arial><font face=arial><font color=#365f91><b>string</b></font></font></font></font> name, <font face=arial><font face=arial><font face=arial><font color=#365f91><b>int</b></font></font></font></font> health, <font face=arial><font face=arial><font face=arial><font color=#365f91><b>int</b></font></font></font></font> mana){

<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
textName.text = "NAME: " + name; 

<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
textHealth.text = "Health: " + health; 

<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
textMana.text = "Mana: " + mana;         
        
<br>
&nbsp; &nbsp; &nbsp; }
<br>
}
</div>

<br><br>
<br>Next, <strong>revise</strong> the JSONreader.cs script to create these player objects and populate their Text fields:
<ol>
<li> Add the content below.<br>
<li> <strong>Drag</strong> the playerObj Prefab into the new script slot.
</ol>
<br>
<center>
<i><strong>add to</strong> JSONreader.cs script (new content in bold face):</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>JSONreader : MonoBehaviour</b></font></font></font></font>{<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public </b></font><font face=arial><font face=arial><font color=#365f91><b>TextAsset</b></font></font></font></font> textJSON;<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>[System.Serializable]</b></font></font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public class</b></font><font face=arial><font face=arial><font color=#365f91><b> Player </b></font></font></font></font>{<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public string </b></font></font>name;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public int </b></font></font> health;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b><font face=arial><font face=arial> <font face=arial><b>int</b></font></font></font></font></font> mana; <br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; <font color=gray>// these variables must be identical to the items in the JSONtext file</font> <br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>[System.Serializable]</b></font></font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public class</b></font><font face=arial><font face=arial><font color=#365f91><b> PlayerList </b></font></font></font></font>{<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public Player</b></font></font><strong>[]</strong> player;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; <font color=gray>// this variable must be identical to the class name in the JSONtext file</font> <br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public </b></font></font><font face=arial><font face=arial><font face=arial><font color=#365f91><b>PlayerList</b></font></font></font></font> myPlayerList = new <font face=arial><font face=arial><font face=arial><font color=#365f91><b>PlayerList</b></font></font></font></font>();
        
<br>
<br>
&nbsp; &nbsp; &nbsp;
	<font color=gray>// Added for webGL test #1</font><br>&nbsp; &nbsp; &nbsp;
	<font face=arial><font color=#31849b><b>public</b></font></font> <strong>GameObject playerPrefab; </strong><br>
<br>
        &nbsp; &nbsp; &nbsp; <font color=gray>// Write the external file to the Assets folder (need a different location to work in Build)</font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b> void </b></font></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;myPlayerList = JsonUtility.FromJson&lt;PlayerList&gt;(textJSON.text);

<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>// Added for webGL test #2</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<strong>myPlayerPopulator();</strong>        
        
<br>
        &nbsp; &nbsp; &nbsp; }
<br>
<br>     

<br>
&nbsp; &nbsp; &nbsp; <font color=gray>// Added for webGL test #3. </font>
<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//
Note the Class Player in the array of JSON class player (lowercase). </font>
<br>
<strong>&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b>public void</font></font> myPlayerPopulator(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050>foreach</font> (Player thisPlayer <font color=#3ab050>in</font> myPlayerList.player){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial><font face=arial><font color=#365f91>float</font></font></font></font> newX = Random.Range(-2,2); <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial><font face=arial><font color=#365f91>float</font></font></font></font> newY = Random.Range(-3,3); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial><font face=arial><font color=#365f91>Vector3</font></font></font></font> newLoc = new <font face=arial><font face=arial><font face=arial><font color=#365f91>Vector3</font></font></font></font>(newX, newY, 0); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GameObject newPlayer = Instantiate (playerPrefab, (transform.position + newLoc), Quaternion.identity); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; newPlayer.GetComponent&lt;playerScript&gt;().SetText(thisPlayer.name, thisPlayer.health, thisPlayer.mana);			
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>&nbsp; &nbsp; &nbsp; }

</strong><br>        
<br>
}
</div>

<br>
<li> Create a <a href="GameDesign_Unity#build" target=webGL><b>webGL build</b></a> to see the characters populate with the individual stats. 

<br><br><br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>

<font face="arial"><br>
<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01k1b">&nbsp;</a> <b>EXAMPLE  2. Reading a JSON file from a web URL 
(<a href="https://youtu.be/5j242VGGNZI?si=_3pPyokboWrzTH1h" target=json1>source</a>):<em> <br>
SUMMARY:</em></b> If the JSON file is outside of the build, it can be upadted without having to re-export the game.<br>
Unity can use a web URL to populate the values of a JSON file.

<br><br>

<br><br>

<br><br>

<br><br>

<br><br>

<br><br>

<br><br>

<br><br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial><br>
</font><font face="arial"><br>
<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01k1">&nbsp;</a> 
<b>PART  1. Understanding JSON files 
(sources: <a href="https://prasetion.medium.com/saving-data-as-json-in-unity-4419042d1334" target=json1>01</a> &nbsp; | &nbsp; 
<a href="https://videlais.com/2021/02/25/using-jsonutility-in-unity-to-save-and-load-game-data/" target=json1>02</a>):<em> 
<br>
SUMMARY:</em></b> JavaScript Object Notation: Object, Array, and Values. 
<br><br><br><br><br>
<br><br>

<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01k2">&nbsp;</a> 
<b>PART 2. Reading from a JSON file 
(<a href="https://youtu.be/XbdnG__wzZ8" target=json1>source</a>):</b> 
<br>
<b>SUMMARY:</b> Access the data from a JSON text file.<br>
<br><br><br><br><br>
<br><br>

<a href="#01j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="01k3">&nbsp;</a> 
<b>PART 3. Writing to a JSON file 
(<a href="https://youtu.be/LaxJMPhJZio" target=json1>source</a>):</b> 
<br>
<b>SUMMARY:</b> Generate a JSON text file.
Must add the namespace: using System.IO
<br>
NOTE: Application.dataPath goes to the Assets folder holding this script. This will only work for testing in the Editor. To work in a  build, try directing to the documents folder. 

<br><br>
<em><strong>STEPS:</strong></em><br>
<strong>1. Create a Canvas UI &gt; Button</strong> and an <strong>Empty GameObject</strong> named &quot;PlayerObj&quot;.<br>
<br>
<strong>2. Create a new C# script, </strong>name it &quot;<strong>JSONWriter.cs</strong>&quot;. Add the content below, apply to PlayerObj. 
<br>Fill out the script slots in the inspector. <br>
<br>
<strong>3. Apply to the Button:</strong> Select the Button. At the bottom of the Inspector add an <strong>OnClick</strong> Function. 
<br>
Drag PlayerObj into the &quot;None&quot; slot, and set the button to the outputJSON() function. <br>
<br>
Hit [Play], and click the button to see the .txt file get created in the Assets folder (may need to hit refresh).


<br><br>
<br>
<center>
<i>JSONWriter.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> System.IO;<br>
<br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font color=#365f91><b>JSONWriter : MonoBehaviour</b></font></font></font></font>{<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>[System.Serializable]</b></font></font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public class</b></font><font face=arial><font face=arial><font color=#365f91><b> Player</b></font></font></font></font>{<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public string </b></font></font>name;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public int </b></font></font> health;<br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b><font face=arial><font face=arial> <font face=arial><b>int</b></font></font></font></font></font> energy;<br>
        &nbsp; &nbsp; &nbsp; }<br>
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public </b></font></font><font face=arial><font face=arial><font face=arial><font color=#365f91><b>Player</b></font></font></font></font> myPlayer = new <font face=arial><font face=arial><font face=arial><font color=#365f91><b>Player</b></font></font></font></font>();<br>
<br>
        &nbsp; &nbsp; &nbsp; 
<font color=gray>// Write the external file to the Assets folder (need a different location to work in Build)</font><br>
        &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public void </b></font></font> outputJSON(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><font face=arial><font face=arial><font face=arial><b>string</b></font></font></font></font></font> strOutput = JsonUtlity.ToJson(myPlayer);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; File.WriteAllText(Application.dataPath + &quot;/text.txt&quot;, strOutput);<br>
        &nbsp; &nbsp; &nbsp; }<br>
        }
</div>        
        
        <br>
</font></td>
</tr>
</table>
</div></td>
</tr>
</table>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""><br><br>
<a name="02a">&nbsp;</a>
</center>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion3">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [2A]</b> <b>PICKUPS: INVENTORY, BOOSTS, KEYS</b></font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font face="arial" size=+2><font color=purple><b>[2A]:</b></font> <b>PICKUPS</b></font>
</center>
<center>
<table width=550><tr>
<td valign=top width=300><font face=arial>
<b>[A]. BASIC PICKUP:</b></font><font face=arial>
<br>
&nbsp; &nbsp;1. <a href="#02a1">PickUp Objects</a>
<br>
&nbsp; &nbsp;2. <a href="#02a2">Up-Down Movement</a>
or <a href="#02a2b">Color Pulse</a><br>
&nbsp; &nbsp;3. Player <a href="#02a3">Boosts</a>
<br>
&nbsp; &nbsp;4. <a href="#02a4">Randomization</a> (Top Down Games)
</font><font face=arial> <br>
&nbsp; &nbsp;5. <a href="#02a4b">Keys</a> / Locked Doors (level interior)</font></td>
<td valign=top>&nbsp; &nbsp;</td>
<td valign=top width=250><font face=arial>
<b>[B]. INVENTORY SYSTEM:</b>
<br>
&nbsp; &nbsp;1. <a href="#02a5"><b>Canvas</b></a> Set-Up
<br>
&nbsp; &nbsp;2. <a href="#02a6"><b>Game Inventory</b></a> Script
<br>
&nbsp; &nbsp;3. <a href="#02a7">Crafting</a> 
or <a href="#02a7">Cooking</a><br>
&nbsp; &nbsp;4. <a href="#02a8">Change</a> Player Abilities
<br>
&nbsp; &nbsp;5. Inventory <a href="#02a9"><b>PickUp</b></a>
</font></td>
</tr></table>
</center>
<br>
<font face="arial"><b></b></font><br>
<font face="arial"><b>[A]. BASIC PICK-UP OBJECTS FOR STAT CHANGES / BOOSTS:</b>

<br>
<b><em>SUMMARY:</em></b> This is a multi-purpose Pick-Up script that can be used for health or speed power-up boosts, etc.

<br>
<br>
<font face="arial"> <b><font face=arial><a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="02a1">&nbsp;</a></b></font><font color=purple><b>1. PICK-UP OBJECTS</b></font>
<br>
<b>a.</b> Create an <b>Empty Game Object</b> (RightClick the Hierarchy or open the GameObject menu). 
<br>
In the Inspector, set name to &quot;<b>PickUpBoost</b>&quot; and reset Transforms.
<br>
Add Component <b>BoxCollider2D</b>, set to <b>isTrigger</b>

<br><br>
<b>b.</b> Create <a href="gamedesign/CoinUnity.png" target=coin><b>art</b></a> for a pickup, like a key or gem (32 x 32 if pixel art).<br>
<b>Import</b> into the Project, set Inspector settings as needed: 
<br>
&nbsp; &nbsp; &nbsp; If it is pixel art, set Pixels Per Unit = <b>16</b>,
Filter Mode = <b>Point (no filter)</b>. 
<br>
&nbsp; &nbsp; &nbsp; If it is a spritesheet, set Sprite Mode = <b>Multiple</b>, hit <b>[Apply]</b>, slice up in the <b>[Sprite Editor]</b>.<br><br>
<b>c. </b>Drag the art into the Hierarchy, drag onto the PickUpBoost object to make it a child.


<br>
In the Inpector name it &quot;<b>pickup_art</b>&quot; and set <b>Order in Layer</b> = 90.<br><br>
<b>d.</b> If the art is a spritesheet meant to be animated (like a turning coin or a flashing gem): 
<br>
&nbsp; &nbsp; &nbsp; Select the Hiearchy art file, open <b>Window &gt; Animation &gt; Animation</b>. 
<br>
&nbsp; &nbsp; &nbsp; Hit <b>[create]</b> and name it objectname_anim. 
<br>
&nbsp; &nbsp; &nbsp; Drag the frames into the timeline, then drag the first frame in again to place at the end, for a loop. 
<br>
&nbsp; &nbsp; &nbsp; Stretch the timing to 30-60 frames.
<br><br>
<b>e.</b> Add a <a href="gamedesign/CoinPickUp.wav" target=sound><b>soundFX</b></a> file to the Project (WAV is best for short clips, MP3 is also an option). 
<br>
&nbsp; &nbsp; &nbsp; Drag the audio file onto the PickUpBoost object in the Hierarchy to add an Audio Source component. 
<br>
&nbsp; &nbsp; &nbsp; In the Inspector, turn off &quot;Play on Awake&quot;.<br><br>
<b>f.</b> Create a C# script called &quot;<b>PickUp.cs</b>&quot;, add content below. Save, and in Unity drag onto PickUpBoost.

<br><br>
<center>
<i>PickUp.cs script:</i><br>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font color=#31849b><b>public class </b></font>
<font color=#365f91><b>PickUp : MonoBehaviour</b></font>{

<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameHandler gameHandler;<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//public playerVFX playerPowerupVFX;</font>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font><font face=arial><font color=#0070c0><b>bool</b></font></font> isHealthPickUp = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font><font face=arial><font face=arial><font color=#0070c0><b>bool</b></font></font></font> isSpeedBoostPickUp = <font color=#365f91><b>false</b></font>;<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#0070c0><b> int</b></font> healthBoost = <font color=#e36c0a><b>50</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font><font color=#0070c0><b> float</b></font> speedBoost = <font color=#e36c0a><b>2f</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font><font color=#0070c0><b> float</b></font> speedTime = <font color=#e36c0a><b>2f</b></font>;
<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//playerPowerupVFX = GameObject.FindWithTag(&quot;Player&quot;).GetComponent&lt;playerVFX&gt;();</font>
<br>
&nbsp; &nbsp; &nbsp; }<br> <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> OnTriggerEnter2D (Collider2D other){
<br>
<b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050>if</font> </b>(other.gameObject.tag == <b><font color=#ed6c0a>&quot;Player&quot;</font></b><font color=#ed6c0a></font>){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GetComponent&lt;Collider2D&gt;().enabled = false; 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//GetComponent&lt; AudioSource&gt;().Play();</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(DestroyThis());<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (isHealthPickUp == <font color=#365f91><b>true</b></font>) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler.playerGetHit(healthBoost * <font color=#e36c0a><b>-1</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//playerPowerupVFX.powerup();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#3ab050><b>if</b></font> (isSpeedBoostPickUp == <font color=#365f91><b>true</b></font>) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; other.gameObject.GetComponent&lt;PlayerMove&gt;().speedBoost(speedBoost, speedTime);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//playerPowerupVFX.powerup();</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }


<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>IEnumerator</b></font> DestroyThis(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>yield return new</font> <font color=#31849b>WaitForSeconds</font></b>(<b><font color=#ed6c0a>0.3f</font></b>);<b><br>
</b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy(gameObject);<br>
&nbsp; &nbsp; &nbsp; }<br><br>
}
</div>

<br><br>
To add the playerPowerupVFX, please see the GameFeel final section of this Tutorial, and then un-comment the playerPowerupVFX lines of this script!<br>
<br>
<br>
<br>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="02a2">&nbsp;</a><font color=purple><b>2a. PICKUP MOVEMENT:</b></font>
<br>
Optionally Create a new <b>C# script</b> named &quot;<b>PickUp_UpDown.cs</b>&quot; with the following content.<br>
Add to the PickUpBoost object to get up-and-down movement.

<br><br>
<center>
<i>PickUp_UpDown.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br><font color=#3ab050><b>using</b></font> System.Collections;<br><font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font color=#31849b><b>public class </b></font><font color=#365f91><b>PickUp_UpDown : MonoBehaviour</b></font>{<br><br>
&nbsp; &nbsp; &nbsp; <font color=gray>//initial values, can be made public</font><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> Vector3 startPos;<br><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> speedS = <b><font color=#ed6c0a>2.5f</font></b>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> distS = <b><font color=#ed6c0a>0.5f</font></b>;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//extra parameters for randomizing movement</font><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private float</b></font> randBottom = <b><font color=#ed6c0a>0.6f</font></b>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private float</b></font> randTop = <b><font color=#ed6c0a>1f</font></b>;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private bool</b></font> SinWaveMove = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private bool</b></font> randomizeSin = <font color=#365f91><b>true</b></font>;<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startPos = transform.position;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//randomize distance</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (randomizeSin==<font color=#365f91><b>true</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; speedS = (speedS * Random.Range(randBottom, randTop));<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update (){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//use Mathf.Sin function to move up and down</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (SinWaveMove == <font color=#365f91><b>true</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = startPos + new Vector3(<b><font color=#ed6c0a>0.0f</font></b>, (Mathf.Sin(Time.time * speedS) * distS), <b><font color=#ed6c0a>0.0f</font></b>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br>}
<br><br>
</div>

<br>
<br>
<br>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02a2b">&nbsp;</a>
<font color=purple><b>2b. PICKUP COLOR PULSE:</b></font>
<p>
Optionally Create a new <b>C# script</b> named &quot;<b>PickUp_Pulse.cs</b>&quot; with the following content.
<ol>
<li> Add this script to the PickUpBoost object created above.
<br>
<li> Duplicate pickup_art, name it &quot;pickup_art_highlight&quot;. 
<br>
<li> Set Order in Layer = 92 (slightly higher than pickup_art). <br>
<li> Drag the new art into the fadeHighlight script slot.
</ol>

<br><br>
<center>
<i>PickUp_Pulse.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;
<br>
<font color=#3ab050><b>using</b></font> System.Collections;
<br>
<font color=#3ab050><b>using</b></font> UnityEngine;
<br>
<br>
<font color=#31849b><b>public class </b></font><font color=#365f91><b>PickUp_Pulse : MonoBehaviour</b></font>{
<br>
<br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject fadeHighlight; <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private float</b></font> pulseHold = <b><font color=#ed6c0a>0.4f</font></b>; <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private float</b></font> pulseDelay = <b><font color=#ed6c0a>2f</font></b>; <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private float</b></font> pulseSpeed = <b><font color=#ed6c0a>0.02f</font></b>; <br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private </b></font>Renderer fadeHighlightRend; <br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private bool</b></font> timeToFadeOut = <font color=#365f91><b>false</b></font>; <br> 
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private bool</b></font> timeToFadeIn = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private float</b></font> fadeAlpha = <b><font color=#ed6c0a>0f</font></b>; <br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Awake(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fadeHighlightRend = fadeHighlight.GetComponent&lt;SpriteRenderer&gt;
<Renderer>();
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fadeHighlightRend.material.color = new Color(<b><font color=#ed6c0a>2.5f</font></b>, <b><font color=#ed6c0a>2.2f</font></b>, <b><font color=#ed6c0a>0.3f</font></b>, <b><font color=#ed6c0a>0f</font></b>); <br>
&nbsp; &nbsp; &nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(RandomDelay());
<br>
&nbsp; &nbsp; &nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (timeToFadeIn){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fadeAlpha += pulseSpeed;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fadeHighlightRend.material.color = new Color(<b><font color=#ed6c0a>2.5f</font></b>, <b><font color=#ed6c0a>2.2f</font></b>, <b><font color=#ed6c0a>0.3f</font></b>, fadeAlpha); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (fadeAlpha >= <b><font color=#ed6c0a>0.5f</font></b>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; fadeAlpha = <b><font color=#ed6c0a>0.5f</font></b>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(PulseFull());
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<b><font color=#3ab050>else if</font></b> (timeToFadeOut){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fadeAlpha -= pulseSpeed;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fadeHighlightRend.material.color = new Color(<b><font color=#ed6c0a>2.5f</font></b>, <b><font color=#ed6c0a>2.2f</font></b>, <b><font color=#ed6c0a>0.3f</font></b>, fadeAlpha); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (fadeAlpha <= <b><font color=#ed6c0a>0f</font></b>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fadeAlpha = <b><font color=#ed6c0a>0f</font></b>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(PulsePause());
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//delay start of pulsing, so neighboring pickups do not pulse the same</font>
<br>
&nbsp; &nbsp; &nbsp; IEnumerator RandomDelay(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>float</b></font> randDelay = Random.Range(<b><font color=#ed6c0a>0.1f</font></b>, <b><font color=#ed6c0a>2.0f</font></b>); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new</b></font> WaitForSeconds(randDelay); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timeToFadeIn = <font color=#365f91><b>true</b></font>; <br>
&nbsp; &nbsp; &nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//stay at full strength before fading away</font>
<br>
&nbsp; &nbsp; &nbsp; IEnumerator PulseFull(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new</b></font> WaitForSeconds(pulseHold); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timeToFadeIn = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timeToFadeOut = <font color=#365f91><b>true</b></font>; <br>
&nbsp; &nbsp; &nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//pause before next pulse</font>
<br>
&nbsp; &nbsp; &nbsp; IEnumerator PulsePause(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new</b></font> WaitForSeconds(pulseDelay); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timeToFadeOut = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timeToFadeIn = <font color=#365f91><b>true</b></font>; <br>
&nbsp; &nbsp; &nbsp; }
<br>
<br>}  
<br><br>
      </div>
      
      
<br>
<br>
<br><br>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02a3">&nbsp;</a>
<font color=purple><b>3. POWER BOOSTS ON PLAYER:</b></font> 

<br>
Power Boosts are simply a change to player stats based on the acquisition or the use of a powerup. 

<br><br>
<em><b>ACTIVATE BOOST ON PICK-UP TOUCH:</b></em>
<br>The best place to put the code for a power-up that activates as soon as a PickUp is touched is on the PickUp.cs itself (see &quot;isSpeedBoostPickUp&quot; option, above), which would then activate the Player stat change in the PlayerMove.cs script. 
</font>

<br>
<center>
<i>optionally add to PlayerMove.cs script (if you do not, comment out the line in PickUp):</i> 
</center>

<div class="blockScript">
<font color=#31849b><b>public void</b></font></font> speedBoost(float speedBoost, float speedLength){ <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; runSpeed = runSpeed * speedBoost;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(normalSpeed(speedLength));<br>
        &nbsp; &nbsp; &nbsp; } <br>
        <br>
        &nbsp; &nbsp; &nbsp; IEnumerator normalSpeed(float speedLength){ <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>yield return new </b></font> WaitForSeconds(speedLength);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; runSpeed = startSpeed; 
        &nbsp; &nbsp; &nbsp; 
        <font color=gray>//NOTE: returns this stat to normal</font> <br>
        &nbsp; &nbsp; &nbsp; } <br>
        <br>
      </div>
      
<br>
<br>
<b><em>ACTIVATE BOOST ON LATER USE:</em></b> 
<br>The best place to put the code for an acquired power-up to be used when the player chooses is usually on the GameHandler.cs, which would then spend the item in thw inventory (see inventory notes, above) and activate the Player stat change in the PlayerMove.cs script, above. 



<br>
<br>
<center>
<i>optionally add to GameHandler.cs script in the Update function:</i>
</center>

<div class="blockScript">
 &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
        <br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (Input.GetKeyDown(KeyCode.P)){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (gameObject.GetComponent&lt;GameInventory&gt;().item1bool == <font color=#365f91><b>true</b></font>){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;GameInventory&gt;().InventoryRemove(item1);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.speedBoost(<font face=arial><font color=#e36c0a><b>2f</b></font></font>, <font face=arial><font color=#e36c0a><b>5f</b></font></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; }
</div>

<br><br>
<font face=arial>
<br>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02a4">&nbsp;</a>
<font color=purple><b>STEP 4. PICKUP RANDOMIZATION </b></font>(for top-down games)<b>:</b> 

<br>Want pickups in a top-down level to be placed with some variety each time the level is played? 
<br>There are multiple ways to do this. Here is one:

<br><br>
<em><b>RANDOMNESS IN A RECTANGLE: </b></em> 
<br><b>a.</b> Create a new <b>C# script</b> called &quot;<b>Pickup_Random</b>.cs&quot;. Add the content below and save. 

<br><br>
<b>b.</b> Add this script to a <b>pickup</b> object (see above). 

<br><br>
<b>c.</b> Note the rectangle that appears surrounding the pickup. 
<br>
In the <b>Inspector</b> this rectangle is defined by public "<b>width</b>" and "<b>height</b>" parameters that you can change. 
<br><br>
When you hit <b>[Play]</b>, the pickup will be positioned at a random spot within that rectangle. 

<br><br>
Be sure that the area of the rectangle does not include any colliders that would prevent the player from touching the pickup, if it landed in that spot. 
</font>
<br><br>

<center>
<i>Pickup_Random.cs:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>Pickup_Random</b></font><b> : <font color=#365f91>MonoBehaviour</font></b><font color=#365f91>&nbsp;</font> { <br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=gray>//define rectangle for random positon</font> <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> width = 1;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> height = 2;<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private Vector2</b></font> rect1;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private Vector2</b></font> rect2;<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector3</b></font> pos = transform.position;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect1 = new <font color=#31849b><b>Vector2</b></font>(pos.x - width/2, pos.y + height/2);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect2 = new <font color=#31849b><b>Vector2</b></font>(pos.x + width/2, pos.y - height/2);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RandomPos();<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; <font color=gray>//test position change</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Input.GetKeyDown(<font face=arial><font color=#e36c0a><b>&quot;p&quot;</b></font></font>)){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RandomPos();<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> RandomPos(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>float</b></font> xRand = Random.Range(rect1.x, rect2.x);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>float</b></font> yRand = Random.Range(rect1.y, rect2.y);<br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new <font color=#31849b><b>Vector2</b></font>(xRand, yRand);<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> OnDrawGizmos(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Gizmos.DrawWireCube(transform.position, new <font color=#31849b><b>Vector3</b></font>(width,height,<font face=arial><font color=#e36c0a><b>0</b></font></font>));<br>
        &nbsp; &nbsp; &nbsp; }<br>
        }<br>
</div>

<br><br><br>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02a4b">&nbsp;</a> 
<font color=purple><b>KEYS </b></font>(for locked doors inside a level. 
Depends on the inventory scripts, below)<b>:</b><br>
Want a key pickup that will open a door inside of your level, to gain access to another part of the same level?:<br>
<br>
<b>a. Add to the PickUp.cs script</b> with the following, to add the Key to the inventory (need inventory scripts).<br>
<br>
<font color=gray>// #1. add this isKey bool to the top Class variables</font><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font><font face=arial><font color=#0070c0><b>bool</b></font></font> isKey = <font color=#365f91><b>false</b></font>;<br><br>

<font color=gray>// #2. add this if-option to the OnTriggerEnter2D() function</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (isKey == <font color=#365f91><b>true</b></font>) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//Add the key to the inventory. Touch a door to remove a key and open the door.</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
gameHandler.GetComponent&lt;GameInventory&gt;().InventoryAdd(<font color=#e36c0a><b>&quot;item1&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }


<br><br>
<b>b. Create a Locked Door object:</b>
<ol>
<li> In the Hierarchy create an <b>Empty Game Object</b>.<br>
<li> In the Inspector name it &quot;LockedDoor&quot; and reset Transforms.
<br>
<li> <b>[Add Component] </b>Physics2D &gt; <b>BoxCollider2D</b>. 
<br>
Turn on <b>isTrigger</b>. <br>
 Set collider size larger than the door art.
<br> 
<li> Add three sprites as children:  &quot;doorLocked_art&quot;, &quot;doorOpened_art&quot;, and &quot;msg_needKey&quot; (text on background to say &quot;Need a key&quot;) when the player does not have one.
<br>
<li> Select doorLocked_art and <b>[Add Component] </b>Physics2D &gt; <b>BoxCollider2D</b>. 
<br>
Set collider size wider than the door art, to be sure to block movement through it.
</ol>


<br>
<br>
<b>c. Create a new C# script</b> named &quot;<b>LockedDoor.cs</b>&quot;. 
<ol>
<li> Add the following content, save, go back to Unity.
<li> Add the script to the LockedDoor parent object. 
<li> <b>Drag</b> the three sprite childen into the GameObject script slots. 
</ol>

<br>
<br>
<center>
<i>LockedDoor.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>LockedDoor : MonoBehaviour</b></font></font></font></font></font></font>{<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameHandler gameHandler;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject doorLocked;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject doorOpened;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject msgNeedKey;<br>



&nbsp; &nbsp; &nbsp; <font color=#31849b><b>private </b></font>bool isLocked = <font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;<br><br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; doorLocked.SetActive(<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; doorOpened.SetActive(<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; msgNeedKey.SetActive(<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>);<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> OnTriggerEnter2D (Collider2D other){ <br>
        <b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050>if </font></b>((other.gameObject.tag == <b><font color=#ed6c0a>&quot;Player&quot;</font></b><font color=#ed6c0a></font>)&amp;&amp; (isLocked==<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>)){ <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (GameInventory.item1num &gt; <b><font color="#ed6c0a">0</font></b>) {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; doorLocked.SetActive(<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; doorOpened.SetActive(<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>);
        <br>
        
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isLocked = <font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandler.GetComponent&lt;GameInventory&gt;().InventoryRemove(<b><font color=#ed6c0a>&quot;item1&quot;</font></b>, <font color=#e36c0a><b>1</b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>else </b></font>  {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; msgNeedKey.SetActive(<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Debug.Log(<font color=#e36c0a><b>&quot;You need a key to enter.&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> OnTriggerExit2D (Collider2D other){ <br>
<b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050>if</font></b>(other.gameObject.tag == <b><font color=#ed6c0a>&quot;Player&quot;</font></b><font color=#ed6c0a></font>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;msgNeedKey.SetActive(<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
        }
</div>

<br>
<br>
<center>
<img src="gamedesign/bullet.png" alt=""> &nbsp;
<img src="gamedesign/bullet.png" alt=""> &nbsp; 
<img src="gamedesign/bullet.png" alt=""> &nbsp;
<img src="gamedesign/bullet.png" alt=""> 
</center>

<br><br>
<font face=arial>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02aB">&nbsp;</a><b>[B]. PERSISTENT INVENTORY SYSTEM OF PICK-UP OBJECTS:</b>
<br>
<br>
</font>
<table width=100% cellpadding=5>
  <tr>
    <td width=45% valign=top><font face=arial> <b>SAMPLE IMAGES:</b><br>
        This tutorial uses <b>PNG Sprites</b> for 5 unique <b>pickup items</b>, 1 <b>container</b>, and 1 player. <br>
      
      Click <a href="gamedesign/Unity2D/InventoryImages.zip">here</a> to download  a zip of all 7 images.<br>
    </font></td>
    <td  width=25% valign=top align=center><a href="gamedesign/Unity2D/InvItem1.png" target=vignette><img src="gamedesign/Unity2D/InvItem1.png" alt="" width=32 height=32></a> &nbsp; <a href="gamedesign/Unity2D/InvItem2.png" target=vignette><img src="gamedesign/Unity2D/InvItem2.png" alt="" width=32 height=32></a> &nbsp; <a href="gamedesign/Unity2D/InvItem3.png" target=vignette><img src="gamedesign/Unity2D/InvItem3.png" alt="" width=32 height=32></a> <br>
      <a href="gamedesign/Unity2D/InvItem4.png" target=vignette><img src="gamedesign/Unity2D/InvItem4.png" alt="" width=32 height=32></a> &nbsp; <a href="gamedesign/Unity2D/InvItem5.png" target=vignette><img src="gamedesign/Unity2D/InvItem5.png" alt="" width=32 height=32></a></td>
    <td  width=25% valign=top align=center><a href="gamedesign/Unity2D/InvContainer.png" target=vignette><img src="gamedesign/Unity2D/InvContainer.png" alt=""width=64 height=64></a> &nbsp; <a href="gamedesign/Unity2D/InvPlayer.png" target=vignette><img src="gamedesign/Unity2D/InvPlayer.png" alt=""width=64 height=64></a></td>
  </tr>
</table>
<br>
<font face=arial>
<font face=arial><a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02a5">&nbsp;</a></font><font color=purple><b>1. CANVAS  INVENTORY SET UP:</b></font> 
<br>
<b>a.</b> If you do not already have a <b>GameObject &gt; UI &gt; Canvas</b> object in your Hierarchy, create one.<br>
<li> In Inspector, set <b>Canvas Scaler &gt; UI Scale Mode</b> from &quot;Constant Pixel Size&quot; to &quot;<b>Scale With Screen Size</b>&quot; and Reference Resolution to <b>1280 x 720.</b>


<br><br>
<b>b.</b> Add a <b>GameObject &gt; UI > Image.</b>
<li> Name it &quot;<b>Inventory</b>&quot;. Size into a short, long rectangle  (try 900 x100). Position near Canvas bottom. 
<li> In Inspector set Opacity to medium (try 150) and choose a color.

<br><br>
<b>c. </b>RightClick Inventory to add another <b>UI > Image</b>.
<li> Name it &quot;<b>InvItem</b>&quot;. 
Size and position as an Item-slot in the Inventory (try 90 x 90).

<br><br>
<b>d. </b>RightClick InvItem to add a third <b>UI > Image</b>.
<li> Name it &quot;<b>InvImage</b>&quot; (for the icon). 
Size smaller  (try 80 x 80).

<br><br>
<b>e. </b>RightClick InvItem to add a fourth <b>UI > Image</b>.
<li> Name it &quot;<b>InvNum</b>&quot;.
<li> Set image to default Knob. Size small  (try 40 x 40).
<li> Position at lower right corner of InvItem (extend half outside).

<br><br>
<b>f. </b>RightClick InvNum  to add a <b>GameObject &gt; UI > </b><strong>Text-TextMeshPro</strong> (to track the number of the item).
<li> Size 30 x 30, bold. Set text field = &quot;?&quot;.

<br><br>
(<em><b>NOTE:</b></em> Canvas item visibility is reverse of Hierarchy order: lower items in Hierarchy display in Scene in front).<br>


<br>
<br>
<br>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02a6">&nbsp;</a>
<font color=purple><b>2. GAME INVENTORY SCRIPT:</b></font>
<br>
If you do not already have a GameHandler object: create a <b>GameObject &gt; Empty GO</b>, name it &quot;GameHandler&quot;.<br>In Inspector create the <b>tag</b> &quot;<b>GameHandler</b>&quot; and add it to the GameHandler object.<br>Drag this Object into the Project panel to make a Prefab.

<br>
<br>
For clarity, this script is separate from the GameHandler script that manages other player / game stats.
<li> Create a new C# script named &quot;<b>GameInventory.cs</b>&quot;. 
<li> Add the content below, save, and in Unity drag the script onto the GameHandler Prefab. 

<br>
<br>

<center>
<em>GameInventory</em><i>.cs script:</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font><b><font color="#31849b"> </font></b>UnityEngine;<br />
        <font color="#3ab050"><b>using</b></font> TMPro ; 
        <br>
        <font color=#3ab050><b>using</b></font><b><font color="#31849b"> </font></b>UnityEngine.UI;
        <br><br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>GameInventory</b></font> : <font color=#365f91><b>MonoBehaviour</b></font> {
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject InventoryMenu;     
<br>
&nbsp; &nbsp; &nbsp; <font color=gray>//public GameObject CraftMenu;</font>
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>bool</b></font> InvIsOpen = <font color=#365f91><b>false</b></font>;
    
<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#999999>//5 Inventory Items:</font><br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> bool item1bool = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> bool item2bool = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> bool item3bool = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> bool item4bool = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> bool item5bool = <font color=#365f91><b>false</b></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> int item1num = <font face=arial><font color=#e36c0a><b>0</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> int item2num = <font face=arial><font color=#e36c0a><b>0</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> int item3num = <font face=arial><font color=#e36c0a><b>0</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> int item4num = <font face=arial><font color=#e36c0a><b>0</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>static</b></font> int item5num = <font face=arial><font color=#e36c0a><b>0</b></font></font>;<br>
&nbsp; &nbsp; &nbsp; <font color=#999999>//public static int coins = 0;</font><br>
<br>

&nbsp; &nbsp; &nbsp; [Header("Add item image objects here")]
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject item1image;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject item2image;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject item3image;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject item4image;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject item5image;<br>
&nbsp; &nbsp; &nbsp; <font color=#999999>//public GameObject coinText;</font>

<br><br>
&nbsp; &nbsp; &nbsp; <font color=gray>// Item number text variables. Comment out if each item is unique (1/2).</font><br>
&nbsp; &nbsp; &nbsp; [Header("Add item number Text objects here")] <br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> TMP_Text item1Text;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> TMP_Text item2Text;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> TMP_Text item3Text;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> TMP_Text item4Text;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> TMP_Text item5Text;<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#999999>// Crafting buttons. Uncomment and add for each button:</font><br>
&nbsp;&nbsp; &nbsp; &nbsp;<font color=#999999>// public GameObject buttonCraft1; // weapon1 creation</font><br>
&nbsp;<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InventoryMenu.SetActive(<font color=#365f91><b>false</b></font>);
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//CraftMenu.SetActive(false);</font>

<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InventoryDisplay();<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> InventoryDisplay(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item1bool == <font color=#365f91><b>true</b></font>) {item1image.SetActive(<font color=#365f91><b>true</b></font>);} <b><font color=#3ab050>else</font></b> {item1image.SetActive(<font color=#365f91><b>false</b></font>);}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item2bool == <font color=#365f91><b>true</b></font>) {item2image.SetActive(<font color=#365f91><b>true</b></font>);} <b><font color=#3ab050>else</font></b> {item2image.SetActive(<font color=#365f91><b>false</b></font>);}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item3bool == <font color=#365f91><b>true</b></font>) {item3image.SetActive(<font color=#365f91><b>true</b></font>);} <b><font color=#3ab050>else</font></b> {item3image.SetActive(<font color=#365f91><b>false</b></font>);}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item4bool == <font color=#365f91><b>true</b></font>) {item4image.SetActive(<font color=#365f91><b>true</b></font>);} <b><font color=#3ab050>else</font></b> {item4image.SetActive(<font color=#365f91><b>false</b></font>);}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item5bool == <font color=#365f91><b>true</b></font>) {item5image.SetActive(<font color=#365f91><b>true</b></font>);} <b><font color=#3ab050>else</font></b> {item5image.SetActive(<font color=#365f91><b>false</b></font>);}<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//Text coinTextB = coinText.GetComponent&lt;Text&gt;();</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//coinTextB.text = (&quot;COINS: &quot; + coins);</font> <br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>// Item number updates. Comment out if each item is unique (2/2).</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item1Text.text = (<font face=arial><font color=#e36c0a><b>&quot;</b></font></font><font face=arial><font color=#e36c0a><b>&quot;</b></font></font> + item1num); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item2Text.text = (<font face=arial><font color=#e36c0a><b>&quot;&quot;</b></font></font> + item2num); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item3Text.text = (<font face=arial><font color=#e36c0a><b>&quot;&quot;</b></font></font> + item3num); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item4Text.text = (<font face=arial><font color=#e36c0a><b>&quot;&quot;</b></font></font> + item4num); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item5Text.text = (<font face=arial><font color=#e36c0a><b>&quot;&quot;</b></font></font> + item5num);
<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font color=#31849b><b>void</b></font> InventoryAdd(<font color=#31849b><b>string</b></font> item){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>string</b></font> foundItemName = item;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (foundItemName == <font face=arial><font color=#e36c0a><b>&quot;item1&quot;</b></font></font>) {item1bool = <font color=#365f91><b>true</b></font>; item1num ++;}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else if</font></b> (foundItemName == <font face=arial><font color=#e36c0a><b>&quot;item2&quot;</b></font></font>) {item2bool = <font color=#365f91><b>true</b></font>; item2num ++;}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else if</font></b> (foundItemName == <font face=arial><font color=#e36c0a><b>&quot;item3&quot;</b></font></font>) {item3bool = <font color=#365f91><b>true</b></font>; item3num ++;}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else if</font></b> (foundItemName == <font face=arial><font color=#e36c0a><b>&quot;item4&quot;</b></font></font>) {item4bool = <font color=#365f91><b>true</b></font>; item4num ++;}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else if</font></b> (foundItemName == <font face=arial><font color=#e36c0a><b>&quot;item5&quot;</b></font></font>) {item5bool = <font color=#365f91><b>true</b></font>; item5num ++;}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else </font></b>{ Debug.Log(&quot;This item does not exist to be added&quot;); }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InventoryDisplay();
<br>
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (!InvIsOpen){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OpenCloseInventory();
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font color=#31849b><b>void</b></font> InventoryRemove(<font color=#31849b><b>string</b></font> item, <font color=#31849b><b>int</b></font> num){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>string</b></font> itemRemove = item;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (itemRemove == <font face=arial><font color=#e36c0a><b>&quot;item1&quot;</b></font></font>) {<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item1num -= num;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item1num &lt;= <font face=arial><font color=#e36c0a><b>0</b></font></font>) { item1bool =<font color=#365f91><b>false</b></font>; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#999999>// Add </font><font face=arial><font color=#999999> any other</font></font><font color=#999999> intended effects: new item crafted, speed boost, slow time, etc</font><br>
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else if</font></b> (itemRemove == <font face=arial><font color=#e36c0a><b>&quot;item2&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item2num -= num;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item2num &lt;= <font face=arial><font color=#e36c0a><b>0</b></font></font>) { item2bool =<font color=#365f91><b>false</b></font>; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#999999>// Add any other intended effects</font><br>
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else if</font></b> (itemRemove == <font face=arial><font color=#e36c0a><b>&quot;item3&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item3num -= num;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item3num &lt;= <font face=arial><font color=#e36c0a><b>0</b></font></font>) { item3bool =<font color=#365f91><b>false</b></font>; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#999999>// Add </font><font face=arial><font color=#999999> any other</font></font><font color=#999999> intended effects</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else if</font></b> (itemRemove == <font face=arial><font color=#e36c0a><b>&quot;item4&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item4num -= num;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item4num &lt;= <font face=arial><font color=#e36c0a><b>0</b></font></font>) { item4bool =<font color=#365f91><b>false</b></font>; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#999999>// Add </font><font face=arial><font color=#999999> any other</font></font><font color=#999999> intended effects</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else if</font></b> (itemRemove == <font face=arial><font color=#e36c0a><b>&quot;item5&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item5num -= num;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (item5num &lt;= <font face=arial><font color=#e36c0a><b>0</b></font></font>) { item5bool =<font color=#365f91><b>false</b></font>; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#999999>// Add </font><font face=arial><font color=#999999> any other</font></font><font color=#999999> intended effects</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else </font></b>{ Debug.Log(&quot;This item does not exist to be removed&quot;); }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InventoryDisplay();<br>
&nbsp; &nbsp; &nbsp; }

<br><br>
<font color=gray>
&nbsp; &nbsp; &nbsp; //public void CoinChange(int amount){<br>
</font><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //coins +=amount;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //InventoryDisplay();<br>
&nbsp; &nbsp; &nbsp; //}</font><br>
<br>	
&nbsp; &nbsp; &nbsp; <font color=gray>// Open and Close the Inventory. Use this function on a button next to the inventory bar.</font><br>	
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font color=#31849b><b>void</b></font> OpenCloseInventory(){<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (InvIsOpen){ InventoryMenu.SetActive(<font color=#365f91><b>false</b></font>); }<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>else </font></b> { InventoryMenu.SetActive(<font color=#365f91><b>true</b></font>); }<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InvIsOpen = !InvIsOpen;<br>	
&nbsp; &nbsp; &nbsp; }<br>
<br>	
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//Open and Close the Cookbook</font><br>	
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public void OpenCraftBook(){CraftMenu.SetActive(true);}</font><br>	
<font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public void CloseCraftBook(){CraftMenu.SetActive(false);}</font><br>
<br>
&nbsp; &nbsp; &nbsp; <font color=gray>// Reset all static inventory values on game restart.</font><br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font color=#31849b><b>void</b></font> ResetAllInventory(){<br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item1bool = <font color=#365f91><b>false</b></font>; <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item2bool = <font color=#365f91><b>false</b></font>; <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item3bool = <font color=#365f91><b>false</b></font>; <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item4bool = <font color=#365f91><b>false</b></font>; <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item5bool = <font color=#365f91><b>false</b></font>; <br> 
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item1num = <font face=arial><font color=#e36c0a><b>0</b></font></font>; <font color=gray>// object name</font> <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item2num = <font face=arial><font color=#e36c0a><b>0</b></font></font>; <font color=gray>// </font><font face=arial><font color=gray>object </font></font><font color=gray>name</font> <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item3num = <font face=arial><font color=#e36c0a><b>0</b></font></font>; <font color=gray>// </font><font face=arial><font color=gray>object </font></font><font color=gray>name</font> <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item4num = <font face=arial><font color=#e36c0a><b>0</b></font></font>; <font color=gray>// </font><font face=arial><font color=gray>object </font></font><font color=gray>name</font> <br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; item5num = <font face=arial><font color=#e36c0a><b>0</b></font></font>; <font color=gray>// </font><font face=arial><font color=gray>object </font></font><font color=gray>name</font> <br>
&nbsp; &nbsp; &nbsp; }
<br><br>        }
</div>

<br>
<br>
<b><em>GameInventory.cs Explanation:</em></b><br>
This hard-coded Inventory system requires at least two variables for each item (a more elegant solution could store all items in an array):<br>
&nbsp; &nbsp; &nbsp;<font face=arial>A <b>bool variable</b> for <b>each inventory item</b>, to set the state (whether they are collected or not: on or off)</font><font face=arial><br>
&nbsp; &nbsp; &nbsp; A <b>GameObject variable</b> for <b>each inventory image</b>, to make them invisible/visible.</font><font face=arial><br>
<br>
To support a game that could have multiple copies of an item to be picked up, like for a crafting or cooking system, we have two more variables per item:</font><font face=arial><br>
&nbsp; &nbsp; &nbsp; An <b>int variable</b> for <b>each inventory item</b>, for the current number of that item collected and un-spent <br>
</font> <font face=arial>&nbsp; &nbsp; &nbsp; A <b>Text variable</b> to display<b></b> the current number.<br>
<br>
</font> <font face=arial> In  the Start() function note the InventoryMenu is set visible and all inventory items are set not visible.<br>
We also run the InventoryDisplay() function to set  the Inventory Image Items to not visible.<br>
<br>
In  addition to the <b>InventoryDisplay() function</b>, we have:<br>
&nbsp; &nbsp; &nbsp; An <b>InventoryAdd() function</b> to call by the PickUp_Inventory.cs script (see below)<br>
&nbsp; &nbsp; &nbsp; An </font> <b><font face=arial>InventoryRemove()</font></b><font face=arial> function to call if an item is &quot;spent&quot; (by a button or a key press)<br>
&nbsp; &nbsp; &nbsp; A <b>CoinChange()</b> function to add coins when found  or subtract coins for a purchase<br>
Any action to spend an item or coins should check if their bool is true or amount sufficient for purchase.



<br><br><br><br>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02a7">&nbsp;</a>
<font color=purple><b>3. CRAFTING or COOKING using the GameInventory:</b></font>

<br>
To use the InventoryRemove() function for <b>CRAFTING</b> or <b>COOKING</b> functionality, add the function to a new <b>Button</b> that uses the item/s.

<br>
<br>
Manage visibility in the GameInventory.cs:<br>
&nbsp; &nbsp; &nbsp; An inventory &quot;Craft&quot; Button should only be visible if the item exists in the inventory.<br>
&nbsp; &nbsp; &nbsp; When all of that item are spent the Button should be SetActive(false);<br><br>
<em>For each craft-button:</em><br>
<em>1. Add a public GameObject variable to the top of GameInventory</em><i>.cs script:</i><br>

<div class="blockScript">
&nbsp; &nbsp; &nbsp; <font color=#999999>// Crafting buttons:</font><br>
&nbsp;&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> GameObject buttonCraft1; 
<font color=gray>// weapon1 creation</font>
</div>

<br>
<em>2. Add a line to the Start() function</em><i>:</i>
<br>
<div class="blockScript">
&nbsp;&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;buttonCraft1.SetActive(<font color=#365f91><b>false</b></font>);
</div>


<br>
<br> <em>3. Add a  condition to  InventoryDisplay() function, to test for sufficient ingredients</em><i> to display the craft button:</i>
<br>

<div class="blockScript">
&nbsp;&nbsp; &nbsp; &nbsp;<b><font color=#3ab050>if</font></b> ((item1num &gt;= <font face=arial><font color=#e36c0a><b>2</b></font></font>) &amp;&amp; (item4num &gt;=<b><font color="#e36c0a"> 1</font></b>)){ <font face=arial>&nbsp;&nbsp; &nbsp; &nbsp;</font><font color=gray>// sample inventory items to be used</font><br>
        &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;buttonCraft1.SetActive(<font color=#365f91><b>true</b></font>);
<br>     
<font face=arial>&nbsp;&nbsp; &nbsp; &nbsp;</font>}<br>     
<font face=arial>&nbsp;&nbsp; &nbsp; &nbsp;</font><b><font color=#3ab050>else</font> </b>{ buttonCraft1.SetActive(<font color=#365f91><b>false</b></font>); 
}
</div>


<br>
<br> 
<em>4. Add a new CraftObject#() function to the bottom of GameInventory.cs script, for the Button to access:</em>
<br>

<div class="blockScript">
<font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> CraftObject1(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InventoryAdd(<font face=arial><font color=#e36c0a><b>&quot;weapon1&quot;</b></font></font>);
<font color=gray>// sample inventory item to be added, needs supporting UI images</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InventoryRemove(<font face=arial><font color=#e36c0a><b>&quot;item1&quot;</b></font></font>, <font face=arial><font color=#e36c0a><b>2</b></font></font>); InventoryRemove(<font face=arial><font color=#e36c0a><b>&quot;item4&quot;</b></font></font>,<b><font color="#e36c0a">1</font></b>); <font color=gray>// sample inventory items to be removed</font><br>
&nbsp; &nbsp; &nbsp; }
</div>


<p>
Craft Button activation steps:
<ol type="a">
<li>Select the Button. In the Inspector bottom, add an <b>OnClick</b> event.<br>
<li> <b>Drag</b> the GameHandler into the OnClick &quot;None&quot; slot.<br>
<li> Set the function to <b>GameInventory &gt; CraftObject#().</b><br>
<li> Select the GameHandler. In the Inspector, find the GameInventory &gt; buttonCraft# script slot.
<br>
<strong>Drag</strong> the Button object from the Hierarchy to the Inspector, into that buttonCraft# script slot.
</ol>

<br>
<br>
See this example <a href="https://github.com/Darmatage/cdan221_SP22_Action_4/blob/main/MA_Action_Team4/Assets/Scripts/GameInventory.cs" target=inv>GameInventory.cs</a> script for a game with <a href="https://retrorebot.itch.io/a-light-meal" target=inv2>cooking</a>
(crafting with food!)

<br><br>
<br><br>
<a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02a8">&nbsp;</a>
<font color = purple><b>4. </b><b>USE AN INVENTORY TO CHANGE PLAYER ABILITIES:</b></font><br>
<br>
<font face=arial><a href="#02a"></a></font><b>a. Health Potions:</b><br>
 Want your player to use a health potion in the Inventory?<br>
In a new AddHealth() function in GameHandler.cs: Wrap the <em><b>action</b></em> of increasing player heath in a <em><b>condition</b></em> to check if the potion exists in the Inventory:<br>
&nbsp;&nbsp; <b><font color=#3ab050>if</font></b> (GameInventory.item#bool == <font color=#365f91><b>true</b></font>){ }<br>
Then, after using:<br>
&nbsp; &nbsp;GameObject.FindWithTag(&quot;GameHandler&quot;).GetComponent&lt;GameInventory&gt;().InventoryRemove(<font face=arial><font color=#e36c0a><b>&quot;item#&quot;</b></font></font>,<b><font color="#e36c0a">1</font></b>);<br>
<br>
<b>b. Keys:</b><br>
Want your player to need a key to enter a door?<br>
Add an Empty Game Object to the Scene doorway with a BoxCollider to prevent player passage.<br>
On a player action (like a specific keypress), check if there is a key.<br>
If there is a key, turn off the collider and optionally remove the key (InventoryRemove).<br>
<font face=arial><br>
<br>
<b></b><br>
<font face=arial><font face=arial><a href="#02a"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02a9">&nbsp;</a></font></font><font color=purple><b>5. CREATE A NEW PICKUP OBJECT FOR INVENTORY ITEMS:</b></font><br>
<br>
<b>a. </b>Make a <b>copy</b> of the PickUpBoost object created <a href="#02a1">above</a>: Select it in the Hierarchy and hit <b>[Ctrl/Cmd]+[d]</b>.<br>
In the Inspector name this object &quot;<b>PickupInventory</b>&quot; and in the <em>PickUp.cs</em> component set all boosts to &quot;false&quot;.<br>
</font><font face=arial><br>
<b>b.</b> Create a new C# script &quot;<b>PickUp_Inventory.cs</b>&quot;.
<li> Add the content below.
<li> Save, and in Unity add the script to the PickUpInventory object <br>
&nbsp; &nbsp;&nbsp; See the reference in the OnTriggerEnter2D() function to the GameInventory.cs script.<br>
&nbsp; &nbsp; (NOTE: This script is meant to be added in <em>ADDITION</em> to the PickUp.cs script). 


<br>
<br>
<center>
<em>PickUp_Inventory</em><i>.cs script:</i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font><b><font color="#31849b"> </font></b>System.Collections.Generic;<br>
        <font color=#3ab050><b>using </b></font>System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>PickUp_Inventory: MonoBehaviour</b></font> {<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> GameInventory gameInventory;<br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public string</b></font> ItemName = <font face=arial><font color=#e36c0a><b>&quot;item1&quot;</b></font></font>;<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Awake(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (GameObject.FindWithTag(<font face=arial><font color=#e36c0a><b>&quot;GameHandler&quot;</b></font></font>) != null) 
        {<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameInventory = GameObject.FindWithTag(<font face=arial><font color=#e36c0a><b>&quot;GameHandler&quot;</b></font></font>).GetComponent&lt;GameInventory&gt;();<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void OnTriggerEnter2D</b></font>(Collider2D other){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (other.gameObject.tag == <font face=arial><font color=#e36c0a><b>&quot;Player&quot;</b></font></font>){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#999999>//Debug.Log("You found an" + ItemName);</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameInventory.InventoryAdd(ItemName);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; }<br>
        } <br>
        <br>
        <font color=#999999>//NOTE: This script is meant to co-exist on the pickup object with PickUp.cs, <br>
          // which handles SFX and destruction (turn off boosts) </font> <br>
        <br>
</div>

<br>
<br><b>c.</b> Once the script is applied, add to the Inspector <b>script slot</b> the desired &quot;Item Name&quot;. <br>
The GameInventory.cs script above assumes these names (you can make them more specfic to your game): <br>
&quot;item1&quot;, &quot;item2&quot;, &quot;item3&quot;, &quot;item4&quot;, &quot;item 5&quot;<br>
<br>
<font face=arial><b>d.</b> Change the image to the PNG art for this pick-up-able object. <br>
Select the child Image to find the Source Image slot in the Inspector. 
<br>Drag in the art from the Project panel.<br>
</font><br>
<b>e.</b>&nbsp;<font face=arial>Drag this <b>PickupInventory</b> object into the Project panel to create a <b>Prefab</b>. 
<br>
Change the item name and image for other pickup-able objects.</font><br>
<br>
<br></td></tr></table>
</div></td></tr></table>
<br>

<a name="02b">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion4">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [2B]</b> <b>PLAYER RESPAWN and MAP LOCATION RETURN</b>&nbsp; &nbsp; &nbsp; &nbsp;</font>
</button>
<div class="panel">
  <table width=800 cellpadding=10 border=0><tr>
<td valign=top>
  <center>
    <font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=purple><b>[2B]:</b></font> <b>PLAYER RESPAWN AND CHECKPOINTS</b></font></font>
  
<br>
<font face="arial">1. <a href="#02b1">Player Respawn</a>&nbsp; | &nbsp; 
2. <a href="#02b2">Checkpoints</a>&nbsp; | &nbsp; 
3. <a href="#02b3">Limited Lives</a>&nbsp; | &nbsp; 4. Exploration Game: <a href="#02b4">Map Return to Door</a></font><br>  
</center>

<font face=arial> <br>
  <b><font face=arial><a href="#02b"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="02b1">&nbsp;</a>PLAYER RESPAWN SYSTEM</b>
  </font>
<li><font face=arial>Here is a way for the player to respawn back at the start if they fall off a platform (but still cost them damage):</font><li><font face=arial>Create two Empty Game Objects: <b>PlayerSpawnStart</b> and <b>PlayerBottomRespawn</b>. 
<br>Put PlayerSpawnStart at the desired <b>player start location</b>. <br>
<b>Put PlayerBottomRespan below the visible game level content</b>, and add the following <b>script</b> to it. <br>
Drag the PlayerStartSpawn object into the pSpawn script slot.  
<br>Be sure Player and GameHandler have tags &quot;Player&quot; and &quot;GameHandler&quot;: 
</font>

<br><br>
<center>
<em>PlayerBottomRespawn.cs</em>
</center>

<div class="blockScript">
<font color=#3ab050><b>using </b></font>System.Collections.Generic;
<br>
<font color=#3ab050><b>using </b></font>System.Collections;
<br>
<font color=#3ab050><b>using</b></font><b><font color="#31849b"> </font></b>UnityEngine;
<br><br><font color=#31849b><b>public class</b></font> <font color=#365f91><b>PlayerBottomRespawn</b></font> : <font color=#365f91><b>MonoBehaviour</b></font> {<br>
          <br>
          <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameHandler gameHandler;<br>	
          <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> Transform playerPos;<br>	
          <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> Transform pSpawnFall;<br>	
          <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> int damage = <font color=#ed6c0a><b>10</b></font>;<br>
<br>    
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Start() {<br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerPos = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;Player&quot;</b></font>).GetComponent&lt;Transform&gt;();<br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>    
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Update() {<br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (playerPos != null){

<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//Capture Checkpoint changes:</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; pSpawnFall = playerPos.gameObject.GetComponent&lt;PlayerRespawn&gt;().pSpawn;
<br><br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (transform.position.y >= playerPos.position.y){ 
<br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//instantiate a particle effect</font><br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;I am going back to the start&quot;</b></font>);<br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler.playerGetHit(damage);<br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Vector3 pSpn2 = new Vector3(pSpawnFall.position.x, pSpawnFall.position.y, playerPos.position.z); <br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerPos.position = pSpn2; <br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>    
&nbsp; &nbsp; &nbsp;&nbsp; } <br>}
</div>

<br><br>
<font face=arial>
NOTE: Player script PlayerRespawn is added
below, and GameHandler script playerGetHit() is explained / applied in [1E].</font>

<!--
<br>
<center>
<font face="arial"><em><b>add</b> TakeDamage() function to the GameHandler.cs</em></font>:
<table width=750 cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public static int</b></font> MaxHealth = <font color=#ed6c0a><b>100</b></font>; <br>	
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public static int</b></font> CurrentHealth = <font color=#ed6c0a><b>100</b></font>; <br>   	
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameObject healthText; 
<br>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private</b></font> string sceneName; <br>
<br> <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> TakeDamage(int damage){ 
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; CurrentHealth -= damage; 
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; UpdateHealth(); 
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sceneName = SceneManager.GetActiveScene().name; 
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (CurrentHealth >= MaxHealth){CurrentHealth = MaxHealth;}
<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((CurrentHealth <= <font color=#ed6c0a><b>0</b></font>) && (sceneName != <font color=#ed6c0a><b>&quot;EndLose&quot;</b></font>)){
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; SceneManager.LoadScene(<font color=#ed6c0a><b>&quot;EndLose&quot;</b></font>); <br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>	
&nbsp; &nbsp; &nbsp;&nbsp; } 
<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> UpdateHealth(){ 
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Text healthTextB = healthText.GetComponent&lt;Text&gt;();
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; healthTextB.text = <font color=#ed6c0a><b>&quot;Current Health: &quot;</b></font> + CurrentHealth + <font color=#ed6c0a><b>&quot;\n Max Health: &quot;</b></font> + MaxHealth;
<br>&nbsp; &nbsp; &nbsp;&nbsp; } 
</font></td></tr></table>
</center>  
  
  <font face="arial">Finally, create a Canvas with a text object named HealthText and add the HealthText object to the script slot
-->

<br><br><br>
<font face=arial>
<a href="#02b"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02b2">&nbsp;</a>
<b>CHECKPOINTS: </b>Adapt this  system for Checkpoints (placed throughout a level, player can touch these objects to make each the respawn point if the player dies). 
<br>
<b>a. </b>Create a Game Object &gt; <b>Empty Game Object</b>, name it &quot;<b>checkPoint</b>&quot;. Reset Transforms. 

<br><br>
<b>b.</b> Add a <b>BoxCollider2D</b> Component, turn on<b> isTrigger</b>. 

<br><br>
<b>c.</b> Add a new <b>Tag</b> called &quot;<b>Checkpoint</b>&quot; and add the tag to the checkPoint object.

<br><br>
<b>d.</b> Drag in desired art <b>Sprite</b>, name it &quot;<b>CheckPointArt</b>&quot;.  

<br><br>
<b>e.</b> Add  a new script PlayerRespawn.cs to the Player, and drag the starting point into pSpawn script slot: 
</font>

<br><br>
<center>
<em>PlayerRespawn.cs</em>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font><b><font color="#31849b"> </font></b>System.Collections.Generic;<br>
  <font color=#3ab050><b>using</b></font> System.Collections;<br>
            <font color=#3ab050><b>using</b></font> UnityEngine;<br>
            <br>
            <font color=#31849b><b>public class</b></font> <font color=#365f91><b>PlayerRespawn</b></font> : <font color=#365f91><b>MonoBehaviour</b></font> {<br>
            <br>
            <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameHandler gameHandler;<br>
            <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> Transform pSpawn;<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>// current player spawn point</font></font><br>
            <br>
            <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Start() {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br><br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Update() {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (pSpawn != null){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (GameHandler.playerHealth &lt;= <font face="arial"><font color=#ed6c0a><b>0</b></font></font>){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//comment out lines from GameHandler about EndLose screen</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;I am going back to the last spawn point&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Vector3 pSpn2 = new Vector3(pSpawn.position.x, pSpawn.position.y, transform.position.z);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameObject.transform.position = <font face="arial">pSpn2</font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br><br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public void</b></font> OnTriggerEnter2D(Collider2D other) {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Checkpoint&quot;</b></font>){<br>
        <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font face="arial">pSpawn</font> = other.gameObject.transform</font>;
        <br>
        <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>GameObject thisCheckpoint = other.gameObject;<br>
        <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>StopCoroutine(changeColor(thisCheckpoint));
        <br>
        <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>StartCoroutine(changeColor(thisCheckpoint));<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
 <br><br>
&nbsp; &nbsp; &nbsp;&nbsp; IEnumerator changeColor(GameObject thisCheckpoint){ 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Renderer checkRend = thisCheckpoint.GetComponentInChildren&lt;<font color=#31849b><b>Renderer</b></font>&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
 checkRend.material.color = new Color(<font color=#ed6c0a><b>2.4f</b></font>, <font color=#ed6c0a><b>0.9f</b></font>, <font color=#ed6c0a><b>0.9f</b></font>, <font color=#ed6c0a><b>0.5f</b></font>); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font face="arial"><font color=#3ab050><b>yield return new</b></font></font> WaitForSeconds(<font color=#ed6c0a><b>0.5f</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
checkRend.material.color = Color.white;<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br>}
<br>
</div>


<br><br>
<b><font face=arial><a href="#02b"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="02b3">&nbsp;</a>LIMITED LIVES:</b>
<br>
<b><em>SUMMARY:</em></b> A respawn and checkpoint system typically go hand-in-hand with a limited lives system. 

<br><br>
<b>a. </b>In the Canvas create a display of the remaining Player lives. 
<br>
<em>OPTION 1:</em> A simple UI &gt; Text-TextMeshPro object on a UI &gt; image background
<br>
<em>OPTION 2:</em> a Zelda- style row of hearts (needs art assets for bright heart + dark heart slot when lives are lost). <br>
In the Canvas, each bright heart is set below its dark heart slot, to appear in front. 
<br>
<br>
<b>b.</b> For either option, add <b>2 new class variables</b> to the <b>Gamehandler.cs</b> script (see script boxes below): <br>
&nbsp; &nbsp; &nbsp; &nbsp; public static int Lives; 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; public int maxLives = 5;

<br>
<em>OPTION 1:</em> Also a variable to hold the canvas Text element:<br>
&nbsp; &nbsp; &nbsp; &nbsp; public GameObject textLives;


<br><br>
<em>OPTION 2: </em>Also variables to hold all the bright hearts:<br>
&nbsp; &nbsp; &nbsp; &nbsp; public GameObject lifeHeart1;<br>
&nbsp; &nbsp; &nbsp; &nbsp; public GameObject lifeHeart2;<br>
&nbsp; &nbsp; &nbsp; &nbsp; public GameObject lifeHeart3;<br>
&nbsp; &nbsp; &nbsp; &nbsp; public GameObject lifeHeart4;<br>
&nbsp; &nbsp; &nbsp; &nbsp; public GameObject lifeHeart5;<br><br>
Also add a public function <b>UpdateLives()</b> that is called by the playerGetHit() function if health goes &lt;= 0 or if a life-pickup is collected. <br>
OPTION 1: UpdateLives() just updates the Lives variable and a text display<br>
OPTION 2: 
UpdateLives()  updates the Lives variable and updates the SetActive status of one bright heart, checking gameObject.activeInHierarchy from last to first to lose a heart, or from first to last if gaining a heart.

<br>
<br>
<b>c.</b> Populate all new script slots. 

<br>
<br>
<center>
<em><b>ADDING OPTION 1: </b> Variables and UpdateLives() function to the GameHandler.cs <b>(Add Bold Content)</b></em>:
</center>

<div class="blockScript">
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public static int</b></font> Lives = <font color=#ed6c0a><b>5</b></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public int</b></font> maxLives = <font color=#ed6c0a><b>5</b></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public</b></font> GameObject textLives; 
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerGetHit(int damage){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerHealth -= damage; <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; UpdateHealth(); <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sceneName = SceneManager.GetActiveScene().name; <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (playerHealth >= MaxHealth){playerHealth = MaxHealth;} <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((playerHealth <= <font color=#ed6c0a><b>0</b></font>) && (sceneName != <font color=#ed6c0a><b>&quot;EndLose&quot;</b></font>) <b>&& (Lives &lt;= <font color=#ed6c0a>0</font>)</b>){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; SceneManager.LoadScene(<font color=#ed6c0a><b>&quot;EndLose&quot;</b></font>); <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else if</b></font><b> (playerHealth <= <font color=#ed6c0a>0</font>){ UpdateLives(-1); }</b><br>
&nbsp; &nbsp; &nbsp;&nbsp; } 
<br>
<br>
<b>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b>public</font> <font color=#31849b>void</font> UpdateLives(<font color=#31849b>int</font> lifeChange, <font color=#31849b>string</font> changeDir){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
Lives += lifeChange;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Text livesTextB = textLives.GetComponent&lt;Text&gt;(); 
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; livesTextB.text = <font color=#ed6c0a>&quot;Lives: &quot;</font> + Lives + <font color=#ed6c0a>&quot; /  &quot;</font> + MaxLives; 
<br>&nbsp; &nbsp; &nbsp;&nbsp; } </b>
</div>


<br>
<br>
<center>
<em><b>ADDING OPTION 2: </b> Variables and UpdateLives() function to the GameHandler.cs<b> (Add Bold Content)</b></em>:
</center>

<div class="blockScript">
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public static int</b></font> Lives = <font color=#ed6c0a><b>5</b></font>; <br>
          <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font> maxLives = <font color=#ed6c0a><b>5</b></font>; <br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject lifeHeart1;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject lifeHeart2;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject lifeHeart3;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject lifeHeart4;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> GameObject lifeHeart5;<br>
          <br>
          <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerGetHit(int damage){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerHealth -= damage; <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; UpdateHealth(); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sceneName = SceneManager.GetActiveScene().name; <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (playerHealth >= MaxHealth){playerHealth = MaxHealth;} <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((playerHealth <= <font color=#ed6c0a><b>0</b></font>) && (sceneName != <font color=#ed6c0a><b>&quot;EndLose&quot;</b></font>) <b>&& (Lives &lt;= <font color=#ed6c0a>0</font>)</b>){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; SceneManager.LoadScene(<font color=#ed6c0a><b>&quot;EndLose&quot;</b></font>); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else if</b></font><b> (playerHealth <= <font color=#ed6c0a>0</font>){ UpdateLives(-1, <font color=#ed6c0a>&quot;down&quot;</font>); }</b><br>
&nbsp; &nbsp; &nbsp;&nbsp; } <br>
<br>
<b>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b>public</font> <font color=#31849b>void</font> UpdateLives(<font color=#31849b>int</font> lifeChange, <font color=#31849b>string</font> changeDir){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
Lives += lifeChange;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050>if</font> (changeDir == <font color=#ed6c0a>&quot;down&quot;</font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (lifeHeart5.activeInHierarchy){lifeHeart5.SetActive(false);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if (lifeHeart4.activeInHierarchy){lifeHeart4.SetActive(false);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if (lifeHeart3.activeInHierarchy){lifeHeart3.SetActive(false);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if (lifeHeart2.activeInHierarchy){lifeHeart2.SetActive(false);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if (lifeHeart1.activeInHierarchy){lifeHeart1.SetActive(false);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050>else if</font> (changeDir == <font color=#ed6c0a>&quot;up&quot;</font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!lifeHeart2.activeInHierarchy){lifeHeart2.SetActive(true);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if (!lifeHeart3.activeInHierarchy){lifeHeart3.SetActive(true);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if (!lifeHeart4.activeInHierarchy){lifeHeart4.SetActive(true);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else if (!lifeHeart5.activeInHierarchy){lifeHeart5.SetActive(true);}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }</b>
</div>

<br><br>
<b>e.</b> Add  a condition to PlayerRespawn.cs to only respawn if Lives &gt; 0: 
<br>
<center>
<em><b>ADD</b> to PlayerRespawn.cs Update() Function </em><em><b>(Add Bold Content)</b></em>
</center>

<div class="blockScript">
&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Update() {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (pSpawn != null){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> <b>(</b>(GameHandler.CurrentHealth &lt;= <font face="arial"><font color=#ed6c0a><b>0</b></font></font>) <b>&amp;&amp; (GameHandler.Lives &gt; 0))</b>{ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//comment out lines from GameHandler abotu EndLose screen</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;I am going back to the last spawn point&quot;</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Vector3 pSpn2 = new Vector3(pSpawn.position.x, pSpawn.position.y, transform.position.z);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameObject.transform.position = <font face="arial">pSpn2</font>; <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
<br>
      </div>

<br><br>
<b>f.</b> Optionally add  to a PickUpHeart.cs script  to a heart pickup, to increase player lives: 
<br>

<center>
  <font face=arial><em>PickUpHeart.cs</em></font>:
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font>System.Collections.Generic;<br>
                  <font color=#3ab050><b>using</b></font> System.Collections;<br>
                  <font color=#3ab050><b>using</b></font> UnityEngine;<br>
                  <br>
                  <font color=#31849b><b>public class</b></font> <font color=#365f91><b>PickUpHeart: </b></font><font color=#365f91><b>MonoBehaviour</b></font> {<br>
      </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><b><font color=#31849b>public</font></b> GameHandler gameHandler;
      
<br><br>
      <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Start() {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; }</font>

<br>
<br>
        <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> OnTriggerEnter2D(Collider2D other) {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) &amp;&amp; (GameHandler.Lives &lt; <font face="arial">gameHandler</font>.maxLives)){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;gameHandler.UpdateLivesLives (<font face="arial"><font color=#ed6c0a><b>1</b></font></font>, <font face="arial"><font face="arial"><font face=arial><font face="arial"><font face="arial"><font color=#ed6c0a><b>&quot;up&quot;</b></font></font></font></font></font></font>);
        <br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//playerPowerupVFX.powerup();</font> <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy(gameObject);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }<br>
</div>

<br><br><br>
<b><a href="#02b"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02b4">&nbsp;</a>EXPLORATION: MAP RETURN TO DOOR: </b>
<br>
<em><b>SUMMARY:</b></em> In an exploration game there is typically one or more world-map and rooms or buildings you can enter. When you exit those rooms or buildings you want to return to the same place on the map where you entered, to maintain a sense of continuity of space. 
<br>
Just like in a checkpoint system, we need to capture a location value to use when the player needs to return to that location, BUT in an exploration game we need to preserve that information between Scenes, and so the values need to be static.<br>
<br>
<b>a.</b> Create a new C# script called GameHandler_PlayerReturn (see below). 
<br>Add this script to the 
GameHandler prefab in the Prefabs folder.<br>

<br>
This script includes  two static variables: 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; static string lastMap (if there are multiple maps) 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; static Vector2 lastDoorPosition.

<br>
<br>
In the Start() function, check the current scene (requires the SceneManagement namespace) and compare it to the static string lastMap. If they match, set the character position to the static vector2.<br>
<br>
When we enter a door/building from a map, we just need a command that updates both static values.

<br><br>
<em><b>NOTE:</b></em> if you need to preserve multiple locations (for example, if you are making a game in a building with hallways, and each hallway has rooms to enter off of it, and you can go back to previous hallways), then you will need a map string for each hallway, to rememebr where we last exited for that space. </font>

<br><br>
<center>
<em>GameHandler_PlayerReturn.cs</em>
</center>

<div class="blockScript">
<font color=#3ab050><b>using </b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using </b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;</font><br><font color=#3ab050><b>using</b></font> UnityEngine.SceneManagement;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>GameHandler_PlayerReturn : </b></font><font color=#365f91><b>MonoBehaviour</b></font> {<br><br>
        <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public static string</b></font> lastMap = <font face="arial"><font color=#ed6c0a><b>&quot;</b></font></font><font face="arial"><font color=#ed6c0a><b>&quot;</b></font></font>;
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public static Vector2</b></font> lastDoorPosition;
&nbsp;&nbsp; <font color=gray>// where the Player entered a door</font>
<br> &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private string</b></font> thisLevel; 
<br> &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private Transform </b></font>player;
<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Start() {
<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; thisLevel = SceneManager.GetActiveScene().name;
<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; player = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;Player&quot;</b></font>).GetComponent&lt;Transform&gt;();

<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (thisLevel == lastMap){ 
<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; player.position = lastDoorPosition;
<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br> &nbsp; &nbsp; &nbsp;&nbsp; }
<br> }
</div>

<br><br>
<b>f.</b> Here is a door script to remember where on the map it was located. 

<br>
<em><b>IMPORTANT:</b></em> This script should ONLY be active on doors in the map level (or the hallways levels, in a game that takes place on a multi-floor building).<br>

<br>Note the offsetY value is intended to put the player far enough from the door that it does not re-collide with it and re-enter it: 

<br>
<br>
<center>
<em>Door_MapReturn.cs</em>
</center>
<div class="blockScript">
<font color=#3ab050><b>using </b></font></font>System.Collections.Generic;<br>
            <font face="arial"><font color=#3ab050><b>using </b></font></font>System.Collections;<br>
            <font face="arial"><font color=#3ab050><b>using</b></font></font> UnityEngine; <br>
            <font face="arial"><font color=#3ab050><b>using</b></font></font> UnityEngine.SceneManagement;
            
<br><br>
<font color=#31849b><b>public class</b></font> <font color=#365f91><b><b>Door_MapReturn</b> : MonoBehaviour</b></font> {
<br>
<br>
<font face="arial"><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public string </b></font></font>NextLevel = <font face="arial"><font color=#ed6c0a><b>&quot;MainMenu&quot;</b></font></font>; </font>
<br>
<font face="arial"><font face="arial"><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private string </b></font></font>thisLevel; </font></font>


<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private</b></font> Vector2 doorReturnPos;<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>// load with location for player when they return</font></font>
<br>
<font face="arial"><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public float </b></font></font>offsetX = <font face="arial"><font color=#ed6c0a><b>0f</b></font></font>; <font face="arial"><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>// distance to left or right of the door for player to spawn</font></font></font></font></font><br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public float </b></font></font>offsetY = <font face="arial"><font color=#ed6c0a><b>-2f</b></font></font>; <font face="arial"><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>// distance above or below the door for player to spawn</font></font></font></font><br>
&nbsp; &nbsp; &nbsp;&nbsp; 

<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Start() {<br>

&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; thisLevel = SceneManager.GetActiveScene().name;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; doorReturnPos = new Vector2((transform.position.x + offsetX), (transform.position.y + offsetY)); <br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public void</b></font> OnTriggerEnter2D(Collider2D other) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>GameHandler_PlayerReturn.<font face="arial">lastDoorPosition</font> = <font face="arial">doorReturnPos</font>;<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>GameHandler_PlayerReturn.<font face="arial">lastMap</font> = thisLevel</font></font></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>SceneManager.LoadScene (NextLevel);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; } <br>
} <br>
</div>

<br>
<br>
</td></tr></table>
</div></td></tr></table>
<br>

<a name="02c">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr>
<td><button class="accordion3">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>
<font face="arial"><b> [2C] INTERACTIVE ENVIRONMENTS, HAZARDS, AND PUZZLES</b> 
</font>
</button>
<div class="panel1">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=#dc0bdc><b>[2C]: </b></font></font></font><font size=+2 face="arial"><b>ENVIRONMENT HAZARDS AND INTERACTIVE SPACES</b></font>

<table width=90% cellpadding=5 border=0><tr>
<td width=33% valign=top bgcolor=#ebead1><font face="arial">
<b>HAZARDS:</b>
<br>1. <a href="#02c1">Death Spikes</a>
<br>2. <a href="#02c2">Lava</a>
<br>3. <a href="#02c3">Moving Doom Wall</a>

<br><br><br>
</font></td>
<td width=33% valign=top bgcolor=#ebdcb6><font face="arial"><b>STEALTH GAME TOOLS:</b>
<br>
1. <a href="#02c_bush">Hide</a> in a bush
(WIP)<br>
<br>
<br>
</font></td>
<td width=33% rowspan=2 valign=top bgcolor=#daeeed><font face="arial">
<b>PUZZLES: </b>
<br>
1. <a href="#02c11">Moveable Block</a> 
<br>
2. <a href="#02c12">Block-able Laser</a>

<br><br>
3. <a href="#02c18">Sliding Walls</a>
<br>
4. <a href="#02c13">Switch-able Walls</a>
<br>
5. <a href="#02c14">Breakable Walls</a> (webs)

<br><br>
6. Indicate <a href="#02c15">Hidden Spaces</a> <br>
7. <a href="#02c16">SpriteMasks</a> (light in dark) <br>
8. <a href="#02c17">Enemy Zapper</a>
</font></td>
</tr>
<tr>
<td valign=top bgcolor=#d9e6d3><font face="arial"><b>PLATFORMS:</b> <br>
1. <a href="#02c4">Moving</a> Platforms <br>
2. <a href="#02c5">Slippery/Sticky</a> Platforms <br>
3. <a href="#02c6">Bouncy</a> Platforms <br>
4. <a href="#02c7">Ladders</a></font></td>

<td valign=top bgcolor=#ebe0ea><font face="arial"><b>INTERACTIVE TILEMAPS:</b> <br>
1. <a href="#02c8">Destructible</a> Tilemaps <br>
2. <a href="#02c9">Paintable</a> Tilemaps <br>
3. <a href="#02c10">Change Color</a> (reveal, WIP)<br>
4. <a href="#02c10b">Dynamic World Generation</a><a href="#02c7"></a></font></td>

</tr></table>

</center>

<br></td></tr>
<tr><td bgcolor=#ebead1>
<font face=arial>

<center>
<font face="arial"><img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
<br>
<b>HAZARDS: Spikes, Lava, Doom Wall</b>
<br>
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
</font></center>

<br>
<b><a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c1">&nbsp;</a>
<font color=purple>HAZARD 1.</font> DEATH SPIKES (Instant Damage):</b> <br>
A classic of Platfomer design element is spikey death! 
<br><br>
This can be done two ways: 

<br><br>
<b>OPTION 1.</b> A duplicate-able <b>Prefab</b> of a spike (EmptyGame Object named &quot;Spike&quot; with box collider and sprite-art as child)

<br><br>
<b>OPTION 2.</b> A <b>Tilemap layer</b> called "Tilemap_spikes" that contains nothing but spikes, and has the Tilemap Collider 2D Component applied.

<br><br>
<b>SCRIPT:</b> In either option, drag the following script DamageInstant.cs onto the Spike object or Tilemap layer, to make it cause damage to the Player:<br>
</font>
<center>
<font face="arial"><i>DamageInstant.cs script:</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>DamageInstant : MonoBehaviour</b></font></font></font> {<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameHandler gameHandlerObj;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> damage = <font face="arial"><font color=#ed6c0a><b>1</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//public Transform backToStart;</font>
<font color=gray>//uncomment this line for &quot;auto-death,&quot; to zap the Player back to start</font>
<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (GameObject.FindWithTag(&quot;GameHandler&quot;) != null){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;gameHandlerObj = GameObject.FindWithTag(<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>).GetComponent&lt;GameHandler&gt;();
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> OnCollisionEnter2D(Collision2D other) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandlerObj.playerGetHit(damage);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//other.transform.position = new Vector3(backToStart.position.x, backToStart.position.y, backToStart.position.z);</font><br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
}</font></td></tr></table>
</center>

<br>
<center>
  <img src="gamedesign/bullet.png">
  <img src="gamedesign/bullet.png">
  <img src="gamedesign/bullet.png">
</center>

<br><br>
<font face=arial>
<a href="#02c"><img src="gamedesign/triangle_purple.png"></a>
<a name="02c2">&nbsp;</a>
<b><font color=purple>HAZARD 2.</font> DON'T TOUCH THE LAVA (Slow Damage):</b>

<br><br>
Lava produces increased damage the longer a player stands in it. Like the Spike, it can be created as a
<b> Tilemap layer</b> called "Tilemap_lava" (with the <b>Tilemap Collider 2D</b> Component applied) or on a <b>Prefab</b> Sprite (with <b>BoxCollider2D</b> Component). <br><br>
<b>SCRIPT:</b> In either option, drag the following script DamageSlow.cs onto the Spike object or Tilemap layer, to make it cause damage to the Player:<br>
</font>
<center>
  <font face="arial"><i>DamageSlow.cs script:</i><br>
    </font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>DamageSlow : MonoBehaviour</b></font></font></font> {
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> damage = <font face="arial"><font color=#ed6c0a><b>1</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> damageTime = <font face="arial"><font color=#ed6c0a><b>0.5f</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private bool</b></font></font> isDamaging = <font color=#365f91><b>false</b></font>;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private float</b></font></font> damageTimer = <font face="arial"><font color=#ed6c0a><b>0f</b></font></font>;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private </b></font></font>GameHandler gameHandlerObj; <br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Start () {<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;  <font color=#3ab050><b>if</b></font> (GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>) != null) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;gameHandlerObj = GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>).GetComponent&lt;GameHandler&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;}<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> FixedUpdate(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (isDamaging == <font color=#365f91><b>true</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; damageTimer += <font face="arial"><font color=#ed6c0a><b>0.1f</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (damageTimer &gt;= damageTime){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandlerObj.playerGetHit (damage);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; damageTimer = <font face="arial"><font color=#ed6c0a><b>0f</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnTriggerStay2D(Collider2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isDamaging = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnTriggerExit2D(Collider2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isDamaging = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
}</font></td>
</tr></table>
</center>
<font face=arial><br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<br><br>
<font face=arial>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c3">&nbsp;</a>
<b><font color=purple>HAZARD 3.</font> MOVING WALL OF DOOM (Traveling Threat):</b>

<br>
To motivate a player to move forward or up, put a big wall of fiery / stabby death behind them, and move it towards the player!

<br><br>
<b>a.</b> Create a new <b>Empty GameObject</b>. In the Inspector name it &quot;<b>WallOfDoom</b>&quot; and reset Transforms.

<br><br>
<b>b.</b> <b>[Add Components]</b> to WallOfDoom: Physics2D &gt; <b>BoxCollider2D</b> set to <b>isTrigger</b>, and <b>Rigidbody2D</b>, set <b>BodyType</b> = <b>Kinematic</b>.

<br><br>
<b>c.</b> Create and import art for your wall of lava,  fire, spikes, etc. An animated spritesheet will feel more dangerous. Drag into the Hierarchy and make the art a child of  WallOfDoom.

<br><br>
<b>d.</b> Create a new C# script called &quot;WallOfDoom.cs&quot; with the content below. Drag this script onto WallOfDoom:<br>
</font>
<center>
  <font face="arial"><i>WallOfDoom.cs script:</i><br>
    </font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br><br>
<font face=arial><font color=#31849b><b>public class </b></font><font color=#365f91><b>WallOfDoom : MonoBehaviour</b></font></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//NOTE: this script moves right-ward by default, but turn on isVertical to move upward;</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b> public float</b></font></font> moveDelay = <font face="arial"><font color=#ed6c0a><b>1f</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> moveRate = <font face="arial"><font color=#ed6c0a><b>100f</b></font></font>;<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public bool</b></font></font> isVertical = <font color=#365f91><b>false</b></font>;<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public bool</b></font></font> startMove = <font color=#365f91><b>false</b></font>;<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> moveTimer = <font face="arial"><font color=#ed6c0a><b>0</b></font></font>;<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> Rigidbody2D rb2D;<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> Vector2 forceVector;<br>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//public GameObject startDoomEffect; //uncomment to spawn a spritesheet or particles on move start</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//private Animator anim; 			//uncomment for animated wall (rotating spike wheels, roiling fire or lava, etc)</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//public AudioSource startSFX;</font><br><br>&nbsp; &nbsp; &nbsp;&nbsp;  <font face=arial><font color=#31849b><b>void</b></font></font> Start(){<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb2D = gameObject.GetComponent&lt;Rigidbody2D&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font><br>&nbsp; &nbsp; &nbsp;&nbsp; }<br><br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> FixedUpdate(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; moveTimer += <font face="arial"><font color=#ed6c0a><b>0.01f</b></font></font>;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (moveTimer &gt;= moveDelay){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; startMove =<font color=#365f91><b> true</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//GameObject startMove = Instantiate (startDoomEffect, transform.position, transform.rotation);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(&quot;deathmotion&quot;, true);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//startSFX.Play();</font><br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (startMove == <font color=#365f91><b>true</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> moveForce = moveRate * Time.fixedDeltaTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (isVertical == <font color=#365f91><b>false</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; forceVector = new Vector2(moveForce,<font face="arial"><font color=#ed6c0a><b> 0</b></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else if</b></font> (isVertical == <font color=#365f91><b>true</b></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; forceVector = new Vector2(<font face="arial"><font color=#ed6c0a><b>0</b></font></font>, moveForce);<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb2D.velocity = forceVector;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp;&nbsp; }<br>
}</font></td>
</tr></table>
</center>

<font face=arial>
<b>SCRIPTING NOTE:</b> There are multiple ways to move an object in Unity (see this video for <a href="https://youtu.be/ixM2W2tPn6c" target=motion>motion types</a>). 
<br>
The Rigidbody2D is  here to allow colliders to work, and Rigidbody2D.velocity replaces all physics so motion is purely controlled by the script.<br>
<br>
<b>e. ADD DAMAGE SCRIPT: </b>This script is just to move / animate the wall. To make it cause damage, add the <a href="02c1"><em>DamageInstant.cs</em></a> script to the WallOfDoom GameObject (see above).</font>

<br><br><br>

</td></tr>
<tr><td bgcolor=#d9e6d3><font face=arial>

<center>
<font face="arial"><img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
<br>
<b>PLATFORMS: Moving, Slippery / Sticky, Bouncy</b>
<br>
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
</font></center>

<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c4">&nbsp;</a>
<b><font color=purple>PLATFORM 1.</font> MOVING PLATFORMS:</b>

<br><br>
<b><font color=purple>OPTION 1:</font> Back and Forth </b><br>
<b>Summary: </b>Add a timing test to your level: make some moving platforms! <br><br><b>a.</b> Create a new <b>Empty GameObject</b>. In the Inspector name it &quot;<b>PlatformMoving</b>&quot; and reset Transforms. 

<br><br>

<b>b. [Add Components]</b> to PlatformMoving: Physics2D &gt; <b>BoxCollider2D</b> and <b>Rigidbody2D</b>, set <b>BodyType</b> = <b>Kinematic</b>. 

<br><br>
<b>c.</b> Create and import art for your Platform. Drag into the Hierarchy and make the art a child of  PlatformMoving. 

<br><br>
<b>d.</b> Create a new C# script called &quot;PlatformMove.cs&quot; with the following, and add to PlatformMoving.
<br><br>
</font>

<center>
<font face="arial"><i>PlatformMove.cs script:</i></font>
<br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;
<br><font color=#3ab050><b>using</b></font> System.Collections;
<br><font color=#3ab050><b>using</b></font> UnityEngine;
<br>
<br><font color=#31849b><b>public class </b></font><font color=#365f91><b>PlatformMove : MonoBehaviour</b></font> {
<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private float</b></font></font> speed =<b><font color="#ed6c0a"> </font></b><font face="arial"><font color=#ed6c0a><b>2f</b></font></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private bool</b></font></font> moveToA = <font color=#365f91><b>true</b></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> Transform moveTargetA; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> Transform moveTargetB; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private Vector3</b></font></font> mTA; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private Vector3</b></font></font> mTB; 
<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>// If the platform is a creature that should turn around as it moves back and forth, set true:</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private bool</b></font></font> isHorizontal = <font color=#365f91><b>false</b></font>; <br><br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> FixedUpdate(){ <br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; mTA = new <font face=arial><font color=#31849b><b>Vector3</b></font></font>(moveTargetA.position.x, moveTargetA.position.y, <font face="arial"><font color=#ed6c0a><b>0</b></font></font>); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; mTB = new <font face=arial><font color=#31849b><b>Vector3</b></font></font>(moveTargetB.position.x, moveTargetB.position.y, <font face="arial"><font color=#ed6c0a><b>0</b></font></font>); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> step =  speed * Time.deltaTime; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>// calculate distance to move</font>

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (moveToA){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = <font face=arial><font color=#31849b><b>Vector3</b></font></font>.MoveTowards(transform.position, mTA, step);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = <font face=arial><font color=#31849b><b>Vector3</b></font></font>.MoveTowards(transform.position, mTB, step);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (<font face=arial><font color=#31849b><b>Vector3</b></font></font>.Distance(moveTargetA.position, transform.position) &lt; 1){ moveToA = <font color=#365f91><b>false</b></font>; turn();}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else if</b></font> (<font face=arial><font color=#31849b><b>Vector3</b></font></font>.Distance(moveTargetB.position, transform.position) &lt; 1){ moveToA = <font color=#365f91><b>true</b></font>; turn();}<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnCollisionEnter2D(Collision2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; other.collider.transform.SetParent(transform); <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>// so Player moves with platform</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnCollisionExit2D(Collision2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; other.collider.transform.SetParent(null); <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>// Player not parented when off platform</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br><br>

	&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> turn(){ <br>		
	&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (isHorizontal){ <br>			
	&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>Vector3</b></font></font> theScale = transform.localScale; <br>            
	&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; theScale.x *= -<font face="arial"><font color=#ed6c0a><b>1</b></font></font>; <br>            
	&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.localScale = theScale; <br>		
	&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>	
	&nbsp; &nbsp; &nbsp;&nbsp; } <br>}
  </font></td>
</tr></table>
</center>
<font face=arial>
<br><b>e. Create move targets:</b> Create a new <b>Empty GameObject</b>. <br>
In the Inspector name it &quot;<b>moveTargetA</b>&quot;, reset Transforms, and click the upper-left icon to be visible in Scene.
<br>
Duplicate moveTargetA <b>[Ctrl/Cmd]+[d]</b> and in the Inspector rename  
&quot;<b>moveTargetB</b>&quot;.<br>


Drag these into the TargetA and TargetB <b>script slots</b>.<br><br>
<b>f. Make a Prefab:</b> Create a new <b>Empty GameObject</b>. 
<br>
In the Inspector name it &quot;<b>PlatformMoveSYSTEM</b>&quot; and reset Transforms. 
<br>
Drag PlatformMoving, PlatPosA, and PlatPosB onto PlatformMovingSYSTEM to make them children.
<br>Drag PlatformMovingSYSTEM into the Project panel to make it a <b>Prefab</b>, so copies can be made. <br>
<b><em>NOTE:</em></b> Only move the elements of this Prefab in Scenes, not in the Prefab, or all Scene copies may change.<br><br>
<a name="02c4b">&nbsp;</a><br>
<b><font color=purple>OPTION 2: </font></b><b>Move With Player </b><br>
<b>Summary: </b>Make a platform that ONLY moves when the player stands on it  (<a href="https://youtu.be/O6wlIqe2lTA" target=source>source</a>):<br><br>
<b>a.</b>Create a new <b>Empty GameObject</b>. In the Inspector name it &quot;<b>PlatformMoving</b>&quot;, reset Transforms. <br>
<br>
<b>b.</b> <b>[Add Components]</b> to PlatformMoveWithPlayer: Physics2D &gt; <b>BoxCollider2D</b> and <b>Rigidbody2D</b>, set <b>BodyType</b> = <b>Kinematic</b>. <br>
<br>
<b>c.</b> Create and import <b>art</b> for your Platform. 
<br>Drag into the Hierarchy and make the art a child of  PlatformMoving. 
<br>
Name it &quot;Platform_art&quot;.
Adjust the BoxCollider2D size to match the width of the art.<br><br>
<b>d.</b> Create a new <b>C# script</b> named &quot;<b>PlatformMoveWithPlayer.cs</b>&quot; with the following content. Add to platform. 
<br>
In the Inspector, choose the Velocity values for the desired direction and speed. X= side-to-side, Y=Up and Down. Try X=1.<br>
<br>
</font>
<center>
<font face="arial"><i>PlatformMoveWithPlayer.cs script:</i></font>
<br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;
<br><font color=#3ab050><b>using</b></font> System.Collections;
<br><font color=#3ab050><b>using</b></font> UnityEngine;
<br><br>
<font color=#31849b><b>public class </b></font><font color=#365f91><b>PlatformMoveWithPlayer : MonoBehaviour</b></font> {
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; [SerializeField]
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Vector3 velocity; <br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private bool</b></font></font> moving = <font color=#365f91><b>false</b></font>; <br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private void</b></font></font> FixedUpdate(){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (moving){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position += (velocity * Time.deltaTime);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private void</b></font></font> OnCollisionEnter2D(Collision2D other){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>){
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; moving = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; other.collider.transform.SetParent(transform); <font color=gray>// so Player moves with platform</font> 
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private void</b></font></font> OnCollisionExit2D(Collision2D other){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag ==<font face="arial"><font color=#ed6c0a><b> &quot;Player&quot;</b></font></font>){
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; moving = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; other.collider.transform.SetParent(null); <font color=gray>// Player not parented when off platform</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp;}<br>
}</font></td></tr></table>
</center>
<font face=arial>
<br>
Hit <b>[Play] </b>and test by jumping on and off of this platform. 
<br>
Turn off [Play] to continue editing.
<br><br>

<b>e.</b> <b>Drag</b> the PlatformMoving object into your<b>Project panel > Assets > Prefabs</b> folder to make it a <b>Prefab</b>, so duplicates can be added to this and other scenes. <br>
<br>
<b>MOVING PLATFORM SIZING NOTE:</b> 
<br>
Because this script makes the Player temporarily a child of the <b>PlatformMoveing</b> object, the Platform object cannot be scaled bigger or smaller, or the Player will suddenly change size when touching the Platform! 

<br><br>
If you want <b>a copy of the Platform Prefab</b> in your scene to be a <b>different size</b> than in the Prefab:<b> 
<br>
1. Scale the child Platform art</b> instead, and then 
<br>
<b>2. Change the size of the platform collider</b> to match the new art size 
<br>This is one of the benefits of making functionality and art as separate objects! 

<br>
<br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>
<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02c5">&nbsp;</a>
<b><font color=purple>PLATFORM 2.</font> STICKY / SLIPPERY PLATFORMS:</b> 

<br><br>
<b>Summary:</b> Add a script to certain platfoms to change how the player moves on those platforms. 
<br>
<b>This can be done most simply</b> by adding collision tests to the player movement script that look for platforms  with a certain tag and then modifies the player movement speed as a result (and possibly player animation to show the challenges of moving on slippery or sticky ground). All the platform needs in that case is a special tag. <br><br>
<b>A more robust version</b> is accomplished if we add a script to the platforms that allows them to have customized slippery or sticky movement values. if the player base speed = 10f, then  a decent slippery multiplier could be 3f, and a reasonably sticky multiplier = 0.2f. <br>
<br>
<b>a.</b> Given a Tilemap layer or (individual platform sprites) with collision already applied, 
and given a PlayerMove.cs script applied to the player to control movemrnt:<br>
Create a <b>new C# script</b> called &quot;<b>Platform_SlippyStick.cs</b>&quot; with the following, and add to the intended platform. The public bool &quot;isSlippery&quot; lets the level designer use thsi same script for both slippery and sticky platforms: turn it on for slippery surfaces, turn it off for sticky surfaces.<br>
<br>
</font>
<center>
  <font face="arial"><i>Platform_SlippyStick.cs script:</i></font> <br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic; 
<br> <font color=#3ab050><b>using</b></font> System.Collections; 
<br><font color=#3ab050><b>using</b></font> UnityEngine; <br>
<br><font color=#31849b><b>public class </b></font><font color=#365f91><b>PlatformMove : MonoBehaviour</b> { 
</font>
<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>private</b></font> PlayerMove pMove;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public bool</b></font> isSlippery = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public float</b></font> slipperyMultiplier = <font face="arial"><font color=#ed6c0a><b>3f</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public float</b></font> stickyMultiplier = <font face="arial"><font color=#ed6c0a><b>0.2f</b></font></font>;<br><br> 
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;pMove = GameObject.FindWithTag(<font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>).GetComponent&lt;PlayerMove&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp;}<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>void</b></font> OnCollisionEnter2D(Collision2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (isSlippery == <font color=#365f91><b>true</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;
<font color=gray>//Debug.Log(&quot;I am a slippery platform&quot;);</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;pMove.playerMoveModify(slipperyMultiplier, <font color=#365f91><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}
<font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;
<font color=gray>//Debug.Log(&quot;I am a sticky platform&quot;);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;pMove.playerMoveModify(stickyMultiplier, <font color=#365f91><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;}<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>void</b></font> OnCollisionExit2D(Collision2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;pMove.playerMoveModify(<font face="arial"><font color=#ed6c0a><b>0f</b></font></font>, <font color=#365f91><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;
<font color=gray>//Debug.Log(&quot;I am moving normally!&quot;);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;}<br>}<br></font></td>
</tr></table>
</center>
<font face=arial> <br>
<b>b. Add functions to the PlayerMove.cs script. </b>The following code has the added lines in <b>Bold</b>. <br>
Note: only the first commands in the playerMoveModify() function are needed to change the speed variable.<br>
<br>
</font>
<center>
  <font face="arial"><i>add move speed mofidcation to PlayerMove.cs script:</i></font> <br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial>
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br> 
<font color=#3ab050><b>using </b></font>System.Collections;<br> 
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font color=#31849b><b>public class </b></font><font color=#365f91><b>PlayerMove : MonoBehaviour</b></font>{<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public</b></font> Animator animator;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public</b></font> Rigidbody2D rb2D;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>private bool</b></font> FaceRight = true; // determine which way player is facing.<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public static float</b></font> runSpeed;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public float</b></font> startSpeed = <font face="arial"><font color=#ed6c0a><b>10f</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public bool</b></font><b><font color="#31849b"> </font></b>isAlive = true;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public</b></font> AudioSource walkSFX;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>private</b></font><b> Renderer myRend;<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>private Color</b></font><b> defaultColor;<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>private bool</b></font><b> isSpeedChange = </b><font color=#365f91><b>false</b></font><b>;</b><br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;animator = gameObject.GetComponentInChildren&lt;Animator&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;rb2D = transform.GetComponent&lt;Rigidbody2D&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;myRend = gameObject.GetComponentInChildren&lt;Renderer&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;defaultColor = myRend.material.color;<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;runSpeed = startSpeed;<br>
&nbsp; &nbsp; &nbsp;&nbsp;}<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//NOTE: Horizontal axis: [a] / left arrow is -1, [d] / right arrow is 1</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>Vector3</b></font> hMove = new <font color=#31849b><b>Vector3</b></font>(Input.GetAxis(<font face="arial"><font color=#ed6c0a><b>&quot;Horizontal&quot;</b></font></font>), <font face="arial"><font color=#ed6c0a><b>0.0f</b></font></font>, <font face="arial"><font color=#ed6c0a><b>0.0f</b></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (isAlive == <font color=#365f91><b>true</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;transform.position = transform.position + hMove * runSpeed * Time.deltaTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (Input.GetAxis(<font face="arial"><font color=#ed6c0a><b>&quot;Horizontal&quot;</b></font></font>) != <font face="arial"><font color=#ed6c0a><b>0</b></font></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;animator.SetBool (<font face="arial"><font color=#ed6c0a><b>&quot;walk&quot;</b></font></font>, <font color=#365f91><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;if (!walkSFX.isPlaying){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;walkSFX.Play();<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;} <font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;animator.SetBool (<font face="arial"><font color=#ed6c0a><b>&quot;walk&quot;</b></font></font>, <font color=#365f91><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;walkSFX.Stop();<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//NOTE: if input is moving the Player right and Player faces left, turn, and vice-versa</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> ((hMove.x &gt;<font face="arial"><font color=#ed6c0a><b>0</b></font></font> &amp;&amp; !FaceRight) || (hMove.x &lt; <font face="arial"><font color=#ed6c0a><b>0</b></font></font> &amp;&amp; FaceRight)){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;playerTurn();<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;}<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>private void</b></font> playerTurn(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>// NOTE: Switch player facing label</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;FaceRight = !FaceRight;<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//NOTE: Multiply player's x local scale by -1.</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>Vector3</b></font> theScale = transform.localScale;<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;theScale.x *= -<b><font color="#ed6c0a">1</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;transform.localScale = theScale;<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//turnSFX.Play();</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;}<br>
<b><br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public void</b></font><b> playerMoveModify(</b><font color=#31849b><b>float</b></font><b> multiplier, </b><font color=#31849b><b>bool</b></font><b> isNormal)
{<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font><b> (isNormal == </b><font color=#365f91><b>true</b></font><b>){<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>runSpeed = startSpeed;<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>isSpeedChange = </b><font color=#365f91><b>false</b></font><b>;<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>myRend.material.color = defaultColor;<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>}
</b><font color=#3ab050><b>else</b></font><b> {<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>runSpeed = (startSpeed * multiplier);<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>isSpeedChange = </b><font color=#365f91><b>true</b></font><b>;<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>Debug.Log(</b><font face="arial"><font color=#ed6c0a><b>&quot;Speed is now: &quot;</b></font></font><b> + runSpeed);<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>myRend.material.color = new Color(</b><font face="arial"><font color=#ed6c0a><b>1.0f</b></font></font><b>, </b><font face="arial"><font color=#ed6c0a><b>1.0f</b></font></font><b>, </b><font face="arial"><font color=#ed6c0a><b>2.5f</b></font></font><b>);<br>
</b>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b>}</b><br>
&nbsp; &nbsp; &nbsp;<b>&nbsp;}</b><br>}
<br></font></td>
</tr></table>
</center>
<font face=arial><br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<br><br>
<font face=arial>
<a href="#02c"><img src="gamedesign/triangle_purple.png"></a> 
<a name="02c6">&nbsp;</a>
<b><font color=purple>PLATFORM 3.</font> BOUNCY PLATFORMS:</b> 

<br><br>
<b>Summary: </b>Add bouncy surfaces to help propel your player over obstacles! The higher the player starts their leap, the higher the bounce. Consider using a &quot;signifier&quot; to indicate a bouncy surface, like an animated bouncy mushroom (with thanks to Fiona Campbell)

<br><br>
<b>a.</b> Make an empty GameObject. In the Inspector name it &quot;BouncyPlatform&quot;. 

<br>
<br>
<b>b.</b> <b>[Add Component] Physics2D &gt; Box Collider 2D</b> and <b>Rigidbody2D</b>. <br>
Set Rigidbody2D from Dynamic to <b>Static</b>. 

<br><br>
<b>c.</b> In Assets, RightClick to create a <b>2D &gt; PhysicMaterial2D</b>. <br>
In the Inspector set  <b>Friction = 5</b> and <b>bounciness = 1.05</b>. <br>
<b>Drag</b> the PhysicMaterial2D onto  BouncyPlatform, and it populates in the material slot of the BoxCollider2D.<br>
<br>
<br>
<br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>

<br>
<font face=arial>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c7">&nbsp;</a> 
<b><font color=purple>PLATFORM 4.</font> Ladders:</b> 

<br>
Create an Empty Game Object. In the Inspector name it &quot;Ladder&quot; and reset Transforms. <br>
<br>
<font face=arial><b>a).</b> <b>Create a PNG</b> for your lader: about the width of the Player character. <br>
<b>Import</b> into the Project, drag into the Hierarchy, <font face=arial><font face=arial>rename it ladder_art</font></font> and <b>reset</b> <b>Transforms</b>.</font><br>
<br>
<font face=arial><b>b) </b>Create an <b>Empty Game Object</b>. In the Inspector name it &quot;<b>Ladder</b>&quot; and <b>reset</b> <b>Transforms</b>. <br>
<b>Drag</b> ladder_art onto the Ladder object to make it a child. </font><br>
Select Ladder and <b>[Add Component]</b> Physics2D &gt; <b>BoxCollider2D</b>. <br>
Turn on <b>isTrigger</b>.<br>
Hit the <b>Edit Collider</b> button and set collider width and height to fit ladder_art.<br>
<br>
<b>c).</b> Create a new C# script &quot;<b>LadderMove</b>.cs&quot; with the content below. Add this script to the Sign object. <br>
</font>Make sure the player character has the tag &quot;Player&quot;, and that the Vertical axis is not yet used for anything else (like jumping):<br>
<br>
</font>
<center>
  <font face="arial"><i>LadderMove.cs script:</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b><font color="#365f91">LadderMove</font></b><font face=arial><font face=arial><font face=arial><font color=#365f91><b> : MonoBehaviour</b></font></font></font></font></font> {<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>private</b></font></font> Transform playerTrans; <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>private</b></font></font> Rigidbody2D playerRB; <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public float</b></font></font> upSpeed =<b><font color="#ed6c0a"> 10f</font></b>; <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>private Vector3</b></font></font> vMove; <br>
        <font face=arial><font face=arial><br>
          <font face="arial"><font face="arial"></font></font>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public bool</b></font></font> canLadder = <font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>; <br>
        <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Start(){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;Player&quot;</b></font>) != null){ <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>playerTrans = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;Player&quot;</b></font>).GetComponent&lt;Transform&gt;(); <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>playerRB = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;Player&quot;</b></font>).GetComponent&lt;Rigidbody2D&gt;();<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Update(){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>vMove = new <font face=arial><font color=#31849b><b>Vector3</b></font></font>(<b><font color="#ed6c0a">0.0f</font></b>, Input.GetAxis(<b><font color="#ed6c0a">&quot;Vertical&quot;</font></b>),<b><font color="#ed6c0a"> 0.0f</font></b>);<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font><b> </b>(canLadder ==<font color=#0070c0><b><font color="#365f91"> </font><font color="#365f91" face="arial">true</font></b></font>){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>playerTrans.position = playerTrans.position + vMove * upSpeed * Time.deltaTime;<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        <br>
        <font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>void</b></font></font> OnTriggerStay2D(Collider2D other){<br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>canLadder = <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>; <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>playerRB.gravityScale = 0;<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>// if game has jumping, add bool to disable it, and set true here</font><br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        <br>
        <font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>void</b></font></font> OnTriggerExit2D(Collider2D other){<br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>canLadder =<font color=#0070c0><b><font color="#365f91" face="arial"> false</font></b></font>; <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>playerRB.gravityScale = 1;<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>// if game has jumping, add bool to disable it, and set false here</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp; &nbsp; } <br>
        <br>
        }</font></td>
    </tr>
  </table>
</center>

<br><br><br>
</td></tr>
<tr><td bgcolor=#ebdcb6>
<a name="02c_bush">&nbsp;</a>
<center>
<font face="arial"><img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
<br>
<b>STEALTH TOOLS</b>
<br>
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
</font></center>

<br>
<font face=arial> <a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a> <b><font color=purple>STEALTH 1: </font> Hide Inside a Bush</b> <br>
Change the player appearance when inside a bush, and make chasing enemies walk away. <br>
</font><font face="arial"><br>
<b>1. MAKE THE BUSH:</b> 
<br>Create an Empty Game Object. Add bush art as a child.
<br>Add Component to Empty: BoxCollider2D, set to isTrigger.
<br>Create and add a tag "Bush"

<br>
<br>
<b>2. ADD TO GAMEHANDLER:</b><br>
Add to the GameHandler.cs script a class variable:<br>
</font>
<center>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public static bool</b></font> isPlayerHidden = <font color="#365f91"><b>false</b></font>;</font></td>
    </tr>
  </table>
</center>
<font face="arial"><br>
</font><font face="arial"><b>3. ADD TO ENEMY MOVETOWARDS FUNCTIONS:</b><br>
Look to this static variable to decide if the player should be chased or ignored.
<br>
Add to the Update() function: check GameHandler.isPlayerHidden == false to chase.<br>
Add, if-condition: if GameHandler.isPlayerHidden == true and enemy is within distance threshold, move away:<br>
</font>
<center>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Update(){
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> DistToPlayer = Vector3.Distance(transform.position, target.position);<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((target != null) &amp;&amp; (DistToPlayer &lt;= attackRange)){
<br>

<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//move towards unhidden player, if within distance threshold:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; 
<font color=#3ab050><b>if</b></font> (GameHandler.isPlayerHidden == <font color="#365f91"><b>false</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = Vector2.MoveTowards (transform.position, target.position, speed * Time.deltaTime);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>

<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//move away from hidden player, if within distance threshold:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>else </b></font>{<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = Vector2.MoveTowards (transform.position, player.position, -speed * Time.deltaTime);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br>
<font color=gray>// ... [enemy flip code here. See enemy scripts in section [2D]]</font><br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; }</font></td>
</tr></table>
</center><br>
<font face="arial">
<b>4. ADD TO PLAYER:</b><br>
Duplicate the player_art and set the duplicate to color=black.
<br>Create a new C# script and add to the player: PlayerHide.cs
<br>Add normal and black art to playerNormal and playerHidden slots in Inspector

<br><br>
</font>

<center>
  <font face="arial"><i>PlayerHide.cs script:</i></font>
</center>
<center>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic; <br>
        <font color=#3ab050><b>using</b></font> System.Collections; <br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color="#365f91"><b>PlayerHide</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> GameObject playerHidden;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font><font face=arial> GameObject </font>playerNormal;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//public Transform lastBush;</font><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font><font color=gray>//can destroy used bushes, make them single-use</font><br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerHidden.SetActive(<font color="#365f91"><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((Input.GetKeyDown(<font color=#ed6c0a><b>&quot;space&quot;</b></font>)) && (canExplode == <font color="#365f91"><b>true</b></font>)){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; destroyTileArea();<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> OnTriggerEnter2D(Collider2D other){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Bush&quot;</b></font>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//lastBush = other.gameObject.transform;</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerHidden.SetActive(<font color="#365f91"><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerNormal.SetActive(<font color="#365f91"><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GameHandler.isPlayerHidden = <font color="#365f91"><b>true</b></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> OnTriggerExit2D(Collider2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Bush&quot;</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//Destroy(lastBush);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerHidden.SetActive(<font color="#365f91"><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerNormal.SetActive(<font color="#365f91"><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GameHandler.isPlayerHidden = <font color="#365f91"><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
        }</font></td>
    </tr>
  </table>
</center>
<font face="arial"><br>
</font></td></tr>
<tr><td bgcolor=#ebe0ea>
<center>
<font face="arial"><img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
<br>
<b>INTERACTIVE TILEMAPS</b>
<br>
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
</font></center>

<br>
<font face=arial>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c8">&nbsp;</a> 
<b><font color=purple>TILEMAPS 1.</font> Destructible Tilemaps</b>

<br>
Destroy tiles in a tilemap dynamically during play using a script. <br>
The following destroys tiles based on the player position as it walks around.<br>
<br>
<b>Tilemap.WorldToCell</b> can convert the player's position to the current cell   they occupy. <br>
Then, depending on player  direction,    + 1 to that Cell position, and then use that position to SetTile. <br>
<br>
To change a tile: <em>TilemapReference</em>.<b>SetTile(<font color=#31849b>Vector3Int</font> position, <font color=#31849b>Tilemap.TileBase</font> tile);</b><br>
<br>
To remove a tile: <em>TilemapReference</em>.<b>SetTile(null);</b> <br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>tilemap.SetTile(new Vector3Int(0,0,0), null); <br>
<br>
If the script is located on the Tilemap layer: <b>TileMap tilemap = GetComponent&lt;TileMap&gt;(); </b><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>(can also be found with a Tag)<br>
<br>
Applied the script below to the Player. Fill the script slot with the desired Tilemap (Colliders, Lava, etc). <br>
Hit <b>[Play]</b>, near part of the applied Tilemap, hit <b>[spacebar]</b> to remove all tiles within the destroyRange.<br>
<br>
<br>
</font>
<center>
  <font face="arial"><i>DestroyTiles.cs script:</i></font> (<font face="arial">with thanks to Amy Stoltz</font>)
</center>
<center>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic; <br>
        <font color=#3ab050><b>using</b></font> System.Collections; <br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <font color=#3ab050><b>using</b></font> UnityEngine.Tilemaps; <br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color="#365f91"><b>DestroyTiles</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Tilemap</b></font> destructableTilemap;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private List</b></font>&lt;<font color=#31849b><b>Vector3</b></font>&gt; tileWorldLocations;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>float</b></font> rangeDestroy = <font color=#ed6c0a><b>2f</b></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public bool</b></font> canExplode = <font color="#365f91"><b>true</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//public GameObject </font><font face=arial><font color=gray>boomFX</font></font><font color=gray>;</font><br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; TileMapInit();<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((Input.GetKeyDown(<font color=#ed6c0a><b>&quot;space&quot;</b></font>)) && (canExplode == <font color="#365f91"><b>true</b></font>)){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; destroyTileArea();<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> TileMapInit(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; tileWorldLocations = new <font color=#31849b><b>List</b></font>&lt;<font color=#31849b><b>Vector3</b></font>&gt;();<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>foreach</b></font> (<font color=#31849b><b>var</b></font> pos <font color=#31849b><b>in</b></font> destructableTilemap.cellBounds.allPositionsWithin){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3Int</b></font> localPlace = new <font color=#31849b><b>Vector3Int</b></font>(pos.x, pos.y, pos.z);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3</b></font> place = destructableTilemap.CellToWorld(localPlace) + new <font color=#31849b><b>Vector3</b></font>(<font color=#ed6c0a><b>0.5f</b></font>, <font color=#ed6c0a><b>0.5f</b></font>, <font color=#ed6c0a><b>0f</b></font>);<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (destructableTilemap.HasTile(localPlace)){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; tileWorldLocations.Add(place);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> destroyTileArea(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>foreach</b></font> (<font color=#31849b><b>Vector3</b></font> tile <font color=#31849b><b>in</b></font> tileWorldLocations){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (Vector2.Distance(tile, transform.position) <= rangeDestroy){<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Debug.Log("in range");</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3Int</b></font> localPlace = destructableTilemap.WorldToCell(tile);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (destructableTilemap.HasTile(localPlace)){<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//StartCoroutine(BoomVFX(tile));</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; destructableTilemap.SetTile(destructableTilemap.WorldToCell(tile), null);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//tileWorldLocations.Remove(tile);</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//IEnumerator BoomVFX(Vector3 tilePos){</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//GameObject tempVFX = Instantiate(boomFX, tilePos, Quaternion.identity);</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//yield return new WaitForSeconds(.5f);</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Destroy(tempVFX);</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//}</font> <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//<em>NOTE:</em> To help see the attack sphere in editor:</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> OnDrawGizmosSelected(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
        Gizmos.DrawWireSphere(transform.position, rangeDestroy);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }</font></td>
    </tr>
  </table>
  <br>
</center>
<font face=arial>This script destroys just one tile at a time (needs to be adjusted to match player direction): </font>
<center>
  <br>
  <font face="arial"><i>DestroyTile.cs script:</i></font> (<font face=arial><a href="https://forum.unity.com/threads/how-can-i-place-a-tile-in-a-tilemap-by-script.508338/" target=ref1>code source</a></font>)<br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.Tilemaps;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color="#365f91"><b>DestroyTile</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Tile</b></font> newTile;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Tilemap</b></font> targetTilemap;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private Vector3Int</b></font> previous;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// Make these changes in LateUpdate() so player has option to move in Update()</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private void</b></font> LateUpdate(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// Get the current grid location</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3Int</b></font> currentCell = targetTilemap.WorldToCell(transform.position);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// Add one in a direction (change this as needed to match your directional control)</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; currentCell.x += 1;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// If the position has changed</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (currentCell != previous){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// erase previous</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; targetTilemap.SetTile(previous, null);<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// save the new position for next frame</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; previous = currentCell;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }</font></td>
    </tr>
  </table>
</center>

<br>
<font face=arial>
Here is an exciting script adjustment by Alex Koppel for a side-scroller game, where the destructible tiles represent buildings, and when the player destroys the supports the 
<a href="gamedesign/Unity2D/DestroyTilesNonGround_AlexKoppel.zip"><b>top gets destroyed</b></a>, as well.
</font>

<br><br><br><br>

<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>

<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c9">&nbsp;</a> 
<b><font color=purple>TILEMAPS 2.</font> Paintable Tilemaps:</b>
<br>
Want to paint new tiles into a Tilemap during runtime? For example, want to draw lava, or ice?<br>
<br>
The following <b>C# Script</b> draws new tiles onto a Tilemap based on the position of the object holding the script (like the Player) and specified range. <br>
Load two Tilemaps into the <b>script slots:</b> one for the empty layer to be <b>painted</b> (be sure it has a higher Order In Layer), and another for the layer that has the content to be <b>covered</b> (like a background layer). <br>
Then add the Tile sprite into the Tile <b>slot</b>. <br>
<br>
</font>
<center>
  <font face="arial"><i>CreateTiles.cs script:</i></font><br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic; <br>
        <font color=#3ab050><b>using</b></font> System.Collections; <br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <font color=#3ab050><b>using</b></font> UnityEngine.Tilemaps; <br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color="#365f91"><b>CreateTiles</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Tilemap</b></font> paintTilemap;<font color=gray> //</font><font face=arial><font color=gray>a (potentially) empty map to be painted</font></font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Tilemap</b></font> rangeTilemap; <font color=gray>//</font><font face=arial><font color=gray> the entire space that can be painted</font></font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Tile</b></font> newTile;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private List</b></font>&lt;<font color=#31849b><b>Vector3</b></font>&gt;
        tileWorldLocations;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>float</b></font> rangePaint = <font color=#ed6c0a><b>1.5f</b></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public bool</b></font> canPaint = <font color="#365f91"><b>true</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//public GameObject <font face=arial>paintFX</font>;</font><br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; TileMapInit();<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((Input.GetKeyDown(<font color=#ed6c0a><b>&quot;space&quot;</b></font>)) && (canPaint == <font color="#365f91"><b>true</b></font>)){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; CreateTileArea();<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> TileMapInit(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; tileWorldLocations = new <font color=#31849b><b>List</b></font>&lt;<font color=#31849b><b>Vector3</b></font>&gt;
        ();<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>foreach</b></font> (<font color=#31849b><b>var</b></font> pos <font color=#31849b><b>in</b></font> rangeTilemap.cellBounds.allPositionsWithin){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3Int</b></font> localPlace = new <font color=#31849b><b>Vector3Int</b></font>(pos.x, pos.y, pos.z);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3</b></font> place = rangeTilemap.CellToWorld(localPlace) + new <font color=#31849b><b>Vector3</b></font>(<font color=#ed6c0a><b>0.5f</b></font>, <font color=#ed6c0a><b>0.5f</b></font>, <font color=#ed6c0a><b>0f</b></font>);<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (rangeTilemap.HasTile(localPlace)){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; tileWorldLocations.Add(place);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> CreateTileArea(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>foreach</b></font> (<font color=#31849b><b>Vector3</b></font> tile <font color=#31849b><b>in</b></font> tileWorldLocations){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (Vector2.Distance(tile, transform.position) <= rangePaint){<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Debug.Log("in range");</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//StartCoroutine(PaintVFX(tile));</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paintTilemap.SetTile(paintTilemap.WorldToCell(tile), newTile);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//IEnumerator PaintVFX(Vector3 tilePos){</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//GameObject tempVFX = Instantiate(paintFX, tilePos, Quaternion.identity);</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//yield return new WaitForSeconds(.5f);</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Destroy(tempVFX);</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//}</font> <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//<em>NOTE:</em> To help see the attack sphere in editor:</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> OnDrawGizmosSelected(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
        Gizmos.DrawWireSphere(transform.position, rangePaint);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }</font></td>
    </tr>
  </table>
</center>

<font face=arial>
To use other tile types in this tile painting script: 
<br>
<img src="gamedesign/bullet.png" alt=""> To use <a href="GameDesign_Unity2DTilemap.html#rule" target=rule>Rule Tiles</a>, just set<strong> newTile;</strong> to <font color=#31849b><strong>public RuleTile</strong></font><strong> newTile;</strong> </font>

<br>
<font face=arial><img src="gamedesign/bullet.png" alt=""> To use</font><font face=arial> <a href="GameDesign_Unity2DTilemap.html#animTile" target=anim>Animated Tiles</a>, just set <strong>newTile;</strong> to <font color=#31849b><strong>public AnimatedTile</strong></font><strong> newTile; </strong></font> <br>
<br><br><br>
<font face=arial>The following <b>C# Script</b> paint one new tile at a time onto a Tilemap based on the position of the object holding the script  (needs to be adjusted to match player direction). <br>
<br>
</font>
<center>
  <font face="arial"><i>CreateTile.cs script:</i></font> (<font face=arial><a href="https://forum.unity.com/threads/how-can-i-place-a-tile-in-a-tilemap-by-script.508338/" target=ref1>code source</a></font>)<br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic; <br>
        <font color=#3ab050><b>using</b></font> System.Collections; <br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <font color=#3ab050><b>using</b></font> UnityEngine.Tilemaps; <br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color="#365f91"><b>CreateTile</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Tile</b></font> newTile;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Tilemap</b></font> targetTilemap;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private Vector3Int</b></font> previous;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// Make these changes in LateUpdate() so player has option to move in Update()</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private void</b></font> LateUpdate(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// Get the current grid location</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3Int</b></font> currentCell = targetTilemap.WorldToCell(transform.position);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// Add one in a direction (change this as needed to match your directional control)</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; currentCell.x += 1;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// If the position has changed</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (currentCell != previous){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// set the new tile</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; targetTilemap.SetTile(currentCell, newTile);<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// erase previous</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; targetTilemap.SetTile(previous, null);<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// save the new position for next frame</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; previous = currentCell;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }<br>
        <br>
      </font></td>
    </tr>
  </table>
</center>
<font face=arial>&nbsp; </font><font face=arial><br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>

<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c10">&nbsp;</a>  
<b><font color=purple>TILEMAPS 3.</font> Change Tilemap Color:</b> (Notes to come)

<br>
<img src="gamedesign/bullet.png" alt=""> Change the color of existing Tilemaps upon interaction<br>
<img src="gamedesign/bullet.png" alt=""> Change the opacity of a &quot;top&quot; Tilemap to reveal the tilemap &quot;below&quot;<br>
<br>
</font> <br>
<font face=arial><br>
</font><br>
<font face=arial><br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial> <br>
<br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02c10b">&nbsp;</a> <b><font color=purple>TILEMAPS 4.</font> Dynamic Terrain Generation:</b> (Notes to come) <br>
<img src="gamedesign/bullet.png" alt=""> Generate a Terrain of grid Tiles (does not use Tilemaps): <a href="https://youtu.be/u2_O-jQDD6s" target=grid>Intro to Tile Generation</a><br>
<img src="gamedesign/bullet.png" alt=""> Painting in Prefabs like trees or pickups as easily as painting a tilemap: <a href="https://youtu.be/UqhK6GpCgrM" target=prefabPaint>Prefab Painting</a> 


<br><br>
<br>
 To create a system for rule tiles to interact better with neighboring tiles, see this video on <a href="https://youtu.be/FwOxLkJTXag?si=EDwiOwkhJWnhk4m4" target=custom>Custom Rule Tile scripts</a>.<br>
 <br>
 <br>
<br><br>
</font></td></tr>
<tr><td bgcolor=#daeeed>

<center>
<font face="arial"><img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
<br>
<b>PUZZLE MECHANICS: </b>
<br>
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
</font></center>


<font face=arial>

<br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c11">&nbsp;</a> 
<b><font color=purple>PUZZLE 1.</font> MOVEABLE BOX:</b> 
<br>
Who doesn't love to move a crate? With thanks to Will Mielke.<br>
<br>
<b>a.</b> <b>Create an Empty Game Object. </b>Name it <b>&quot;Crate_Moveable&quot;.</b> Reset Transforms.<br>
<br><b>b. Create a Game Object &gt; 2D Object &gt; Sprite &gt; Rectangle. </b>Reset Transforms.<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector name it "<b>crate_art</b>".<br>
<img src="gamedesign/bullet.png" alt=""> Add art to the sprite (at least the default background sprite).<br>
<img src="gamedesign/bullet.png" alt=""> Set OrderInLayer=95. Color and size as desired.<br>
<b><img src="gamedesign/bullet.png" alt=""> Drag</b> the crate_art onto Crate_Moveable to make it a <b>child</b>.<br>
<br>
<b>c. </b>With Crate_Moveable selected,<b> [Add Components]:</b> Physics2D &gt; BoxCollider2D. 
<br>
 <img src="gamedesign/bullet.png" alt=""> Hit the edit  collider button and adjust size to match the art child. <br>
<b><img src="gamedesign/bullet.png" alt=""> [Add Components]:</b> Physics2D &gt; RigidBody2D. Set <b>Gravity Scale = 0, </b>turn on<b> Constraints &gt; Rotation Z</b>.<br><br>
<b>d. Create a new C# script, </b>name it <b>&quot;CrateMove.cs&quot;. </b>
<br>
Add the content below and Save. In Unity apply the script to the Crate_Moveable object.<br>
<br>
</font>
<center>
  <font face="arial"><i>CrateMove.cs script:</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b><font color="#365f91" face="arial">CrateMove</font></b><font face=arial><font face=arial><font face=arial><font color=#365f91><b> : MonoBehaviour</b></font></font></font></font></font> {
        
        <br><br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>//Set the crate's velocity = zero OnCollisionExit, to prevent sliding:</font>
        <br> 
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> OnCollisionExit2D(Collision2D other){<br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font>gameObject.GetComponent&lt;Rigidbody2D&gt;().velocity = Vector3.zero;<br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> ((other.gameObject.GetComponent&lt;Rigidbody2D&gt;() != null) &&  (other.gameObject.GetComponent&lt;Rigidbody2D&gt;().bodyType ==RigidbodyType2D.Dynamic)){<br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;Rigidbody2D&gt;().velocity = Vector3.zero;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>}<br></font></td>
</tr></table>
</center>
<font face=arial>
Note this script does not need to enable object to be pushed; that is automatic between objects with Rigidbody2D = Dynamic. The OnCollisionEnter2D function makes sure when an object is relseased it stays where it is put.


<br>
<br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>

<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c12">&nbsp;</a> 
<b><font color=purple>PUZZLE 2.</font> BLOCK-ABLE MULTI-DIRECTIONAL LASER:</b> 

<br>
Here is a laser to hurt the player, but  it can be blocked with a moveable box. With thanks to Will Mielke.
<br><br>
<b>a).</b> <b>Create an Empty Game Object. </b>Name it <b>&quot;Box_Laser&quot;.</b> Reset Transforms.
<br><br>
<b>b). Create a Game Object &gt; 2D Object &gt; Sprite &gt; Rectangle. </b>Reset Transforms.<br>
In the Inspector name it "<b>boxLaser_art</b>".<br>
Add art to the sprite (at least the default background sprite).<br>
Set <b>Order In Layer = 95</b>. Color and size as desired.<br>
<b>Drag</b> the boxLaser_art onto Box_Laser to make it a <b>child</b>.
<br><br>
<b>c). </b>With Box_Laser selected,<b> [Add Components]:</b> Physics2D &gt; BoxCollider2D. <br>
Hit the Edit  Collider button and adjust size to match the art child. 
<br><br>
<b>d). </b>Create an Empty Game Object: <b>GameObject &gt; Empty Game Object</b>.<br>
Reset Transforms, name it &quot;<b>hitPoint</b>&quot;.<br>
<b>Drag</b> it onto the 
BoxLaser object to make it a child (should be at parent center).
<br><br>
<b>e). </b>Create 4  Line Renderers: <b>GameObject &gt; Effects &gt; Line</b>.<br>
<img src="gamedesign/bullet.png" alt=""> Reset Transforms, name them &quot;<b>LaserLeft</b>&quot;, &quot;<b>LaserRight</b>&quot;, &quot;<b>LaserTop</b>&quot;, &quot;<b>LaserBottom</b>&quot;.
<br>
<img src="gamedesign/bullet.png" alt=""> Set <b>Order In Layer = 94</b>. Turn on &quot;<b>Use World Space</b>&quot;. Color and size as desired.
<br>
<img src="gamedesign/bullet.png" alt=""> Select just left and right lasers, set <b>Position</b> &gt; <b>index 1 </b>&gt; <b>Z</b> from 1 to <b>0</b>. 
<br>
<img src="gamedesign/bullet.png" alt=""> For each laser, drag the word &quot;<b>width</b>&quot; to slide the value from 0.1 to <b>0.2</b>.<br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> them onto the 
BoxLaser object to make them children.<br>
<img src="gamedesign/bullet.png" alt=""> <b>Move</b> them to the four sides of the box art, per their names (so LaserEmitLeft touches the art left side). <em><b>IMPORTANT:</b></em> Be sure all Line Renderer objects are positioned OUTSIDE of the object's collider, or they will not appear (they will stop at the collider edge).<br>
<br>
<b>f). Create a new C# script, </b>name it <b>&quot;Laser Controller.cs&quot;. </b> <br>
<img src="gamedesign/bullet.png" alt=""> Add the content below and Save. In Unity apply the script to the Box_Laser object.<br>
<img src="gamedesign/bullet.png" alt=""> Populate the script slots with the hitPoint object and the 4 laser emitters.
</font>

<br><br>
<center>
  <font face="arial"><i>LaserController.cs script:</i><br>
    </font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font color=#31849b><b>public class</b></font> <b><font color="#365f91">LaserController</font></b><font color=#365f91><b> : MonoBehaviour</b></font> {
<br>&nbsp; &nbsp; &nbsp; <font color=gray>// NOTE:: if laser does not hit something it throws null exception. Make sure laser is always enclosed</font><br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public bool</b></font></font> activated; <font color=gray>// determines if laser is on or off</font><br>
&nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>public bool</b></font></font> left, right, up, down; <font color=gray>// determines which sides of box are on when activated</font>
<br>&nbsp; &nbsp; &nbsp; <font color=#31849b><b>public int</b></font> laserDamage = <b><font color="#ed6c0a">1</font></b>;
<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public bool</b></font> killEnemy = <b><font color="#365f91">true</font></b>; 
<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private</b></font> GameHandler gameHandlerObj;<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>// ignore these variables public so that it is easier to access them as they are on children</font>
<br>&nbsp; &nbsp; &nbsp; &nbsp;<font face=arial><font color=#31849b><b>public</b></font></font> LineRenderer leftLaser, rightLaser, topLaser, botLaser;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font></font> Transform hitPoint;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private</b></font></font> Transform leftTrans, rightTrans, topTrans, botTrans;<br>
<br> 
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  leftLaser.enabled = rightLaser.enabled = topLaser.enabled = botLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  leftLaser.useWorldSpace = rightLaser.useWorldSpace = <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  topLaser.useWorldSpace = botLaser.useWorldSpace = <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  leftTrans = leftLaser.GetComponent&lt;Transform&gt;();<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>rightTrans = rightLaser.GetComponent&lt;Transform&gt;();<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>topTrans = topLaser.GetComponent&lt;Transform&gt;();<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>botTrans = botLaser.GetComponent&lt;Transform&gt;();<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  GameObject gameHandlerLocation = GameObject.FindWithTag(<font color=#e36c0a><b>&quot;GameHandler&quot;</b></font>);<br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (gameHandlerLocation != null){<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font>gameHandlerObj = gameHandlerLocation.GetComponent&lt;GameHandler&gt;();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br> 
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Update(){<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (!activated){ <font color=gray>// if not activated do nothing</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; leftLaser.enabled = rightLaser.enabled = topLaser.enabled = botLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  RaycastHit2D hit; <font color=gray>// point where laser hits</font><br>
<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (left){<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>// find what the laser hits and draw it</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;leftLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; hit = Physics2D.Raycast(leftTrans.position, new <font color=#31849b><b>Vector2</b></font>(-<b><font color="#ed6c0a">1</font></b>, <font color=#ed6c0a><b>0</b></font>));<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; hitPoint.position = hit.point;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; leftLaser.SetPosition(<font color=#ed6c0a><b>0</b></font>, leftTrans.position);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; leftLaser.SetPosition(<b><font color="#ed6c0a">1</font></b>, hitPoint.position);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// laser kills enemies and does constant damage to player, by a lot</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (hit.transform.CompareTag(<font color=#e36c0a><b>&quot;Player&quot;</b></font>) && laserDamage > <font color=#ed6c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandlerObj.playerGetHit(laserDamage);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else</b></font> <font color=#3ab050><b>if</b></font> ((hit.transform.CompareTag(<font color=#e36c0a><b>&quot;Enemy&quot;</b></font>)) &amp;&amp; (killEnemy==<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>)){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy(hit.transform.gameObject);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>else </b></font>{<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font>leftLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>;<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
<br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (right){ <br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray> // find what </font><font face=arial><font color=gray> the laser </font></font><font color=gray> hits and draw it</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  rightLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  hit = Physics2D.Raycast(rightTrans.position, new Vector2(<b><font color="#ed6c0a">1</font></b>, <font color=#ed6c0a><b>0</b></font>));<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Debug.DrawLine(rightTrans.position, hit.point);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  hitPoint.position = hit.point;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  rightLaser.SetPosition(<font color=#ed6c0a><b>0</b></font>, rightTrans.position);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  rightLaser.SetPosition(<b><font color="#ed6c0a">1</font></b>, hitPoint.position);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// laser kills enemies and does constant damage to player, by a lot</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (hit.transform.CompareTag(<font color=#e36c0a><b>&quot;Player&quot;</b></font>) && laserDamage > <font color=#ed6c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandlerObj.playerGetHit(laserDamage);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>else</b></font> <font color=#3ab050><b>if</b></font> ((hit.transform.CompareTag(<font color=#e36c0a><b>&quot;Enemy&quot;</b></font>)) &amp;&amp; (killEnemy==<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>)){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy(hit.transform.gameObject);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  rightLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
<br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (up){<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray> // find what </font><font face=arial><font color=gray> the laser </font></font><font color=gray> hits and draw it</font><br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  topLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  hit = Physics2D.Raycast(topTrans.position, new Vector2(<font color=#ed6c0a><b>0</b></font>,<b><font color="#ed6c0a">1</font></b>));<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Debug.DrawLine(topTrans.position, hit.point);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  hitPoint.position = hit.point;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  topLaser.SetPosition(<font color=#ed6c0a><b>0</b></font>, topTrans.position);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  topLaser.SetPosition(<b><font color="#ed6c0a">1</font></b>, hitPoint.position);<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>// laser kills enemies and does constant damage to player, by a lot</font><br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (hit.transform.CompareTag(<font color=#e36c0a><b>&quot;Player&quot;</b></font>) && laserDamage > <font color=#ed6c0a><b>0</b></font>)
{<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandlerObj.playerGetHit(laserDamage);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>else</b></font> <font color=#3ab050><b>if </b></font>((hit.transform.CompareTag(<font color=#e36c0a><b>&quot;Enemy&quot;</b></font>)) &amp;&amp; (killEnemy==<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>)){<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy(hit.transform.gameObject);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>else</b></font> {<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font>&nbsp; &nbsp; &nbsp; &nbsp; topLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>;<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
<br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (down){<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray> // find what </font><font face=arial><font color=gray> the laser </font></font><font color=gray> hits and draw it</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  botLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  hit = Physics2D.Raycast(botTrans.position, new Vector2(<font color=#ed6c0a><b>0</b></font>, -<b><font color="#ed6c0a">1</font></b>));<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Debug.DrawLine(botTrans.position, hit.point);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  hitPoint.position = hit.point;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  botLaser.SetPosition(<font color=#ed6c0a><b>0</b></font>, botTrans.position);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  botLaser.SetPosition(<b><font color="#ed6c0a">1</font></b>, hitPoint.position);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// laser kills enemies and does constant damage to player, by a lot</font><br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font color=#3ab050><b> if</b></font> (hit.transform.CompareTag(<font color=#e36c0a><b>&quot;Player&quot;</b></font>) && laserDamage > <font color=#ed6c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameHandlerObj.playerGetHit(laserDamage);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font color=#3ab050><b>else</b></font><font face=arial><font face="arial"><font face="arial">&nbsp;</font></font></font><font color=#3ab050><b>if</b></font> ((hit.transform.CompareTag(<font color=#e36c0a><b>&quot;Enemy&quot;</b></font>)) &amp;&amp; (killEnemy==<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>)){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy(hit.transform.gameObject);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  botLaser.enabled = <font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>}<br></font></td>
</tr></table>
</center>

<br><br>

<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial> <br>
<br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02c18">&nbsp;</a> <b><font color=purple>PUZZLE 3.</font> SLIDING WALLS:</b> <br>
For a top-down game, slide vertical and horizontal walls along their axis to navigate a maze. This tutorial modifies a drag-drop script, which is not direcly compatible with Unity Physics, and the collider walls are separate objects that follows the dragged objects.<br>
<br>
<b>a).</b> <strong>Make the Parent Object</strong> for the Vertical sliding wall:<br>
<img src="gamedesign/bullet.png" alt=""> <strong>Create</strong> an <strong>Empty Game Object</strong>.<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector, name it &quot;<strong>Wall_Vertical</strong>&quot; and <strong>Reset Tranforms</strong>.<br>
<br>
<b>b). Make the child Wall Object:</b><strong><br>
</strong><strong>RightClick</strong> Wall_Vertical to <strong>create</strong> an <strong>Empty Game Object</strong>. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector: name it &quot;<strong>Wall</strong>&quot;.<br>

<img src="gamedesign/bullet.png" alt=""> [Add Component] &gt; <strong>BoxCollider2D</strong>. Set <strong>Size X = 1, Y = 2</strong>. <br>

 <img src="gamedesign/bullet.png" alt=""> [Add Component] &gt; <strong>Rigidbody2D</strong>. Set <strong>Gravity=0. </strong>Constraints &gt;<strong> Freeze Rotation</strong>. <br>
 <strong>RightClick</strong> Wall to create <strong>2D Object &gt; Sprites &gt; Square</strong>.<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector: name it &quot;<strong>wall_art</strong>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Set <strong>Scale X = 1, Y = 2</strong>.<br>
<img src="gamedesign/bullet.png" alt=""> Set wall_art <strong>Color</strong> = blue  and <strong>Order in Layer</strong> = 50.<br>
<br>
<b>c). Make the child Dragger Object </b><em>(NOTE: isTrigger, no Rigidbody2D, and alpha)</em><b>:</b><strong><br>
RightClick</strong> Wall_Vertical to <strong>create</strong> another <strong>Empty Game Object</strong>. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector: name it &quot;<strong>Dragger</strong>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> [Add Component] &gt; <strong>BoxCollider2D</strong>. Set <strong>Size X = 1, Y = 2</strong>. <br>
<img src="gamedesign/bullet.png" alt=""> Set BoxCollider2D to <strong>isTrigger</strong>.<br>
<strong>RightClick</strong> Dragger to create <strong>2D Object &gt; Sprites &gt; Square</strong>.<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector: name it &quot;<strong>dragger_art</strong>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Set <strong>Scale X = 1, Y = 2</strong>.<br>
<img src="gamedesign/bullet.png" alt=""> Set <strong>Color</strong> = yellow, <strong>alpha</strong> = 20/255, and <strong>Order in Layer</strong> = 55.<br>
<br>
<b>d).</b> Create a new <b>C# script</b> called &quot;<b>WallSlider.cs</b>&quot;. Add the following content and Save. <br>
<img src="gamedesign/bullet.png" alt=""> In Unity <b>apply</b> this script to the <strong>Dragger</strong> object (<em><strong>NOT</strong></em> the parent or the Wall).<br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the Wall object into the &quot;theWall&quot; script slot. 
<br>
<img src="gamedesign/bullet.png" alt=""> Hit [Play] and try dragging the wall on its axis!
Collisions should work on the wall. <br>
<br>
</font>
<center>
  <font face="arial"><i>WallToggle.cs script:</i></font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color="#365f91"><b>WallToggle</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font> channel = <font color=#ed6c0a><b>0</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font> startOn = <font color="#365f91"><b>true</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private bool</b></font> toggledOn = <font color="#365f91"><b>true</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameObject wallUp;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameObject wallDown;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font> snapToNearestGridSpace = <font color="#365f91"><b>true</b></font>; <br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Start(){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallUp.SetActive(<font color="#365f91"><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallDown.SetActive(<font color="#365f91"><b>false</b></font>);<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GameObject[] buttonArr = GameObject.FindGameObjectsWithTag(<font color=#ed6c0a><b>&quot;WallToggleButton&quot;</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;
        &nbsp; &nbsp; &nbsp;&nbsp; <font color="#365f91"><b>foreach</b></font> (GameObject button in buttonArr){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (button.GetComponent&lt;WallToggleButton&gt;().channel == channel){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; button.GetComponent&lt;WallToggleButton&gt;().wallList.Add(this);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (!startOn){ ToggleState(); }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (snapToNearestGridSpace){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; float newX = Mathf.Round(transform.position.x - <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>) + <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; float newY = Mathf.Round(transform.position.y - <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>) + <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = new <font color=#31849b><b>Vector3</b></font>(newX, newY, transform.position.z);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font> ToggleState(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; toggledOn = !toggledOn;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (toggledOn){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallUp.SetActive(<font color="#365f91"><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallDown.SetActive(<font color="#365f91"><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GetComponent&lt;BoxCollider2D&gt;().enabled =<b><font color="#365f91">true</font></b>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else</b></font> {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallUp.SetActive(<font color="#365f91"><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallDown.SetActive(<font color="#365f91"><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GetComponent&lt;BoxCollider2D&gt;().enabled = <font color="#365f91"><b>false</b></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font> SetColor(Color col){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GetComponentInChildren&lt;SpriteRenderer&gt;().color = col;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }<br>
        <br>
      </font></td>
    </tr>
  </table>
</center>
<font face=arial><br>
Hit [Play] and try dragging the wall on its axis!
<br>Collisions should work on the wall. 
<br> Turn off [Play]

<br><br>
<b>e). Make Wall_Horizontal</b> by duplicating Wall_Vertical and making these 4 changes<b>:</b><br>
<img src="gamedesign/bullet.png" alt=""> Rename the duplicate parent &quot;<strong>Wall_Horizontal</strong>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Set both Wall and Dagger <strong>BoxCollider2D</strong> to <strong>Size X = 2, Y = 1</strong>. <br>
<img src="gamedesign/bullet.png" alt=""> Set both wall_art and dragger_art <strong>Scale X = 2, Y = 1</strong>.<br>
<img src="gamedesign/bullet.png" alt=""> Select Dragger object. In the WallSlider.cs script component, set <strong>isVertical = off</strong>.<br>
</font><font face=arial><br>
<b>f).</b> <b>Drag</b> both Wall_Vertical and then Wall_Horizontal into the Project panel Assets folder to make them <b>Prefabs</b>.<br>
<br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>

<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c13">&nbsp;</a> 
<b><font color=purple>PUZZLE 4.</font> SWITCH-ABLE WALLS:</b> 
<br>
Turn a wall on and off by running over a button.

<br><br>
<a href="gamedesign/Unity2D/WallsToggle.png" target=wall><img src="gamedesign/Unity2D/WallsToggle.png" align=right></a>
<b>a).</b> Create a <b>spritesheet</b> with four pieces of art: two for the button (up and down) and two for the wall 
<br>(present and absent, like a dotted outline). This example is 32x32, with each piece of art just 16x16:<br>
<br>
<b>b). Import</b> the spritesheet into Unity and <b>set Inspector parameters:</b><br>
&nbsp; &nbsp; &nbsp; &nbsp; <b>Sprite Mode</b> = Multiple<br>
&nbsp; &nbsp; &nbsp; &nbsp; <b>Pixels per unit</b> = 16<br>
&nbsp; &nbsp; &nbsp; &nbsp; <b>Filter Mode</b> = Point (no filter)<br>
&nbsp; &nbsp; &nbsp; &nbsp; <b>Compression</b> = none. Hit <b>[Apply]</b>.<br>
&nbsp; &nbsp; &nbsp; &nbsp; Open <b>[Sprite Editor]</b>, open Slice menu, type="<b>Grid by Cell Count</b>",  2x2, hit <b>[Slice]</b> and <b>[Apply]</b>. <br>
In the Assets folder open the sprite twirly to view the four individual sprites. 
<br><br>
<b>c).</b> Create an <b>Empty Game Object</b>, name it &quot;<b>WallToggle</b>&quot; and <b>Reset</b> Transforms.

<br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> into the Hierarchy both wall sprites. Name them &quot;<b>wall_art</b>&quot; and &quot;<b>wall_absent_art</b>&quot;. 
<br>
<img src="gamedesign/bullet.png" alt=""> <b>Reset</b> Transforms. <b>Drag</b> both sprites onto WallToggle to make them <b>children</b>.
<br>
<br>
<b>d).</b> With WallToggle selected,<b> [Add Components]:</b> Physics2D &gt; <b>BoxCollider2D</b>. <br>
Hit the <b>Edit  Collider</b> button and adjust size to match the art child. <br><br>
<b>e).</b> Create another <b>Empty Game Object</b>, name it &quot;<b>WallToggleButton</b>&quot; and <b>Reset</b> Transforms. 
<br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> into the Hierarchy both button sprites. Name them &quot;<b>wallButtonUp_art</b>&quot; and &quot;<b>wallButtonDown_art</b>&quot;. 
<br>
<img src="gamedesign/bullet.png" alt=""> <b>Reset</b> Transforms. <b>Drag</b> both sprites onto WallToggleButton to make them <b>children</b>.

<br>
<br>
<b>f).</b> With WallToggleButton selected,<b> [Add Components]:</b> Physics2D &gt; <b>BoxCollider2D</b>. <br>
Hit the <b>Edit  Collider</b> button and adjust size to match the art child. 
<br>Turn on <b>isTrigger</b>.<br><br>
<b>g).</b> Create a new <b>tag</b> named &quot;<b>WallToggleButton</b>&quot;. <b>
Apply</b> the tag to the WallToggleButton object. <br><br>
<b>h).</b> Create a new <b>C# script</b> called &quot;<b>WallToggle.cs</b>&quot;. Add the following content and Save. 
<br>
In Unity <b>apply</b> this script to the WallToggle object and <b>drag</b> the child sprites into the <b>script slots</b>.<br>
<br>
</font>
<center>
<font face="arial"><i>WallToggle.cs script:</i></font>
<br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial>
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font color=#31849b><b>public class</b></font> <font color="#365f91"><b>WallToggle</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font> channel = <font color=#ed6c0a><b>0</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font> startOn = <font color="#365f91"><b>true</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private bool</b></font> toggledOn = <font color="#365f91"><b>true</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameObject wallUp;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameObject wallDown;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font> snapToNearestGridSpace = <font color="#365f91"><b>true</b></font>; <br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font>
Start(){




<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallUp.SetActive(<font color="#365f91"><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallDown.SetActive(<font color="#365f91"><b>false</b></font>);<br><br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GameObject[] buttonArr = GameObject.FindGameObjectsWithTag(<font color=#ed6c0a><b>&quot;WallToggleButton&quot;</b></font>);<br> 
&nbsp; &nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; &nbsp;&nbsp;
<font color="#365f91"><b>foreach</b></font> (GameObject button in buttonArr){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (button.GetComponent&lt;WallToggleButton&gt;().channel == channel){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; button.GetComponent&lt;WallToggleButton&gt;().wallList.Add(this);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (!startOn){ ToggleState(); }<br><br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (snapToNearestGridSpace){<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; float newX = Mathf.Round(transform.position.x - <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>) + <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>;<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; float newY = Mathf.Round(transform.position.y - <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>) + <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>;<br>
  <br> 
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = new <font color=#31849b><b>Vector3</b></font>(newX, newY, transform.position.z);<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
  &nbsp; &nbsp; &nbsp;&nbsp; }<br>
  <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font>
ToggleState(){<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; toggledOn = !toggledOn;<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (toggledOn){<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallUp.SetActive(<font color="#365f91"><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallDown.SetActive(<font color="#365f91"><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GetComponent&lt;BoxCollider2D&gt;().enabled =<b><font color="#365f91">true</font></b>;<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else</b></font> {<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallUp.SetActive(<font color="#365f91"><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wallDown.SetActive(<font color="#365f91"><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GetComponent&lt;BoxCollider2D&gt;().enabled = <font color="#365f91"><b>false</b></font>;<br>
  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
  &nbsp; &nbsp; &nbsp;&nbsp; }<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font>
SetColor(Color col){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GetComponentInChildren&lt;SpriteRenderer&gt;().color = col;<br>
  &nbsp; &nbsp; &nbsp;&nbsp; }<br>}<br><br>
</font></td>
</tr></table>
</center>
<font face=arial><br>
<b>i).</b> Create a new <b>C# script</b> called &quot;<b>WallToggleButton.cs</b>&quot;. Add the following content and Save. <br>
In Unity <b>apply</b> this script to the WallToggleButton object and drag the child sprites into the <b>script slots</b>.</font><font face=arial><br>
<br>
  </font>
<center>
  <font face="arial"><i>WallToggleButton.cs script:</i><br>
    </font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial>

<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br><font color=#3ab050><b>using</b></font> System.Collections;<br><font color=#3ab050><b>using</b></font> UnityEngine;<br><br>
<font color=#31849b><b>public class</b></font> <font color="#365f91"><b>WallToggleButton</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font> channel = <font color=#ed6c0a><b>0</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> List&lt;WallToggle&gt; wallList = new List&lt;WallToggle&gt;();<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameObject buttonUp;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> GameObject buttonDown;<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font> snapToNearestGridSpace = <font color="#365f91"><b>true</b></font>;<br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private bool</b></font> pressed = <font color="#365f91"><b>false</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private bool</b></font> setup = <font color="#365f91"><b>true</b></font>;<br>
<br>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; buttonUp.SetActive(<font color="#365f91"><b>true</b></font>);<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; buttonDown.SetActive(<font color="#365f91"><b>false</b></font>);</font></font></font><br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (snapToNearestGridSpace){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; float newX = Mathf.Round(transform.position.x - <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>) + <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; float newY = Mathf.Round(transform.position.y - <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>) + <font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.5f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = new <font color=#31849b><b>Vector3</b></font>(newX, newY, transform.position.z);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (setup){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color="#365f91"><b>foreach</b></font>(WallToggle wall in wallList){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wall.SetColor(GetComponentInChildren&lt;SpriteRenderer&gt;().color);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; setup = <font color="#365f91"><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private void</b></font> OnTriggerEnter2D(Collider2D collision){<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (collision.gameObject.name == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; pressed = <font color="#365f91"><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; buttonUp.SetActive(<font color="#365f91"><b>false</b></font>);<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; buttonDown.SetActive(<font color="#365f91"><b>true</b></font>);</font></font></font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color="#365f91"><b>foreach</b></font>(WallToggle wall in wallList){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; wall.ToggleState();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private void</b></font> OnTriggerExit2D(Collider2D collision){<br> 
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (collision.gameObject.name == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; pressed = <font color="#365f91"><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; buttonUp.SetActive(<font color="#365f91"><b>true</b></font>);<br>
<font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; buttonDown.SetActive(<font color="#365f91"><b>false</b></font>);</font></font></font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>}<br><br></font></td>
</tr>
</table>
</center>
<font face=arial>
<br><br>
<b>j).</b> <b>Drag</b> WallToggle and WallToggleButton into the Project panel Assets folder to make them <b>Prefabs</b>. <br>
<br>
<b>k).</b> To use this toggle-able wall feature in game:<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><b>(a)</b> <b>Drag</b> both prefabs into a Scene.<br>
<font face="arial"><font face="arial"><br>
&nbsp; &nbsp; &nbsp;&nbsp; </font></font><b>(b)</b> Select all 4 sprites and add a desired <b>color</b> (every wall that a given button opens should have the same  color, and every other button and its walls in a scene should have a very distinct color). The WallToggleButton.cs script auto-sets the color of any same-channel walls  to the same color, in case of any mistakes.<br>
<font face="arial"><font face="arial"><br>
&nbsp; &nbsp; &nbsp;&nbsp; </font></font><b>(c)</b> Set the &quot;<b>channel</b>&quot; property  in the scripts on both objects to the same value.<br>
<font face="arial"><font face="arial"><br>
&nbsp; &nbsp; &nbsp;&nbsp; </font></font><b>(d)</b> <b>Duplicate</b> (Cmd/Ctrl) the wall  to fill a gap and block player/enemy passage until the button is pressed.<br>
<br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial>

<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02c14">&nbsp;</a>
<b><font color=purple>PUZZLE 5.</font> WRECKABLE WALL (wip):</b> 

<br><br>
<a href="gamedesign/Unity2D/Spiderweb_spritesheet_gray.png" target=web><img src="gamedesign/Unity2D/Spiderweb_spritesheet_gray.png" alt="" align=right></a> <b>Summary: </b>Add a wall that can be destroyed by a player attack, like a massive cobweb that can be slashed by the player's sword. This can be a useful &quot;affordance&quot; -- give the player no where else to go, then teach the player how to attack something that does not fight back in order to pass through.<br>
<br>
<b>a.</b> Make an Empty GameObject: GameObject &gt; <b>Create Empty.</b> <br>
In the Inspector name it &quot;<b>BreakableWall</b>&quot; and <b>Reset Transforms</b>.<br>
<font face=arial><br>
<b>b.</b> <b>Create</b> a wall PNGor <b>download and import</b> this <a href="gamedesign/Unity2D/Spiderweb_spritesheet_gray.png" target=web><b>web PNG</b></a><b>.</b><br>
In the Inspector set Mode = Multiple, Pixels = 16, Point (no filter), compression = none.
Hit [Apply]. <br>
Open <b>[Sprite Editor]</b>, choose &quot;Slice by Cell Count&quot;, set r and C = 4x4, [slice] and [Apply].<br>
<b>Drag</b> the first frame of the spritesheet into the Hierarchy. <br>
In the Inspector <font face=arial>rename &quot;<b>web_art</b>&quot;, </font>Reset Tranforms, and set the Order in Layer = 90.<br>
Drag this image onto the BreakableWall game object to make it a child. <br>
<font face=arial><br>
<b>c.</b> Set up animation: Open <b>Window &gt; Animation &gt; Animation</b>. <br>
With web_art seclected hit <b>[CreateClip]</b>, navigate to your animation folder (or create it), name the new clip &quot;<b>web_full_idle</b>&quot; and <b>[Save]</b>. Drag in the first 4 frames, then drag the first one again to make a 5th, then space out to cover 30 frames (1/2 second). Hit Play in the Animation panel, adjust timing as desired.</font> <br>
<br>
<b>Create four more clips: </b><br>
&nbsp; &nbsp; &nbsp;&nbsp;<b>web_full _cut</b> (drag in sprites 4-8, time to 30 frames)<br>
&nbsp; &nbsp; &nbsp;&nbsp;<b>web_half_idle</b> (drag in sprites 8-12, time to 60 frames / 1 second)<br>
&nbsp; &nbsp; &nbsp;&nbsp;<b>web_half_cut</b> (drag in sprites 13-16, time to 30 frames)<br>
&nbsp; &nbsp; &nbsp;&nbsp;<b>web_none_ide</b> (drag in sprite 16 twice, time to 60 frames / 1 second)<br>
<br>
<font face=arial><font face=arial><b>d. </b></font></font>With web_art still selected, open the <b>Animator</b> panel:<br>
<b>Create 4 parameters:</b><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;</font>Two bools named &quot;<b>wallHalf</b>&quot; and &quot;<b>wallGone</b>&quot;.<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;</font>Two triggers named &quot;<b>cutFull</b>&quot; and &quot;<b>cutHalf</b>&quot;.<br>
<br>
<b>Set up the clips:</b><br>
&nbsp; &nbsp; &nbsp;&nbsp;RightClick [web_full_idle] to set it as the <b>default</b>.<br>
&nbsp; &nbsp; &nbsp;&nbsp;Draw <b>transitions</b> from [web_full_idle] to [web_half_idle] and vice-versa. Add the wallHalf <b>bool</b> to each direction (set return to false).<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;Draw <b>transitions</b> <font face=arial>from [web_full_idle</font>] to [web_none_idle<font face=arial>] and vice-versa</font>. Add the wallGone <b>bool</b> to each direction (set return to false).<br>
</font><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;Draw a <b>transition</b> <font face=arial>from [any] to [web_full_cut]</font>, add the cutFull <b>trigger</b> to it. Draw a transition from <font face=arial><font face=arial><font face=arial><font face=arial>[web_full_cut]</font></font></font></font> to <font face=arial>[web_half_idle] <font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial>(with no parameter)</font></font></font></font></font></font>.</font><br>
</font><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;Draw a <b>transition</b> <font face=arial>from [any] to [web_half_cut]</font>, add the cutFull <b>trigger</b> to it.</font></font></font> <font face=arial><font face=arial><font face=arial>Draw a transition from <font face=arial><font face=arial><font face=arial><font face=arial>[web_half_cut]</font></font></font></font> to <font face=arial>[web_none_idle] (with no parameter).</font></font></font></font><br>
</font><br>
<br>
<b>e.</b> Select web_breakable and <b>[Add Component] Physics2D &gt; Box Collider 2D</b>.<br>
Turn on <b>isTrigger</b>, set width and height a bit <em><b>bigger</b></em> that the size of the art.<br>
<font face=arial><br>
<b>f.</b> Create a new Empty GameObject. In the Inspector rename it &quot;web_collider&quot;, Reset Tranforms. <br>
<b>[Add Component] Physics2D &gt; Box Collider 2D</b>. Set width and height a bit <em><b>smaller</b></em> than the art size. <br>
Drag <font face=arial>onto the BreakableWall object to make it another child.</font><br>
<b></b></font><br>
<b>g.</b> Select any object and in the Inspector <b>create a new Laye</b>r: <b>BreakableWall</b>.<br>
Select the BreakableWall object and <b>assign</b> the layer BreakableWall. <br>
<font face=arial><br>
<b>h. </b>Create a <b>new C# script</b> called &quot;<b>BreakableWall.cs</b>&quot;, and add the following content.<br>
In Unity <b>apply</b> this script to the Web_breakable object. <br>
Then <b>drag</b> the web_collider object into the boxColliderObj <b>script slot</b>. <br>
</font><font face=arial><b><em><br>
NOTE1:</em></b> Impacts can be enhanced with a relevant Sound Effect (applied to the BreakableWall object as an AudioSource, turn off Play On Awake) and / or a particle effect (consider a basic square texture). <br>
To use either of these, uncomment the code in this script and add the effect to the relevant script slot.</font><br>
<br>
</font></font>
<center>
  <font face="arial"><i>BreakableWall.cs script:</i></font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>BreakableWall : MonoBehaviour</b></font> { <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public</b></font> Animator anim; <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//public GameObject ParticleVFX;</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//public AudioSource breakSFX;</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public int</b></font> hitNum = <font face="arial"><font color=#ed6c0a><b>2</b></font></font>; <font color=gray>// how many times the object can be hit before it disappears.</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public</b></font> GameObject boxColliderObj; <font color=gray>// a child collider that can be turned off</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>private</b></font> Renderer myRend;<br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>private Color</b></font> defaultColor;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;anim = gameObject.GetComponentInChildren&lt;Animator&gt;();<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;boxColliderObj.SetActive(<font color=#365f91><b>true</b></font>); <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;myRend = gameObject.GetComponentInChildren&lt;Renderer&gt;();<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;defaultColor = myRend.material.color;<br>
        &nbsp; &nbsp; &nbsp;&nbsp;}<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>void</b></font> Update(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (hitNum == <font face="arial"><font color=#ed6c0a><b>2</b></font></font>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;anim.SetBool (<font face="arial"><font color=#ed6c0a><b>&quot;wallHalf&quot;</b></font></font>, <font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;anim.SetBool (<font face="arial"><font color=#ed6c0a><b>&quot;wallGone&quot;</b></font></font>, <font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>else if</b></font> (hitNum == <font face="arial"><font color=#ed6c0a><b>1</b></font></font>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;anim.SetBool (<font face="arial"><font color=#ed6c0a><b>&quot;wallHalf&quot;</b></font></font>, <font color=#365f91><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;anim.SetBool (<font face="arial"><font color=#ed6c0a><b>&quot;wallGone&quot;</b></font></font>, <font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>else if</b></font> (hitNum == <font face="arial"><font color=#ed6c0a><b>0</b></font></font>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;anim.SetBool (<font face="arial"><font color=#ed6c0a><b>&quot;wallHalf&quot;</b></font></font>, <font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;anim.SetBool (<font face="arial"><font color=#ed6c0a><b>&quot;wallGone&quot;</b></font></font>, <font color=#365f91><b>true</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp; boxColliderObj.SetActive (<font color=#365f91><b>false</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
        &nbsp; &nbsp; &nbsp;&nbsp;}<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>public void</b></font> wallDamage(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>// this is the function that the player attack script would access</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (hitNum &gt; <font face="arial"><font color=#ed6c0a><b>0</b></font></font>)<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (!breakSFX.isPlaying){ breakSFX.Play();
        }<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (hitNum == <font face="arial"><font color=#ed6c0a><b>2</b></font></font>){ anim.SetTrigger (<font face="arial"><font color=#ed6c0a><b>&quot;cutFull&quot;</b></font></font>); }<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>else if</b></font> (hitNum == <font face="arial"><font color=#ed6c0a><b>1</b></font></font>){ anim.SetTrigger (<font face="arial"><font color=#ed6c0a><b>&quot;cutHalf&quot;</b></font></font>); }&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;StartCoroutine(wallHitReturn());<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
        &nbsp; &nbsp; &nbsp;&nbsp;}<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;IEnumerator  wallHitReturn(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;myRend.material.color = new Color(<font face="arial"><font color=#ed6c0a><b>1.0f</b></font></font>, <font face="arial"><font color=#ed6c0a><b>1.0f</b></font></font>, <font face="arial"><font color=#ed6c0a><b>2.5f</b></font></font>);<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;</font><font color=#365f91><b>yield return new </b></font>WaitForSeconds(<font face="arial"><font color=#ed6c0a><b>0.5f</b></font></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;hitNum -= <font face="arial"><font color=#ed6c0a><b>1</b></font></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;myRend.material.color = defaultColor;<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;breakSFX.Stop();<br>
        &nbsp; &nbsp; &nbsp;&nbsp;}<br>
        }</font></td>
    </tr>
  </table>
</center>
<font face=arial><br>
<b>i. </b>Finally, add the following <b>bold-faced content</b> to the <b>PlayerAttackMelee.cs</b> script, so the player can interact with the BreakableWall.cs script. This new content includes 
one new class variable for the wallLayer LayerMask and a new collider check for the contents of that Layer. <br>
<br>
Once this has been revised, open the Player prefab and in the Inspector <b>set the wallLayer LayerMask rolldown</b> to  the layer "<b>BreakableWall</b>". </font> <br>
<br>
<center>
  <font face="arial"><i>Add bold-faced content to PlayerAttackMelee.cs script:</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>PlayerAttackMelee : MonoBehaviour</b></font></font></font>{ <br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//public Animator animator;</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> Transform attackPt;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>float</b></font> attackRange = <font color=#e36c0a><b>0.5f</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>float</b></font> attackRate = <font color=#e36c0a><b>2f</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>private</b></font> <font color=#31849b><b>float</b></font> nextAttackTime = <font color=#e36c0a><b>0f</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> <font color=#31849b><b>int</b></font> attackDamage = <font color=#e36c0a><b>40</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font> LayerMask enemyLayers;<br>
        <font face=arial><br>
          &nbsp; &nbsp; &nbsp; </font><b><font color=#31849b>public</font> LayerMask wallLayer;</b><br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//animator = gameObject.GetComponentInChildren&lt;Animator&gt;();</font><br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(Time.time &gt;= nextAttackTime){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; </font><font color=gray>//if (Input.GetKeyDown(KeyCode.Space))</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(Input.GetAxis(<font color=#e36c0a><b>&quot;Attack&quot;</b></font>) &gt; <font color=#e36c0a><b>0</b></font>){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Attack();<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nextAttackTime = Time.time + <font color=#e36c0a><b>1f</b></font> / attackRate;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; } <br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Attack(){ <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//animator.SetTrigger (&quot;Melee&quot;);</font> <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Collider2D[] hitEnemies = Physics2D.OverlapCircleAll(attackPt.position, attackRange, enemyLayers); <br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>foreach</b></font>(Collider2D enemy <font color=#31849b><b>in</b></font> hitEnemies){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Debug.Log(<font color=#e36c0a><b>&quot;We hit &quot;</b></font> + enemy.name);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; enemy.GetComponent&lt;EnemyMeleeDamage&gt;().TakeDamage(attackDamage);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
        <br>
        <b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Collider2D[] hitWalls = Physics2D.OverlapCircleAll(attackPt.position, attackRange, wallLayer); <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b>foreach</font>(Collider2D wall <font color=#31849b>in</font> hitWalls){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Debug.Log(<font color=#e36c0a>&quot;We hit &quot;</font> + wall.name);<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wall.GetComponent&lt;<i>BreakableWall</i>&gt;().wallDamage();<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</b><br>
        &nbsp; &nbsp; &nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=gray>//NOTE: to help see the attack sphere in editor:</font> <br>
        &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> OnDrawGizmosSelected(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(attackPt == null) {<font color=#31849b><b>return</b></font>;}<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Gizmos.DrawWireSphere(attackPt.position, attackRange);<br>
        &nbsp; &nbsp; &nbsp; }<br>
        }</font></td>
    </tr>
  </table>
</center>
<font face=arial> <br>
<br>
<font face=arial><br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>

<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c15">&nbsp;</a> 
<b><font color=purple>PUZZLE 6.</font> Announce an Interactive Space:</b> 
<br>
Most platformers are about fast movement through the scenery, but what if you want the character to explore and find hidden messages or items?<br>
<br>
<b>a.</b> <b>Download</b> this &quot;pulse&quot; <a href="gamedesign/Unity2D/pulse_spritesheet.png" target=pulse1>spritesheet</a> and <a href="gamedesign/Unity2D/SFX_Pulse.wav">sound effect</a>, and this <a href="gamedesign/Unity2D/message_pressE.png" target=pressE>press-e message</a>, <b>import</b> each into the Project. <br>
<br>
<b>b. Make the Pulse VFX Prefab:</b><br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>1).</b> <b>Slice  the pulse spritesheet: </b>Select it in the Project panel, in the Inspector set Sprite Mode = Multiple, hit [Apply], and open the [Sprite Editor] to Slice by Cell Count = 2x2 and [Apply]. <br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>2).</b> <b>Animate the pulse spritesheet: </b>Drag the first sprite into the Hierarchy. In the Inspector name it &quot;pulse_art&quot; and reset Transforms. With pulse_art selected open Window &gt; Animation &gt; Animation, hit [Create], name the clip &quot;pulse_anim&quot;, locate in the Media &gt; Animation folder, and add the four frames to the timeline in order: 0, 6, 12, 20 and add the last one again for 30. Close the Animation panel. <br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>3).</b> <b>Choose a pulse color:</b> in the Inspector set the Sprite Renderer &gt; Color as desired.<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>4).</b> <b>Make a parent GO: </b>Create an Empty GO. In the Inpector name it &quot;PulseVFX&quot; and reset Transforms. <br>
Drag pulse_art onto it to make it a child of PulseVFX. <br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>5).</b> <b>Make a Prefab:</b> Drag PulseVFX to the Project panel, then delete the original in the Hierarchy. <br>
<br>
<b>c. Make the SecretFinder Object and Script:</b><br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>1).</b> <b>Create</b> an <b>Empty Game Object</b>. In the Inpector name it &quot;<b>SecretFinder</b>&quot;, reset Transforms. <br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>2).</b> <b>[Add Component]</b> Physics &gt; <b>BoxCollider2D</b>. Set to <b>isTrigger</b> and <b>Size</b> X and Y = 2.<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>3).</b> Create a new <b>C# script</b>, name it &quot;<b>SecretFinder.cs</b>&quot;. Add the content below, and drag the script onto the SecretFinder object.<br>
<br>
<b>d. Populate the script slots:</b><br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>1).</b> <b>Drag</b> the PulseVFX Prefab from the Project panel into the <b>pulseVFX script slot</b>.<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>2).</b> <b>Drag</b> pulse_SFX.wav from the Project panel onto SecretFinder to add an AudioSource Component. Turn off <b>Play On Awake</b>. Drag this AudioSource Component into the <b>pulseSFX script slot</b>.<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>3).</b> <b>Drag</b> the message_pressE.png into the Hierarchy onto SecretFinder, to make it a child. Select SecretFinder and drag message_pressE into the <b>msgPressE script slot</b>.<br>
<br>
</font>
<center>
  <font face="arial"><i>SecretFinder.cs script:</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b><font color="#365f91" face="arial">SecretFinder</font></b><font face=arial><font face=arial><font face=arial><font color=#365f91><b> : MonoBehaviour</b></font></font></font></font></font> {<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font></font> GameObject pulseVFX;<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font></font> AudioSource pulseSFX;<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public</b></font></font> GameObject msgPressE;<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>public bool</b></font></font> canPressE =<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>; <br>
        <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Start(){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>msgPressE.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>);<br>
        &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Update(){<br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> ((canPressE == <font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>) &amp;&amp; (<font face="arial"><font color=#31849b><b>Input</b></font></font>.GetKeyDown(KeyCode.E))){<br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>//Put code here for getting a result, like revealing a message or secret door</font><br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Debug.Log(<font color=#ed6c0a><b>&quot;You pressed E and get a thing!&quot;</b></font>);<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</font></font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        <br>
        <font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>void</b></font></font> OnTriggerEnter2D(Collider2D other){<br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>GameObject vfx = Instantiate(pulseVFX, transform.position, Quaternion.identity);<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(</font></font>DestroyVFX(vfx)); <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>pulseSFX.Play();<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>msgPressE.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>); <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>canPressE =<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>;<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        <br>
        <font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>void</b></font></font> OnTriggerExit2D(Collider2D other){<br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>msgPressE.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>); <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>canPressE =<font color=#0070c0><b><font color="#365f91" face="arial"> false</font></b></font>;<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        &nbsp; &nbsp; &nbsp; &nbsp; } <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; IEnumerator DestroyVFX(GameObject vfx){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face="arial"><font color=#3ab050><b>yield return new</b></font></font> WaitForSeconds(<font color=#ed6c0a><b>0.5f</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
        Destroy(vfx);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; } <br>
        <br>
        &nbsp; &nbsp; &nbsp; <font color=gray>//NOTE: Draw a sphere at transform's position:</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face="arial"><font color=#31849b><b>void</b></font></font> OnDrawGizmos(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Gizmos.color = Color.yellow;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Gizmos.DrawWireSphere(transform.position, <font color=#ed6c0a><b>1</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }</font></td>
    </tr>
  </table>
</center>
<br>
<font face=arial><b>e. Test the Mechanic</b>: Drag a copy of the SecretFinder PrefabPlace the   where the player can interact with the obj () with the </font> <br>
<br>
<font face=arial><b>f. Create a Prefab of your SecretFinder:</b><br>
<b>Drag</b> the SecretFinder Object into the Project panel to make it a <b>Prefab</b>. You can now put copies of this Prefab over art in the scene, to make that imag appear to be the source of the effect. Asdjust the collider on these copies to surround the art,  to discover a hidden message, item, entrance, etc.<br>
<br>
<b>g. Add Multi-Functionality:</b> Want this script to be used in multiple scenarios? Add bools to the top variables for each use-case, like <b>public bool revealMessage</b>, <b>public bool openSecretDoor</b>, etc. These can be turned on or off in the Inspector when setting  up the level. Then, in the Update function under the Key-press condition, add further if-conditions with these bools to route the action as desired.</font><br>
<br>
<font face=arial><b>h. Set Input Manager for X-Box Controller:</b><br>
To use this mechanic with a controller, open the Edit &gt; Project Settings &gt; Input Manager.<br>
Open Fire4 and change the name to &quot;Secret&quot;.<br>
Set &quot;Positive Button&quot; = &quot;e&quot; and &quot;Alt Positive Button&quot; = &quot;joystick button 2&quot; (the (x) buton on an xbox controller). Finally, adjust the Update() function to this code:<br>
</font>
<center>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Update(){<br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> ((canPressE ==<font color=#0070c0><b> true</b></font>) &amp;&amp; (<font face="arial"><font color=#31849b><b>Input</b></font></font>.GetButtonDown(<font color=#e36c0a><b>&quot;Secret&quot;</b></font>))){<br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>//Put code here for getting a result, like revealing a message or secret door</font><br>
        <font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Debug.Log(<font color=#ed6c0a><b>&quot;You pressed E and get a thing!&quot;</b></font>);<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</font></font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; }</font></td>
    </tr>
  </table>
</center>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>

<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c16">&nbsp;</a> 
<b><font color=purple>PUZZLE 7.</font> SPRITE MASKS </b>(<a href="https://youtu.be/4pl8DcsCQ_k" target=mask>source</a>)<b>:</b>
<br>
Use a Sprite Mask object to obscure or reveal a sprite! No script needed!
<br>Can be used for a lantern in the darkness, or creatively for x-ray vision, 
<br>to show a player silhouette behind a wall, etc.

<br><br>
<b>SPRITEMASK EXAMPLE 1: A Light in the Dark:</b><br>
This tutorial creates a circle of light around the player in a  world of darkness:<br>
<br>
<b>a. Create the Darkness Sprite:</b><br>
In your level Hierarchy, create a <b>2D Object > Sprite > Rectangle</b>.<br>
In the Inspector, name it "<b>DarknessSprite</b>" and change these settings:<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>Transform > <b>Size</b>: X = 6000, Y = 3000.<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>SpriteRenderer > <b>Order in layer</b> = 500, so it is WAY in front of everything else.<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>Set <b>color</b> to a dark blue.<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>Set color alpha to around 200, if you want content to be a little visible in the dark. <br>
<br>
<a href="gamedesign/Unity2D/SpriteMask_LightCircle.png" target=sm><img src="gamedesign/Unity2D/SpriteMask_LightCircle.png" alt="" align=right border=1></a> <b>b. Create the Sprite Mask:</b><br>
Create a <b>GameObject &gt; 2D Object &gt; SpriteMask</b>. <br>
Inspector: Find SpriteMask &gt; Sprite and drag in a sprite for the shape you want to be visible in the darkness (a <a href="gamedesign/Unity2D/SpriteMask_LightCircle.png" target=sm>custom PNG</a> or the default knob).<br>
<br>
<b>c. Set the Darkness to interact with the mask:</b><br>
Re-select the DarknessSprite.<br>
In the Inspector under Sprite Renderer find Mask Interaction.<br>
Choose  &quot;<b>Visible Outside Mask</b>&quot; so outside the mask will show dark! <br>
<br>
Hit [Play] and move the sprite mask to obscure or reveal content! <br>
<br>
<b>d. Add to a Player:</b> <br>
To add the SpriteMask to the Player, make it a child of the Player prefab (centered on a lantern, for example). <br>
<br>
To turn a SpriteMask on / off (if power runs out, for example): <br>
&nbsp; &nbsp; &nbsp; &nbsp; 1. make a public variable for the SpriteMask object and use [SpriteMaskObjectName].SetActive(true); <br>
&nbsp; &nbsp; &nbsp; &nbsp; 2. or add this line to the script that is meant to disable it, like the GameHandler<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponentInChildren&lt;SpriteMask&gt;().enabled = false; <br>
<br>
<br>
<br>
<b>SPRITEMASK EXAMPLE 2: X-Ray Vision:<br>
</b>This tutorial allows the player to &quot;see inside&quot; objects. This can also be used for revealing part or all of the player as an outline when their character is partially or fully behind something too big / obscuring.<br>
<br>
<b></b><b>a.</b> <b>Create PNGs</b> for two elements: <br>
&nbsp; &nbsp; &nbsp; &nbsp; an object to be obscured (like a box) <br>
&nbsp; &nbsp; &nbsp; &nbsp; and the object to be revealed (like a skull hidden behind or inside the box). <br>
<b>Import</b> each into the Project &gt; Assets folder, and drag both into the Hierarchy. <br>
<br>
<b>b.</b> Create a <b>GameObject &gt; 2D Object &gt; Sprite Mask</b>. <br>
In the Inspector Choose a sprite image (a custom PNG you make in Photoshop, or the default Unity knob circle).<br>
<br>
<b>c.</b> Select one of the art PNGs. <br>
In the Inspector under Sprite Renderer find <b>Mask Interaction</b> <br>
Choose either &quot;<b>Visible Inside Mask</b>&quot; or &quot;<b>Visible Outside Mask</b>&quot; (a box should be Visible Outside, and the contents Visible Inside, in order for the Mask to be used as X-Ray vision to look inside the box) <br>
<br>
That is it. Hit [Play] and move the sprite mask to obscure or reveal content! <br>
<br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>

<br><br>
<a href="#02c"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02c17">&nbsp;</a> 
<b><font color=purple>PUZZLE 8.</font> Enemy Zapper:</b>

<br>
Want to create an electrified fence to kill enemies?<br>
<br>The following <b>C# Script</b> can be applied to a GameObject or a Tilemap layer with a collider set to isTrigger. 
<br>Drag into the boomVFX Script slot: a Prefab with an animated spritesheet VFX. 
<br>Make sure all enemies have their layer set to Enemy. 
<br>In the script slot set LayerMark &quot;Enemy Layer&quot; to &quot;Enemy&quot;.<br>
<br>
</font>
<center>
  <font face="arial"><i>EnemyZapper.cs script:</i></font><br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color="#365f91"><b>EnemyZapper</b></font> <font color=#365f91><b>: MonoBehaviour</b></font>{<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public LayerMask</b></font> enemyLayer; <font color=gray>// this script only takes one Layer</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public </b></font>GameObject boomVFX;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private Vector3Int</b></font> previous;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private void</b></font> OnTriggerEnter2D(Collider2D col){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> layerNumber = Mathf.Log(enemyLayer.value, <font color=#ed6c0a><b>2</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if </b></font>(col.gameObject.layer == layerNumber){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector2</b></font> SpawnBoomPos = col.gameObject.transform.position;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GameObject boom = Instantiate (boomVFX, SpawnBoomPos, Quaternion.identity);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(DestroyVFX(boom));<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy(col.gameObject);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; IEnumerator DestroyVFX(GameObject thisBoom){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color="#365f91"><b>yield return new </b></font> WaitForSeconds(<font color=#ed6c0a><b>0.5f</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy(thisBoom);<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
}<br>
<br></font></td>
    </tr>
  </table>
</center>
<font face=arial>&nbsp; </font><font face=arial><br>
</font><font face=arial><br>
<br><br>
</font></td></tr></table>
</div></td></tr></table>
<br>

<a name="02d">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion4">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [2D]</b> <b>NPC ENEMIES</b> </font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=purple><b>[2D]:</b></font> <b>NPC ENEMIES</b></font></font>
<font face="arial"><br>

<table width=70% border=0><tr>
  <td><font face=arial>
<b>NPC #1:</b> <a href="#02d1">Follow</a> Behavior, <a href="#02d1b">Knockback</a>, and <a href="#02d2">Enemy Health</a> &nbsp;
<br>
<b>NPC #2:</b> <a href="#02d3">Follow / Shoot</a> and <a href="#02d4">Projectile</a>
<br>
<b>NPC #3:</b> <b>Patrol</b> a. <a href="#02d5">Back-&amp;-Forth</a> &nbsp; |&nbsp;
b. <a href="#02d6">Points Sequence</a> &amp; <a href="#02d6b">Attack</a> 
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;c. <a href="#02d7">Random Points</a> &nbsp; |&nbsp;
d. <a href="#02d8">Random Space</a>
<br>
<b>NPC #4:</b> Top-Down <a href="#02d9">Death Gaze</a> (for stealth games) or 
<a href="#02d9b">Spot Player</a><br><br>
<b>NPC #5:</b> Manage NPC behavior through a <a href="gamedesign/TApresents/UnityAI_Tutorial_MecanimBehaviorManager.pptx" target=TA1b>Mecanim State Machine</a> 
<br>
(with thanks to Jo Chung. Click to download PowerPoint pptx) </font></td></tr></table>

</font>
</center>

<br>
<font face="arial">
<a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a><a name="02d1">&nbsp;</a>
<font color=purple><b>OPTION 1.</b></font> 
<b>Enemy that follows the player and damages the Player on contact:</b>

<br>This enemy is ideally displayed using a spritesheet that includes the following animations (1-4 sprites each):  

<br>idle, chasing the player, attack, getHurt, and a death.

<br><br>
<b>a.</b> Create an EmptyGO named &quot;<b>Enemy_MoveHit</b>&quot;. Reset Transforms. 

<br><br>
<b>b. [Add Component]</b> Physics2D &gt; <b>Rigidbody2D</b> (turn on Constraint &gt; Freeze Rotation Z) and <b>BoxCollider2D</b>. 

<br><br>
<b>c.</b> Add a .PNG character sprite, make it a child of Enemy_MoveHit. 


The scripts below can access animations for enemy_idle, enemy_walk, enemy_attack, enemy_getHit, enemy_KO.<br><br>
<b>d.</b> Create a new <b>C# script</b>, name it &quot;<b>EnemyMoveHit.cs</b>&quot;, apply to  Enemy_MoveHit. 
<br>This script allows the enemy to &quot;see&quot; when the Player is close enough (within AttackRange) and then attack. </font>
<br>
<br>
<center>
<font face="arial"><i>EnemyMoveHit.cs script:</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font></font><font face=arial><font face=arial><font color=#365f91><b>EnemyMoveHit : MonoBehaviour</b></font></font></font> {<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b> <b>public</b></font> Animator anim;
<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b> <b>public</b></font> Rigidbody2D rb2D;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> speed = <font face="arial"><font color=#ed6c0a><b>4f</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Transform target;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> damage = <font face="arial"><font color=#ed6c0a><b>10</b></font></font>;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> EnemyLives = <font face="arial"><font color=#ed6c0a><b>3</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> GameHandler gameHandler;<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> attackRange = <font face="arial"><font color=#ed6c0a><b>10</b></font></font>;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public bool</b></font></font> isAttacking = <font face=arial><font color=#365f91><b>false</b></font></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> float scaleX;

<br><br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Start () {
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; anim = GetComponentInChildren&lt;Animator&gt; ();
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb2D = GetComponent&lt;Rigidbody2D&gt; ();

<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; scaleX = gameObject.transform.localScale.x;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (GameObject.FindGameObjectWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) != null) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; target = GameObject.FindGameObjectWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>).GetComponent&lt;Transform&gt; ();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>) != null) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  gameHandler = GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>).GetComponent&lt;GameHandler&gt; ();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Update () {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; float DistToPlayer = Vector3.Distance(transform.position, target.position);<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((target != null) &amp;&amp; (DistToPlayer &lt;= attackRange)){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = Vector2.MoveTowards (transform.position, target.position, speed * Time.deltaTime);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//anim.SetBool(&quot;Walk&quot;, true);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; <font color=gray>//flip enemy to face player direction. Wrong direction? Swap the * -1.</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (target.position.x > gameObject.transform.position.x){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameObject.transform.localScale = new Vector2(scaleX, gameObject.transform.localScale.y);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> { <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; gameObject.transform.localScale = new Vector2(scaleX * -1, gameObject.transform.localScale.y);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//else&nbsp;{ anim.SetBool(&quot;Walk&quot;, false);}</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> OnCollisionEnter2D(Collision2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {
<br>
 &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isAttacking = <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(&quot;Attack&quot;, true);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler.playerGetHit(damage);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>void</b></font></font> OnCollisionExit2D(Collision2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isAttacking = <font face=arial><font color=#365f91><b>false</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(&quot;Attack&quot;, false);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//DISPLAY the range of  enemy's attack when selected in the Editor</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnDrawGizmosSelected(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Gizmos.DrawWireSphere(transform.position, attackRange);<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
}</font></td>
</tr></table>
</center>

<br>
<br>
<font face=arial> <a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02d1b">&nbsp;</a><b>Knock Back:</b><br>
<b>e.</b> Want the player to get knocked back when getting hit by the Enemy? 
<br>
Add the two parts below to the EnemyMoveHit script (This method adds force to the player, pushing them back without teleporting) <strong>AND</strong> the <strong>new script</strong> below to the Player:</font>
<br><br>
<center>
  <font face="arial"><i><b>Add to</b> EnemyMoveHit.cs  script (in a top-down game):</i><br>
    </font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial>
  <font color=gray>//1. Near top, add this line to the Class variables:</font>  <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><strong>public float</strong></font><strong> knockBackForce = <font face="arial"><font color=#ed6c0a>20f</font></font>; </strong><br>
<br>
<br>
<font color=gray>//2. Replace OnCollisionEnter2D() with this version, to include knockback:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font> OnCollisionEnter2D(Collision2D other){   
<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) { <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isAttacking = <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(&quot;Attack&quot;, true);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler.playerGetHit(damage);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//rend.material.color = new Color(2.4f, 0.9f, 0.9f, 0.5f);</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//StartCoroutine(HitEnemy());</font><br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//Tell the player to STOP getting knocked back before getting knocked back:</font>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><strong>other.gameObject.GetComponent&lt;Player_EndKnockBack&gt;().EndKnockBack();</strong><br>
 <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>//Add force to the player, pushing them back without teleporting:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<strong>Rigidbody2D pushRB = other.gameObject.GetComponent&lt;Rigidbody2D&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</strong><font face=arial><font color=#31849b><b>Vector2</b></font></font><strong> moveDirectionPush = rb2D.transform.position - other.transform.position; <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;pushRB.AddForce(moveDirectionPush.normalized  * knockBackForce * - <font face="arial"><font color=#ed6c0a>1f</font></font>, ForceMode2D.Impulse);</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br>
</font></td>
    </tr>
  </table>
</center>

<font face=arial>
<br>
The <em><strong>knockback is started by the enemy</strong></em>, but must be <em><strong>ended by the Player</strong></em>. 
<br>This is in case the enemy is destroyed in the short time between the start and end of the knockback (or the player will keep moving backwards!). <br>
<br>
Create a new C# script called &quot;<strong>Player_EndKnockBack</strong>.cs&quot; and add the content below. 
<br>
Add this new script to the player, and make sure the top level of the Player has the tag &quot;Player&quot;:

</font>
<br>
<br>


<center>
  <font face="arial"><i>Player_EndKnockBack.cs  script:</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <br>
          <font face=arial><font color=#31849b><b>public class </b></font>
          <font color=#365f91><b>Player_EndKnockBack : MonoBehaviour</b></font></font> {

<br><br>

&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private</b></font> <font face=arial><font face=arial><font color=#365f91><b>Rigidbody2D</b></font></font></font> playerRB; <br><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font> EndKnockBack(){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; playerRB = gameObject.GetComponent&lt;<font face=arial><font face=arial><font color=#365f91><b>Rigidbody2D</b></font></font></font>&gt;();<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(EndKnockBack(playerRB)); <br>
        &nbsp; &nbsp; &nbsp;&nbsp; } <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; IEnumerator EndKnockBack(<font face=arial><font face=arial><font color=#365f91><b>Rigidbody2D</b></font></font></font> myRB){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; yield return new WaitForSeconds(<font face="arial"><font color=#ed6c0a><b>0</b></font><font color=#ed6c0a><b>.2f</b></font></font>); <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; myRB.velocity= new Vector3(<font face="arial"><font color=#ed6c0a><b>0</b></font></font>,<font face="arial"><font color=#ed6c0a><b>0</b></font></font>,<font face="arial"><font color=#ed6c0a><b>0</b></font></font>); <br>
        &nbsp; &nbsp; &nbsp;&nbsp; } <br>
      }</font></td>
    </tr>
  </table>
</center>
  <br><br>

<font face="arial">
<em><strong>NOTE:</strong></em> The knockback above assumes a <strong>top-down game</strong>. <br>
In a <strong>platfomer game</strong>, we want to knock the player back<strong> just on the x-axis</strong>. 
<br>Try this method which teleports the player away from the enemy (NOTE: can accidentally teleport through a  wall): 
<br><br>

<center>
<i><b>Add to</b> EnemyMoveHit.cs  script (in a Platformer game):</i>
</center>


</font>
<center>
    <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
      <tr>
      <td><font face=arial><font color=gray>//1. Near top, add this line to the Class variables:</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public float</b></font> attackPush = <font face="arial"><font color=#ed6c0a><b>3.5f</b></font></font>; 
<br><br>
<br>
<font color=gray>//2. Replace OnCollisionEnter2D() with this version, to include knockback:</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font> OnCollisionEnter2D(Collision2D other){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) { <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isAttacking = <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(&quot;Attack&quot;, true);</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler.playerGetHit(damage);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//rend.material.color = new Color(2.4f, 0.9f, 0.9f, 0.5f);</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//StartCoroutine(HitEnemy());</font> <br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//This method teleports the player away from the enemy; can teleport through a  wall</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; float pushBack = <font face="arial"><font color=#ed6c0a><b>0f</b></font></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (other.gameObject.transform.position.x &gt; gameObject.transform.position.x){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; pushBack = <font face="arial"><font color=#ed6c0a><b>3f</b></font></font>; <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else { <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; pushBack = -<font face="arial"><font color=#ed6c0a><b>3f</b></font></font>; <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; other.gameObject.transform.position = new Vector3(transform.position.x + pushBack, transform.position.y + <font face="arial"><font color=#ed6c0a><b>1</b></font></font>, <font face="arial"><font color=#ed6c0a><b>0</b></font></font>); <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }</font></td>
    </tr>
</table>
</center>
<font face=arial><br>
<br>
<br>
<a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02d2">&nbsp;</a><b>Enemy Health:</b><br>
<b>f.</b> Create a new <b>C# script</b>, name it &quot;<b>EnemyMeleeDamage.cs</b>&quot;, apply to  Enemy_MoveHit. <br>
This script allows the enemy to be destroyed when its health is depleted. It also drops loot (instantiates a prefab). Once aplied, drag a Pick-Up object into the healthLoot slot.</font><br>
<center><br>
<font face="arial"><i>EnemyMeleeDamage.cs script:</i><br></font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;
<br><br>
<font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>EnemyMeleeDamage : MonoBehaviour</b></font></font></font> {
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Renderer rend;<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b> <b>public</b></font> Animator anim;<br>
    &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject healthLoot;<br>
    &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> maxHealth = <font face="arial"><font color=#ed6c0a><b>100</b></font></font>;<br>
    &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> currentHealth;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend = GetComponentInChildren&lt;Renderer&gt; (); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; anim = GetComponentInChildren&lt;Animator&gt; ();
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; currentHealth = maxHealth; <br>
    &nbsp; &nbsp; &nbsp;&nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> TakeDamage(<font face=arial><font color=#31849b><b>int</b></font></font> damage){<br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; currentHealth -= damage;
    <br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=gray> //rend.material.color = new Color(2.4f, 0.9f, 0.9f, 1f);</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//StartCoroutine(ResetColor());</font><br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetTrigger (&quot;Hurt&quot;);</font><br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (currentHealth &lt;= <font face="arial"><font color=#ed6c0a><b>0</b></font></font>){<br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Die();<br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
    &nbsp; &nbsp; &nbsp;&nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Die(){<br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Instantiate (healthLoot, transform.position, Quaternion.identity);<br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool (&quot;isDead&quot;, true);</font><br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GetComponent&lt;Collider2D&gt;().enabled = <font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font>;<br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(Death());<br>
    &nbsp; &nbsp; &nbsp;&nbsp; }<br>
  <br> 
  &nbsp; &nbsp; &nbsp;&nbsp; IEnumerator Death(){<br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>yield return new</b></font></font> WaitForSeconds(<font face="arial"><font color=#ed6c0a><b>0.5f</b></font></font>);<br>
    &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font face="arial"><font color=#ed6c0a><b>&quot;You Killed a baddie. You deserve loot!&quot;</b></font></font>);
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy(gameObject); 
<br>&nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; IEnumerator ResetColor(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>yield return new </b></font></font>WaitForSeconds(<font face="arial"><font color=#ed6c0a><b>0.5f</b></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend.material.color = Color.white;<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>}
<br><br><br></font></td></tr></table>
</center>
<br><br>

<font face=arial>
Do you have a ghost character that should follow the player but also pass through the walls/collider?<br>
Add this script in addition to EnemyMoveHit.cs.<br>
</font>

<center>
  <br>
  <font face="arial"><i>IgnoreCollider.cs script:</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>IgnoreCollider : MonoBehaviour</b></font></font></font> { <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b> <b>public</b></font> GameObject enemy;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public string</b></font></font> TagToIgnore = <font face="arial"><font color=#ed6c0a><b>&quot;Ignored&quot;</b></font></font>;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnCollisionEnter2D (Collision2D collision){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (collision.gameObject.tag == TagToIgnore){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Physics2D.IgnoreCollision(collision.gameObject.GetComponent&lt;Collider2D&gt;(), GetComponent&lt;Collider2D&gt;());<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }</font></td>
    </tr>
  </table>
</center>
<br><br><br>


<center>
<font face="arial">
<a href="#top"><img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt=""></a> 

<b>ENEMY SHOOTER</b> <a href="#top"><img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt=""></a>   
</font>

</center>
<br>
<font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a></font><a name="02d3">&nbsp;</a></b></font></b></font><font color=purple>OPTION 2.</font> ENEMY SHOOTER: </b>
<br>An NPC that follows the player at a distance and shoots at the Player: 

<br><br>
<b>a.</b> Create an Empty Game Object. In the Inspector name it &quot;<b>Enemy_FollowShoot</b>&quot;, reset Transforms, add <b>tag</b> = &quot;<b>enemyShooter</b>&quot; (so its own bullets won't effect it) and  add <b>layer</b> = "<b>Enemies</b>" (so the Player can jump on it, if desired).

<br><br>
<b>b. [Add Components]</b> Physics > <b>BoxCollider2D</b> and <b>Rigidbody2D</b> (set Constraints to Freeze Z rotation). 

<br><br>
<b>c.</b> Drag the enemy character art from the project panel into the Hierarchy, and drag the sprite onto Enemy_FollowShoot to make it a child. In the Inspector name it &quot;<b>enemyShoot_art</b>&quot;.

<br><br>
<b>d.</b> On Enemy_FollowShoot adjust the BoxCollider2D to surround the enemyShoot_art sprite.

<br><br>
<b>e.</b> Create new <b>C# script</b>, name it &quot;<b>EnemyMoveShoot.cs</b>&quot;. Add the content below, Save, and apply to Enemy_FollowShoot. This script allows the enemy to approach the player but stay at a distance form which to shoot at the Player. <br>
</font>
<br>
<center>
<font face="arial"><i>EnemyMoveShoot.cs script:</i></font>
<br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;
<br><br>
<font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>EnemyMoveShoot : MonoBehaviour</b></font></font></font> {
<br><br>
&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//public Animator anim;</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> speed = <font face="arial"><font color=#ed6c0a><b>2f</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>float</b></font></font> stoppingDistance = <font face="arial"><font color=#ed6c0a><b>4f</b></font></font>; // when enemy stops moving towards player<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>float</b></font></font> retreatDistance = <font face="arial"><font color=#ed6c0a><b>3f</b></font></font>; // when enemy moves away from approaching player<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> <font face=arial><font color=#31849b><b>float</b></font></font> timeBtwShots;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>float</b></font></font> startTimeBtwShots = <font face="arial"><font color=#ed6c0a><b>2</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject projectile;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Rigidbody2D rb;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Transform player;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Vector2 PlayerVect;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>int</b></font></font> EnemyLives = <font face="arial"><font color=#ed6c0a><b>30</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Renderer rend;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//private GameHandler gameHandler;</font><br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> attackRange = <font face="arial"><font color=#ed6c0a><b>10</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public bool</b></font></font> isAttacking = <font face=arial><font color=#365f91><b>false</b></font></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> float scaleX; 

<br><br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Start () {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Physics2D.queriesStartInColliders = <font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; scaleX = gameObject.transform.localScale.x;

<br><br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb = GetComponent&lt;Rigidbody2D&gt; ();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; player = GameObject.FindGameObjectWithTag(<font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>).transform;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; PlayerVect = player.transform.position;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; timeBtwShots = startTimeBtwShots;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend = GetComponentInChildren&lt;Renderer&gt; ();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim = GetComponentInChildren&lt;Animator&gt; ();</font><br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//if (GameObject.FindWithTag (&quot;GameHandler&quot;) != null) {</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// gameHander = GameObject.FindWithTag (&quot;GameHandler&quot;).GetComponent&lt;GameHandler&gt; ();</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//}</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Update () {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> DistToPlayer = Vector3.Distance(transform.position, player.position);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((player != null) &amp;&amp; (DistToPlayer &lt;= attackRange)) {<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// approach player</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (Vector2.Distance (transform.position, player.position) &gt; stoppingDistance) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = Vector2.MoveTowards (transform.position, player.position, speed * Time.deltaTime);

<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (isAttacking == <font face=arial><font color=#365f91><b>false</b></font></font>) { <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//anim.SetBool(&quot;Walk&quot;, true);</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Vector2 lookDir = PlayerVect - rb.position;</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//float angle = Mathf.Atan2(lookDir.y, lookDir.x) * Mathf.Rad2Deg -90f;</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//rb.rotation = angle;</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// stop moving</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else if</b></font> (Vector2.Distance (transform.position, player.position) &lt; stoppingDistance &amp;&amp; Vector2.Distance (transform.position, player.position) &gt; retreatDistance) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = this.transform.position;
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//anim.SetBool(&quot;Walk&quot;, false);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// retreat from player</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else if</b></font> (Vector2.Distance (transform.position, player.position) &lt; retreatDistance) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = Vector2.MoveTowards (transform.position, player.position, -speed * Time.deltaTime);<font face=arial><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (isAttacking == <font face=arial><font color=#365f91><b>false</b></font></font>) { <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//anim.SetBool(&quot;Walk&quot;, true);</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Flip enemy to face player direction. Wrong direction? Swap the * -1.</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (player.position.x > gameObject.transform.position.x){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameObject.transform.localScale = new Vector2(scaleX, gameObject.transform.localScale.y); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;} <font color=#3ab050><b>else</b></font> { <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;gameObject.transform.localScale = new Vector2(scaleX * -<font face="arial"><font color=#ed6c0a><b>1</b></font></font>, gameObject.transform.localScale.y); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Timer for shooting projectiles</font><br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (timeBtwShots &lt;= <font face="arial"><font color=#ed6c0a><b>0</b></font></font>) {



<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isAttacking = <font face=arial><font color=#365f91><b>true</b></font></font>; <br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetTrigger(&quot;Attack&quot;);</font></font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Instantiate (projectile, transform.position, Quaternion.identity);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; timeBtwShots = startTimeBtwShots;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; timeBtwShots -= Time.deltaTime;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isAttacking = <font face=arial><font color=#365f91><b>false</b></font></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnCollisionEnter2D(Collision2D collision){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//if (collision.gameObject.tag == &quot;bullet&quot;) {</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//	EnemyLives -= 1;</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//	StopCoroutine(&quot;HitEnemy&quot;);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//	StartCoroutine(&quot;HitEnemy&quot;);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//}</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (collision.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; EnemyLives -= <font face="arial"><font color=#ed6c0a><b>2</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StopCoroutine(<font face="arial"><font color=#ed6c0a><b>&quot;HitEnemy&quot;</b></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(<font face="arial"><font color=#ed6c0a><b>&quot;HitEnemy&quot;</b></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; IEnumerator HitEnemy(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// color values are R, G, B, and alpha, each divided by 100</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend.material.color = new Color(<font face="arial"><font color=#ed6c0a><b>2.4f</b></font></font>, <font face="arial"><font color=#ed6c0a><b>0.9f</b></font></font>, <font face="arial"><font color=#ed6c0a><b>0.9f</b></font></font>, <font face="arial"><font color=#ed6c0a><b>0.5f</b></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (EnemyLives &lt;<b><font color="#ed6c0a"> 1</font></b>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//gameControllerObj.AddScore (5);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy(gameObject);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else</b></font> yield return new WaitForSeconds(<font face="arial"><font color=#ed6c0a><b>0.5f</b></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend.material.color = Color.white;<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//DISPLAY the range of  enemy's attack when selected in the Editor</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnDrawGizmosSelected(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Gizmos.DrawWireSphere(transform.position, attackRange); <br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
}</font></td></tr></table>
</center>
<font face=arial>
<br>
Now we need the projectile that the shooting enemy will fire!

<br><br><br>
<a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02d4">&nbsp;</a><b>Enemy Projectile:</b> 
<br>
<b>a.</b> Create an Empty Game Object. In the Inspector name it &quot;<b>EnemyProjectile</b>&quot;, reset Transforms. 
<br><br>
<b>b. [Add Components]</b> Physics > <b>BoxCollider2D</b> (turn on isTrigger) 
<br>
and Physics > <b>Rigidbody2D</b> (set Gravity Scale = 0, set Constraints to Freeze Z rotation).
<br><br>
<b>c.</b> Drag the enemy projectile art from the project panel into the Hierarchy, and drag the sprite onto EnemyProjectile to make it a child. In the Inspector name it &quot;<b>enemyProjectile_art</b>&quot;.
<br><br>
<b>d.</b> On EnemyProjectile adjust the BoxCollider2D to surround the enemyprojectile_art sprite.
<br><br>
<b>e.</b> Create new <b>C# script</b>, name it &quot;<b>EnemyProjectile.cs</b>&quot;. Add the content below, Save, and apply to EnemyProjectile.
<br><br>
<b>f.</b> <b>Drag</b> EnemyProjectile into the Project panel to make it a <b>Prefab</b>. <b>
Delete </b>the original in the Hierarchy. 
<br>
Select the Enemy_FollowShoot object and <b>drag</b> the EnemyProjectile Prefab into the projectile <b>script slot</b>. <br><br>
</font>

<center>
<font face="arial"><i>EnemyProjectile.cs script:</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine; <br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>EnemyProjectile : MonoBehaviour</b></font></font></font> {
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameHandler gameHandlerObj;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public int</b></font></font> damage =<b><font color="#ed6c0a">1</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> speed = <font color=#ed6c0a><b>10f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Transform playerTrans;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private Vector2</b></font></font> target;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> GameObject hitEffectAnim;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public float</b></font></font> SelfDestructTime = <font color=#ed6c0a><b>2.0f</b></font>;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Start() {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//NOTE: transform gets <em>location</em>, but we need Vector2 for <em>direction</em>, so we can use MoveTowards.</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; playerTrans = GameObject.FindGameObjectWithTag(<font color=#ed6c0a><b>&quot;Player&quot;</b></font>).transform;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; target = new Vector2(playerTrans.position.x, playerTrans.position.y);<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (gameHandlerObj == null){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;gameHandlerObj = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(selfDestruct());<br>
<br>

<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//code for trajectory (moves target way beyond player position):</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>Vector2</b></font></font> startPos = transform.position;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> distance = Vector2.Distance(startPos, target);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; distance = distance * (<font color=#ed6c0a><b>10f</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font color=#31849b><b>Vector2</b></font></font> difference = target - startPos;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; difference = difference.normalized * distance;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; target = (startPos + difference);<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> Update () {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = Vector2.MoveTowards (transform.position, target, speed * Time.deltaTime);<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//if the bullet hits a collider, play the explosion animation, then destroy the effect and the bullet</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> OnTriggerEnter2D(Collider2D collision){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (collision.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandlerObj.playerGetHit(damage);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (collision.gameObject.tag != <font color=#ed6c0a><b>&quot;enemyShooter&quot;</b></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; GameObject animEffect = Instantiate (hitEffectAnim, transform.position, Quaternion.identity);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy (animEffect, <font color=#ed6c0a><b>0.5f</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy (gameObject);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; IEnumerator selfDestruct(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>yield return new</b></font></font> WaitForSeconds(SelfDestructTime);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy (gameObject);<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>}<br><br>
  </font></td></tr></table>
</center>
<font face=arial>
<br>
<a href="gamedesign/Unity2D/VFX_explosion1.png" target=png><img src="gamedesign/Unity2D/VFX_explosion1.png" alt="" border=1 align=right></a><b><em>CREATE THE EXPLOSION EFFECT:</em></b><br>
<b>g.</b> Create a spritesheet for the explosion / impact effect, like this one: <br>
In Unity import the asset. In the Inspector set the following:<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sprite Mode = Multiple<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pixels Per Unit = 16<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Filter Mode = Point (no filter)<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Compression  = None <br>
Hit <b>[Apply]. </b>Open the<b> [Sprite Editor]</b>, choose <b>slice by cell count</b>, set rows/columns, hit <b>[Slice]</b> &amp; <b>[Apply]</b>. <br>
<br>
<b>h. Drag</b> the first frame into <b>Hierarchy</b>.<br>
&nbsp; &nbsp;&nbsp;&nbsp;In the Inspector name it &quot;<b>boom</b>&quot;.<br>
&nbsp; &nbsp;&nbsp;&nbsp;<b>Reset</b> Transforms.<br>
&nbsp; &nbsp;&nbsp;&nbsp;<b>Drag</b> it in the Project &gt; Assets folder to make it a Prefab. 
<br>
&nbsp; &nbsp;&nbsp;&nbsp;<b>Delete</b> it for the scene. <br>
&nbsp; &nbsp;&nbsp;&nbsp;<b>Drag</b> the Prefab from the Assest folder onto the enemyProjectile object into the hitEffectAnim script slot.<br>
<br>
<br>
<br>
</font>
<center>
<font face="arial">
<a href="#top"><img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt=""></a> 
<b>PATROLLING ENEMIES</b> 
<a href="#top"><img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt=""></a>
</font>
</center>

<br><br>
<font face=arial>
<a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02d5">&nbsp;</a>
<b><font color=purple>OPTION 3a.</font> Back-and-Forth Patrolling Enemy </b>(video sources: <a href="https://youtu.be/rHmCYf1EgdI" target=patrol1>01</a> | 
<a href="https://youtu.be/aRxuKoJH9Y0" target=patrol2>02</a>)<b>:</b>
<br>
<b>SUMMARY:</b> Here is a simple side-to-side patrolling enemy, that stops when it hits the end of a platform. <br><br>
a. Create a <strong>Platform</strong> with a <strong>Collider</strong> and a Layer named <strong>Ground</strong>: <br>
<img src="gamedesign/bullet.png" alt=""> Build the visuals and collider/s: 
<br>
&nbsp; &nbsp;&nbsp;&nbsp;<em><strong>OPTION A:</strong></em> RightClick the Hierarchy to create a 2D Object &gt; Sprite &gt; Rectangle. 
<br>[Add Component] Physics2D &gt; BoxCollider2D. Name it &quot;Platform&quot;<br>
&nbsp; &nbsp;&nbsp;&nbsp;<em><strong>OPTION B:</strong></em> Create a <a href="https://madwomb.com/tutorials/GameDesign_Unity2DTilemap.html#tilemap" target=other><strong>Tilemap</strong></a> with <a href="https://madwomb.com/tutorials/GameDesign_Unity2DTilemap.html#tilemap" target=other><strong>TilemapCollider2D / CompositeCollider2D</strong></a>.<br>
<img src="gamedesign/bullet.png" alt=""> Create and apply a new &quot;Ground&quot; Layer: 
<br>
&nbsp; &nbsp;&nbsp;&nbsp;Inspector upper-right: hit Layer &gt; Add Layer. Choose a slot, name it &quot;Ground&quot;.
<br>
&nbsp; &nbsp;&nbsp;&nbsp;In the Hierarchy re-select the platform object and set the Layer = Ground. 
<br><strong><em>NOTE:</em></strong> If when you hit play your enemy is just flipping back and forth wthout patrolling, you likely forgot to add the Ground layer to the ground object!

<br>
<br>
<b>b.</b> Create 
the Enemy <strong>Parent</strong> object:<br>
<img src="gamedesign/bullet.png" alt=""> Create an <b>Empty Game Object</b>. 
<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>EnemyPatrol</b>&quot; and reset Transforms.
<br>
<img src="gamedesign/bullet.png" alt=""> <b>[Add Component]</b> Physics2D &gt; <b>BoxColider2D</b> and <b>Rigidbody2D</b> (set Constraint &gt; Freeze Z Rotation).<br>
<br>
<b>c.</b> 
Add the Enemy <strong>Art</strong>:<br>
<img src="gamedesign/bullet.png" alt=""> Create and import an enemy art <b>sprite </b>into the <b>Assets</b> folder. 
<br>
<img src="gamedesign/bullet.png" alt=""> Set Inspector properties and drag into Hierarchy, onto EnemyPatrol to make it a child. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>enemyPatrol_art</b>&quot; and set <b>Order In Layer</b> = 90.
<br>
<img src="gamedesign/bullet.png" alt=""> Select EnemyPatrol and adjust the BoxColider2D to surround art, starting at ankle. <br>
<br>
<b>d.</b> 
Add the <strong>GroundCheck</strong> object to act as the raytrace origin point (will look straight down for the platform edge):<br>
<img src="gamedesign/bullet.png" alt=""> RightClick EnemyPatrol to create another <b>Empty Game Object</b>as a child.<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>GroundCheck</b>&quot; and reset Transforms. 
<br>
<img src="gamedesign/bullet.png" alt=""> Click the Inspector upper-left icon to choose a diamond shape for Scene view visibility. <br>
<img src="gamedesign/bullet.png" alt=""> Move it slightly &quot;in front&quot; of the character art (on the side the art faces). 
<br><br>
<b>e.</b> Create a new <b>C# script</b> with the content below,  &quot;<b>EnemyPatrolHit.cs</b>&quot;. Save. 
<br>
In Unity add to EnemyPatrol. This script makes the enemy move back and forth on a platform, using raytracing to &quot;see&quot;  platform ends in order to turn around.
<br>
In Inspector: <strong>Drag</strong> the GroundCheck Game Object into the groundCheck <b>script slot</b>. 
<br>Set the GroundLayers <b>rolldown</b> to Ground. <br>
</font><br>
<center>
<font face="arial"><i>EnemyPatrolHit.cs script (on floating platforms):</i><br>
</font>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font color=#31849b><b>public class </b></font><font color=#365f91><b>EnemyPatrolHit : MonoBehaviour</b></font> {<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public float</b></font> speed = <font color=#ed6c0a><b>2f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private</b></font> Rigidbody2D rb;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//private Animator anim;</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> LayerMask groundLayers;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> Transform groundCheck;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> faceRight = <font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; RaycastHit2D hit;<br>
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font></font> damage = <font face="arial"><font color=#ed6c0a><b>10</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> GameHandler gameHandler;<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb = GetComponent&lt;Rigidbody2D&gt;();
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(<font face="arial">&quot;Walk&quot;</font>, true);</font>
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>) != null) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  gameHandler = GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>).GetComponent&lt;GameHandler&gt; ();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; hit = Physics2D.Raycast(groundCheck.position, -transform.up, <font color=#ed6c0a><b>1f</b></font>, groundLayers);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.DrawLine(groundCheck.position, hit.point, Color.green);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> FixedUpdate(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (hit.collider != <font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (faceRight){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb.velocity = new <font color=#31849b><b>Vector2</b></font>(speed, rb.velocity.y);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> { <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb.velocity = new <font color=#31849b><b>Vector2</b></font>(-speed, rb.velocity.y);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; faceRight = !faceRight;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.localScale = new <font color=#31849b><b>Vector3</b></font>(-transform.localScale.x, <font color=#ed6c0a><b>1f</b></font>, <font color=#ed6c0a><b>1f</b></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> OnCollisionEnter2D(Collision2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(<font face="arial">&quot;Attack&quot;</font>, true)</font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler.playerGetHit(damage);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//rend.material.color = new Color(2.4f, 0.9f, 0.9f, 0.5f);</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//StartCoroutine(HitEnemy());</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>void</b></font></font> OnCollisionExit2D(Collision2D other){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(<font face="arial">&quot;Attack&quot;</font>, false);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
}
<br><br>
<font color=gray>
//Vector2 groundCheck2 = new Vector2(groundCheck.position.x, groundCheck.position.y);
<br>//hit = Physics2D.Raycast(groundCheck2, new Vector2(0, -1), rayLength, groundLayers);
<br>//Debug.DrawRay(groundCheck.position, new Vector2(0, -1), Color.green);
</font>

</font></td></tr></table>
</center>

<br>
<br>
<font face=arial>
<b>ENEMY CAN ALSO TURN AFTER HITTING A WALL:</b>
<br>
To adapt this Enemy for use on floating platforms OR on platorfms bounded by walls (so it switched irections when hitting an empty space OR wall):<br>
<b>1.</b> Make sure that the <b>GroundCheck Position Y =0</b>, so it is straight out in front of the player. to be used for both ground and wall checks.<br>
<b>2.</b> Add a new Tilemap layer <b>TM_walls</b> for all walls, ad Layer ID &quot;walls&quot; and apply to this Tilemap.<br>
<b>3.</b> Use this <b>adjusted script</b>. In Inspector, <b>set wallCheck layer slot</b> to the new Layer ID &quot;walls&quot;: </font>

<br><br>
<center>
  <font face="arial"><i>EnemyPatrolHit.cs script  (on floating platforms AND spaces bounded by walls):</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>EnemyPatrolHit : MonoBehaviour</b></font> {<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public float</b></font> speed = <font color=#ed6c0a><b>2f</b></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private</b></font> Rigidbody2D rb;
        <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//private Animator anim;</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> LayerMask groundLayer;<br>
        <b>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b>public</font> LayerMask wallLayer;<br>
        </b>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> Transform groundCheck;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> faceRight = <font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font>;<br>
        <b>&nbsp; &nbsp; &nbsp;&nbsp; RaycastHit2D hitDwn;<br>
&nbsp; &nbsp; &nbsp;&nbsp; RaycastHit2D hitFwd;</b><br>
<b>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b>public float</font> raylength = <font color=#ed6c0a>2f</font>;<br>
</b><br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font></font> damage = <font face="arial"><font color=#ed6c0a><b>10</b></font></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> GameHandler gameHandler;<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb = GetComponent&lt;Rigidbody2D&gt;(); <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(<font face="arial">&quot;Walk&quot;</font>, true);</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>) != null) {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  gameHandler = GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>).GetComponent&lt;GameHandler&gt; ();<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
        <b>&nbsp; &nbsp; &nbsp;&nbsp;hitDwn = Physics2D.Raycast(groundCheck.position, -transform.up, raylength, groundLayer);<br>
&nbsp; &nbsp; &nbsp;&nbsp;hitFwd = Physics2D.Raycast(groundCheck.position, -transform.up, <font face=arial>raylength</font>/<font color="#ed6c0a">2</font>, wallLayer);</b><br>
        &nbsp; &nbsp;  }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> FixedUpdate(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (<b>hitDwn</b>.collider != <font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (faceRight){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb.velocity = new <font color=#31849b><b>Vector2</b></font>(speed, rb.velocity.y);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> { <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rb.velocity = new <font color=#31849b><b>Vector2</b></font>(-speed, rb.velocity.y);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; faceRight = !faceRight;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.localScale = new <font color=#31849b><b>Vector3</b></font>(-transform.localScale.x, <font color=#ed6c0a><b>1f</b></font>, <font color=#ed6c0a><b>1f</b></font>);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; <br>
<b>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// wall turning:</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050>if</font> (hitFwd.collider != <font face=arial><font face=arial><font color=#365f91>false</font></font></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;Debug.Log(&quot;I hit a wall&quot;);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; faceRight = !faceRight;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.localScale = new <font color=#31849b>Vector3</font>(-transform.localScale.x, <font color=#ed6c0a>1f</font>, <font color=#ed6c0a>1f</font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</b><br>
        &nbsp; &nbsp; &nbsp;&nbsp; } <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> OnCollisionEnter2D(Collision2D other){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(<font face="arial">&quot;Attack&quot;</font>, true)</font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler.playerGetHit(damage);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//rend.material.color = new Color(2.4f, 0.9f, 0.9f, 0.5f);</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//StartCoroutine(HitEnemy());</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; } <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>void</b></font></font> OnCollisionExit2D(Collision2D other){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(<font face="arial">&quot;Attack&quot;</font>, false);</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }</font></td>
    </tr>
  </table>
</center>
<br>
<br><br>
<font face=arial>
<b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a></font></b></font></b></font><a name="02d6">&nbsp;</a></b></font></b></font></b></font><font color=purple>OPTION 3b.</font></b> <b>Enemy Patrol Sequence: Multiple Points</b><br>
<em><b>SUMMARY:</b></em> An enemy that follows a set path between waypoints until it sees the player, then attacks. 
<br>
This is typically done with systems like A-star (A*) or Breadth First Search (BFS), but  the enemy can also simply move between a sequence of patrol targets. </font><br>

<!--
<center>
  <font face="arial"><i>EnemyPatrolAttack.cs script:</i> [Script To Come]<br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>EnemyPatrolAttack : MonoBehaviour</b></font></font></font> { <br>
        <br>
        public Transform player; <br>
        public Transform nextPatrolTarget;<br>
        <br>
        public Transform patrolTarget1; <br>
        public Transform patrolTarget2; <br>
        public Transform patrolTarget3; <br>
        public Transform patrolTarget4; <br>
        public Transform patrolTarget5; <br>
        public Transform patrolTarget6; <br>
        public Transform patrolTarget7; <br>
        public Transform patrolTarget8; <br>
        <br>
        public float playerAttackDistance = 25f; <br>
        public float patrolSwitchThreshold1 = 8f;<br>
        public float patrolSwitchThreshold2 = 30f;<br>
        public float turnThreshold = 40f;<br>
        public float distToPlayer;<br>
        public float distToTarget;<br>
        public bool attackPlayer = false;<br>
        public bool getNextTarget = true;<br>
        <br>
        public Transform attackPoint;<br>
        public float attackRange = 10f;<br>
        public GameObject lavaSpherePrefab;<br>
        public ParticleSystem attackParticles;<br>
        public bool isAttacking = false;<br>
        private float attackTimer = 0;<br>
        public float attackRate = 0.2f;<br>
        <br>
        void Start() { <br>
        myAgent = GetComponent&lt;NavMeshAgent&gt;();<br>
        playerLoader = GetComponent&lt;NPC_LoadPlayers&gt;();<br>
        <br>
        nextPatrolTarget = patrolTarget1;<br>
        <br>
        //attackBlock.SetActive(false);<br>
        attackParticles.Stop();<br>
        <br>
        }<br>
        <br>
        void Update() {<br>
        //get distances to next target <br>
        distToTarget = Vector3.Distance(nextPatrolTarget.position, gameObject.transform.position);<br>
        <br>
        if ((player1Target != null)&amp;&amp; (player2Target != null)){<br>
        //get distances to players <br>
        distToPlayer1 = Vector3.Distance(player1Target.position, gameObject.transform.position);<br>
        distToPlayer2 = Vector3.Distance(player2Target.position, gameObject.transform.position);<br>
        <br>
        //is the player close enough to attack?<br>
        if ((distToPlayer1 &lt;= playerAttackDistance)&amp;&amp;(distToPlayer1 &lt; distToPlayer2)) { <br>
        attackPlayer1 = true;<br>
        } else { <br>
        attackPlayer1 = false;<br>
        }<br>
        <br>
        if ((distToPlayer2 &lt;= playerAttackDistance)&amp;&amp;(distToPlayer2 &lt; distToPlayer1)) { <br>
        attackPlayer2 = true;<br>
        } else { <br>
        attackPlayer2 = false;<br>
        }<br>
        }<br>
        <br>
        //am I moving towards the player or my next patrol location? <br>
        if (attackPlayer1 == true) {<br>
        myAgent.destination = player1Target.position;<br>
        if (distToPlayer1 &gt; turnThreshold){<br>
        transform.LookAt(player1Target);<br>
        }<br>
        isAttacking=true;<br>
        AttackPlayer();<br>
        } else if (attackPlayer2 == true) {<br>
        myAgent.destination = player2Target.position;<br>
        if (distToPlayer2 &gt; turnThreshold){<br>
        transform.LookAt(player2Target);<br>
        }<br>
        isAttacking=true;<br>
        AttackPlayer();<br>
        } else {<br>
        myAgent.destination = nextPatrolTarget.position;<br>
        if (distToTarget &gt; turnThreshold){<br>
        transform.LookAt(nextPatrolTarget);<br>
        }<br>
        isAttacking=false;<br>
        AttackPlayer();<br>
        }<br>
        <br>
        //have a I reached a patrol destination, so I should switch to the next?<br>
        if (distToTarget &lt;= patrolSwitchThreshold1){<br>
        if (getNextTarget == true){<br>
        StopCoroutine(FindNextPatrolTarget());<br>
        StartCoroutine(FindNextPatrolTarget());<br>
        }<br>
        getNextTarget = false;<br>
        } else if (distToTarget &gt;= patrolSwitchThreshold2){<br>
        getNextTarget = true;<br>
        }<br>
        <br>
        if (playerLoader.playersReady == true){<br>
        LoadPlayerTargets();<br>
        }<br>
        } <br>
        <br>
        void FixedUpdate(){<br>
        if (isAttacking == true){<br>
        attackTimer += 0.01f;<br>
        if (attackTimer &gt;= attackRate){<br>
        StartCoroutine(makeLava());<br>
        attackTimer = 0;<br>
        }<br>
        }<br>
        }<br>
        <br>
        public void OnCollisionEnter(Collision other){<br>
        Transform teleportBelow = GameObject.FindWithTag(&quot;FallRespawn&quot;).transform;
        </p>
        <br>
        if ((player1Target != null)&amp;&amp; (player2Target != null)){<br>
        if (other.gameObject.transform.parent != null){<br>
        if (other.gameObject.transform.parent.tag==&quot;Player1&quot;){<br>
        if(GameHandler.p1Health &lt;=0){<br>
        player1Target.position = teleportBelow.position;<br>
        Debug.Log(&quot;I am teleporting &quot; + GameHandler.player1Prefab + &quot; (Player 1) to &quot; + teleportBelow.position);<br>
        }<br>
        }<br>
        <br>
        if (other.gameObject.transform.parent.tag==&quot;Player2&quot;){<br>
        if (GameHandler.p2Health &lt;=0){<br>
        player2Target.position = teleportBelow.position;<br>
        Debug.Log(&quot;I am teleporting &quot; + GameHandler.player2Prefab + &quot; (Player 2) to &quot; + teleportBelow.position);<br>
        }<br>
        }<br>
        }<br>
        }<br>
        }<br>
        <br>
        <br>
        IEnumerator FindNextPatrolTarget(){<br>
        yield return new WaitForSeconds (0.1f); //pause at destination<br>
        Debug.Log(&quot;Current at &quot; + nextPatrolTarget + &quot;. Getting next target.&quot;);<br>
        if (nextPatrolTarget == patrolTarget1){nextPatrolTarget = patrolTarget2;}<br>
        else if (nextPatrolTarget == patrolTarget2){nextPatrolTarget = patrolTarget3;}<br>
        else if (nextPatrolTarget == patrolTarget3){nextPatrolTarget = patrolTarget4;}<br>
        else if (nextPatrolTarget == patrolTarget4){nextPatrolTarget = patrolTarget1;}<br>
        }<br>
        <br>
        <br>
        public void LoadPlayerTargets(){<br>
        //load players as targets when they appear:<br>
        if (GameObject.FindWithTag(&quot;Player1&quot;).transform.GetChild(0) != null) { <br>
        player1Target = GameObject.FindWithTag(&quot;Player1&quot;).transform.GetChild(0).GetComponent&lt;Transform&gt;(); <br>
        }<br>
        if (GameObject.FindWithTag(&quot;Player2&quot;).transform.GetChild(0) != null) { <br>
        player2Target = GameObject.FindWithTag(&quot;Player2&quot;).transform.GetChild(0).GetComponent&lt;Transform&gt;(); <br>
        }<br>
        }<br>
        <br>
        <br>
        //Attack<br>
        public void AttackPlayer(){<br>
        //if ((isAttacking==true)&amp;&amp;((distToPlayer1 &lt; 20f)||(distToPlayer2 &lt; 20f))){<br>
        if (isAttacking == true){<br>
        //attackBlock.SetActive(true);<br>
        attackParticles.Play();<br>
        } else {<br>
        //attackBlock.SetActive(false);<br>
        attackParticles.Stop();<br>
        }<br>
        }<br>
        <br>
        IEnumerator makeLava(){<br>
        GameObject lavaSphere = Instantiate(lavaSpherePrefab, attackPoint.position, Quaternion.identity);<br>
        yield return new WaitForSeconds(5.0f);<br>
        Destroy(lavaSphere);<br>
        }<br>
        <br>
        <br>
        //to help see the attack range in editor:<br>
        void OnDrawGizmosSelected(){<br>
        if (attackPoint == null) return; <br>
        Gizmos.DrawWireSphere(attackPoint.position, attackRange); <br>
        } <br>
        <br>
        } <br>
        <br>
        <br>
        } <br>
        <br>
      </font></td>
    </tr>
  </table>
</center>
-->
<br>
<font face=arial><b>a.</b> Create an <b>Empty GameObject</b>. In the Inspector name it &quot;<b>Enemy_PatrolSequence</b>&quot;. Reset Transforms. 
<br>
<b>[Add Component]</b> Physics &gt; <b>BoxCollider2D</b> and <b>RigidBody2D</b> (Gravity Scale = 0). Add  art <b>Sprite</b> as a child.<br><br>
<b>b.</b> Create a new <b>C# script</b> called &quot;<b>NPC_PatrolSequencePoints.cs</b>&quot; and apply to Enemy_PatrolSequence. Add the content below to the script and save. 

<br><br>
<b>c.</b> In the Inpector Choose the <b>moveSpots[] array number</b> to add script slots.  

<br><br>
<b>d.</b> In the Hierarchy create another <b>Empty GameObject</b>, name it &quot;<b>patrolPoint</b>&quot; and in the Inspector upper-left icon set the Scene-view visual to a diamond. 

<br><br>
<b>e.</b> Move and duplicate the patrolPoints to represent all locations you want the NPC to patrol. <br>
<strong>Drag</strong> the <strong>right-most patrolPoint</strong> into the <strong>first moveSpot script slot</strong>, then the rest in order (left-most is last).<br>
<br>
Hit <b>[Play]</b>: the NPC should move forward from point to point, and then back. Turn off Play to resume editing. 
<br>
<br>

<a href="gamedesign/Unity2D/SideScrollerNPCpatrol.png" target=new><img src="gamedesign/Unity2D/SideScrollerNPCpatrol_thumb.png" alt="" width=200 height=100 align=right></a><b>f.</b> To complete the enemy, make a <b>Prefab</b>: new Empty GameObject to act as the ultimate parent for this enemy system. In the Inspector name it &quot;<b>Enemy_PATROLSYSTEM</b>&quot; and reset Transforms. 
<br>
<b>Drag</b> EnemyPatrolSequence and all patrolPoints onto Enemy_PATROLSYSTEM to make them children, then <b>drag</b> Enemy_PATROLSYSTEM into the Project panel to make it a <b>Prefab</b>, so it can be duplicated and used in other scenes. </font>
<br>
<br>
<center>
  <font face="arial"><i>NPC_PatrolSequencePoints.cs script:</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>NPC_PatrolSequencePoints : MonoBehaviour</b></font> {<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>// private Animator anim;</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> speed  =  <font color=#ed6c0a><b>10f</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font> waitTime;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> startWaitTime = <font color=#ed6c0a><b>2f</b></font>;<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public</b></font> Transform[] moveSpots;<font color=#31849b><b><br>
        </b></font><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#31849b><b>public int</b></font> startSpot = <font color=#ed6c0a><b>0</b></font>;<br> 
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public bool</b></font> moveForward = <font color=#365f91><b>true</b></font>; <br><br>
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>// Turning</font><br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>private int</b></font> nextSpot;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private int</b></font> previousSpot;<br>     
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public bool</b></font> faceRight = <font color=#365f91><b>false</b></font>;<br>
<br>
        <font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#31849b><b>void</b></font> Start(){<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>waitTime = startWaitTime;<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>nextSpot = startSpot;
<br>
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font>        
<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        <br>
        <font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#31849b><b>void</b></font> Update(){<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>transform.position = <font color=#31849b><b>Vector2</b></font>.MoveTowards(transform.position, moveSpots[nextSpot].position, speed * Time.deltaTime);<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (Vector2.Distance(transform.position, moveSpots[nextSpot].position) &lt; <font color=#ed6c0a><b>0.2f</b></font>){<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (waitTime &lt;= <font color=#ed6c0a><b>0</b></font>){<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
        <font color=#3ab050><b>if</b></font> (moveForward == <font color=#365f91><b>true</b></font>){ previousSpot = nextSpot; nextSpot += <font color=#ed6c0a><b>1</b></font>; }<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
        <font color=#3ab050><b>else if</b></font> (moveForward == <font color=#365f91><b>false</b></font>){ previousSpot = nextSpot; nextSpot -= <font color=#ed6c0a><b>1</b></font>; }</font></font></font></font></font></font></font></font><br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>waitTime = startWaitTime;<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>} <font color=#3ab050><b>else</b></font> {<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>waitTime -= Time.deltaTime;<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}
        
        
<br><br>
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>//switch movement direction</font>
<br>        
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (<font face=arial><font face=arial><font face=arial><font face=arial>nextSpot</font></font></font></font> == <font color=#ed6c0a><b>0</b></font>) {<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial>moveForward </font></font></font></font></font></font></font></font>= <font color=#365f91><b>true</b></font>;
}<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>else if</b></font> (<font face=arial><font face=arial><font face=arial><font face=arial>nextSpot</font></font></font></font> == (moveSpots.Length -<font face=arial><font face=arial><font face=arial><font face=arial><font color=#ed6c0a><b>1</b></font></font></font></font></font>)) {<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial> moveForward </font></font></font></font></font></font></font></font>= <font color=#365f91><b>false</b></font>;
}
<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//turning the enemy</font> <br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (previousSpot &lt; 0){ previousSpot = moveSpots.Length -<b><font color="#ed6c0a">1</font></b>; } <br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>else if</b></font> (previousSpot &gt; moveSpots.Length -1){ previousSpot = <font color=#ed6c0a><b>0</b></font>; } <br>
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> ((previousSpot == 0)<font color=#365f91><b> &amp;&amp; </b></font>(faceRight)){ NPCTurn(); } <br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>else if</b></font> ((previousSpot == (moveSpots.Length -<b><font color="#ed6c0a">1</font></b>)) <font color=#365f91><b>&amp;&amp;</b></font> (<font color=#365f91><b>!</b></font>faceRight)) { NPCTurn(); } 

<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>// NOTE1: If faceRight does not change, try reversing !faceRight, above</font>

<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>// NOTE2: If NPC faces the wrong direction as it moves, set the sprite Scale X = -1.</font>


<br>&nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
	<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>private void</b></font> NPCTurn(){ <br>		
	<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>// NOTE: Switch player facing label (avoids constant turning)</font>
<br>		
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>faceRight = <font color=#365f91><b>!</b></font>faceRight; <br><br>
		<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>// NOTE: Multiply player's x local scale by -1.</font>
<br>		
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Vector3 theScale = transform.localScale; <br>		
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>theScale.x *= -<b><font color="#ed6c0a">1</font></b>; <br>		
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>transform.localScale = theScale; <br>	
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font>} <br><br>
}</font></td></tr></table>
</center>

<br>
<font face=arial>
<b>NOTE:</b> The facing direction in this script assumes the location nodes are arranged from Right to Left, ideal for a platformer game. For a more robust script that allows a zigzag or circular pattern (more useful in a Top-Down game), try turning the player when: <br>
&nbsp; &nbsp; &nbsp;&nbsp; 
((nextSpot.position.x &lt; previousSpot) &amp;&amp; (previousSpot.positon.x &gt; [the spot before previousSpot]))
<br>
&nbsp; &nbsp; &nbsp;&nbsp; 
((nextSpot.position.x &gt; previousSpot) &amp;&amp; (previousSpot.positon.x &lt; [the spot before previousSpot]))

<br><br><br><br>
 <b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a></font></b></font></b></font><a name="02d6b">&nbsp;</a></b></font></b></font></b></font>Want your patrolling enemy to hurt the player? <br>
 </b>A moveHit script can be modified to disable the patrol script and chase the player if the player gets close enough. Alternatively, this simple script will cause the patrolling enemy to hurt the player if the player gets near their front.
 
 <br><br>
 <b>1. </b>Create an<b> Empty Game Object</b> as a child of the enemy, name it &quot;<b>AttackPoint</b>&quot;. Position it in front of the enemy. 
 
 <br>
 <br>
 <b>2. </b>Add the <b>C# script</b> below to the enemy and <b>drag</b> Attack Point into the <b>script slot</b>. <br><br>
 <b>3. Adjust</b> Attack Range, Damage Range, and Damage as desired, but keep Damage Range &gt; Attack Range.<br>
<br>
</font>
<center>
  <font face="arial"><i>EnemyBite.cs script:</i><br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>EnemyBite : MonoBehaviour</b></font> {<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>// private Animator anim;</font><br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private </b></font> GameHandler gameHandler; <br>
<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private </b></font> Transform player; <br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> Transform AttackPoint; <br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> attackRange = <font color=#ed6c0a><b>5f</b></font>; <br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> damageRange = <font color=#ed6c0a><b>7f</b></font>; <br>	
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>//public LayerMask playerLayer;</font>
<br>
<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font> damage = <font color=#ed6c0a><b>10</b></font>; <br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font>  distanceToMouth; <br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float </b></font>timeToNextAttack = <font color=#ed6c0a><b>2f</b></font>; <br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font> canAttack = <font color=#365f91><b>true</b></font>; <br>

<br><br>    
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Start(){ 
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler = GameObject.FindWithTag (<font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim = GetComponentInChildren&lt;Animator&gt;();</font>
<br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; player = GameObject.FindWithTag("Player").transform;<br>    
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>	
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Update(){<br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; distanceToMouth = Vector3.Distance(player.position, AttackPoint.position); <br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((distanceToMouth &lt; attackRange) &amp;&amp; (canAttack)){<br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Attack();<br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(AttackDelay());<br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>	
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>	
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Attack(){ <br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>anim.SetTrigger (&quot;Attack&quot;);</font>

<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;I am biting the player!&quot;</b></font>); <br>		
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#3ab050><b>if</b></font> (distanceToMouth &lt; damageRange){
<br>			
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font></font></font></font>gameHandler.playerGetHit(damage); <br>		
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>} <br>
<font color=gray>
<br>		
</font><font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font></font></font></font></font><font color=gray>// Collider2D[] hitPlayer = Physics2D.OverlapCircleAll(AttackPoint.position, damageRange, playerLayer); <br>		
</font><font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>// foreach(Collider2D player in hitPlayer){ <br>			
</font><font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font></font></font></font><font color=gray>// Debug.Log("We hit " + player.name);
<br>			
</font><font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font></font></font></font><font color=gray>// gameHandler.playerGetHit(damage); <br>		
</font><font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>// } </font>
<br>	
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>} <br>
<br>	
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>IEnumerator AttackDelay(){ <br>		
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>canAttack = <font color=#365f91><b>false</b></font>; <br>		
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>yield return new WaitForSeconds(timeToNextAttack); <br>		
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>canAttack = <font color=#365f91><b>true</b></font>; <br>	
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>} <br>	
<br>	
<font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font></font><font color=gray>//NOTE: to help see the attack sphere in editor:</font>
<br>      
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#31849b><b>void</b></font> OnDrawGizmos(){ <br>            
<font face=arial><font face=arial><font face=arial><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>Gizmos.DrawWireSphere(AttackPoint.position, attackRange); <br>			
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>Gizmos.DrawWireSphere(AttackPoint.position, damageRange); <br>    
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>} <br>}

<br><br></font></td>
</tr></table>
</center>
<font face=arial><br>
<br><br><br><br>

<a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02d7"></a>
<b><font color=purple>OPTION 3c.</font></b> <b>Enemy Patrol Randomly Move Between Points</b> (<a href="https://youtu.be/8eWbSN2T8TE" target=patrol>source</a>, part 1)<br>
<b>a.</b> Create an <b>Empty Game Object</b> called &quot;<b>NPC</b>&quot;. 
In the Inspector <b>reset Transforms</b>.<br>
<b>b.</b> Add a <b>BoxCollider2D</b> and a <b>RigidBody2D</b> (Constraint &gt; Freeze Z rotation, change Dynamic to Kinematic).<br>
 <b>c.</b> Drag your <b>Sprite art</b> into the Hierarchy. Name it &quot;<b>NPC_art</b>&quot; and drag it onto NPC to make it a child. 
 <br>
 <b>d.</b> Create a new C# script called &quot;<b>NPC_PatrolRandomPoints.cs</b>&quot;. 
 <br>
 <b>e.</b> In your script editor add the content below, Save, and in Unity apply to NPC. <br><br>
<b>For the location points:</b> 
<br>
<b>f.</b> Create <b>two</b> new <b>Empty GOs</b> to act as location points. Name them &quot;<b>movSpot1A</b>&quot; and &quot;<b>moveSpot1B</b>&quot;.<br>
<b>g.</b> Open the Inspector and select NPC. <br>
<b>h.</b> Under <b>moveSpots</b> hit <b>[+]</b> twice to add two Transforms variable slots. <br>
<b>i.</b> Fast-drag the two location point GOs into these new Transform variables slots. 
<br>
Hit <b>[Play]</b>: the NPC will move randomly between the points! Turn off Play to continue editing.</font><br>
<!--
<center>
  <font face="arial"><i>EnemyPatrolAttack.cs script:</i> [Script To Come]<br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>EnemyPatrolAttack : MonoBehaviour</b></font></font></font> { <br>
        <br>
        public Transform player; <br>
        public Transform nextPatrolTarget;<br>
        <br>
        public Transform patrolTarget1; <br>
        public Transform patrolTarget2; <br>
        public Transform patrolTarget3; <br>
        public Transform patrolTarget4; <br>
        public Transform patrolTarget5; <br>
        public Transform patrolTarget6; <br>
        public Transform patrolTarget7; <br>
        public Transform patrolTarget8; <br>
        <br>
        public float playerAttackDistance = 25f; <br>
        public float patrolSwitchThreshold1 = 8f;<br>
        public float patrolSwitchThreshold2 = 30f;<br>
        public float turnThreshold = 40f;<br>
        public float distToPlayer;<br>
        public float distToTarget;<br>
        public bool attackPlayer = false;<br>
        public bool getNextTarget = true;<br>
        <br>
        public Transform attackPoint;<br>
        public float attackRange = 10f;<br>
        public GameObject lavaSpherePrefab;<br>
        public ParticleSystem attackParticles;<br>
        public bool isAttacking = false;<br>
        private float attackTimer = 0;<br>
        public float attackRate = 0.2f;<br>
        <br>
        void Start() { <br>
        myAgent = GetComponent&lt;NavMeshAgent&gt;();<br>
        playerLoader = GetComponent&lt;NPC_LoadPlayers&gt;();<br>
        <br>
        nextPatrolTarget = patrolTarget1;<br>
        <br>
        //attackBlock.SetActive(false);<br>
        attackParticles.Stop();<br>
        <br>
        }<br>
        <br>
        void Update() {<br>
        //get distances to next target <br>
        distToTarget = Vector3.Distance(nextPatrolTarget.position, gameObject.transform.position);<br>
        <br>
        if ((player1Target != null)&amp;&amp; (player2Target != null)){<br>
        //get distances to players <br>
        distToPlayer1 = Vector3.Distance(player1Target.position, gameObject.transform.position);<br>
        distToPlayer2 = Vector3.Distance(player2Target.position, gameObject.transform.position);<br>
        <br>
        //is the player close enough to attack?<br>
        if ((distToPlayer1 &lt;= playerAttackDistance)&amp;&amp;(distToPlayer1 &lt; distToPlayer2)) { <br>
        attackPlayer1 = true;<br>
        } else { <br>
        attackPlayer1 = false;<br>
        }<br>
        <br>
        if ((distToPlayer2 &lt;= playerAttackDistance)&amp;&amp;(distToPlayer2 &lt; distToPlayer1)) { <br>
        attackPlayer2 = true;<br>
        } else { <br>
        attackPlayer2 = false;<br>
        }<br>
        }<br>
        <br>
        //am I moving towards the player or my next patrol location? <br>
        if (attackPlayer1 == true) {<br>
        myAgent.destination = player1Target.position;<br>
        if (distToPlayer1 &gt; turnThreshold){<br>
        transform.LookAt(player1Target);<br>
        }<br>
        isAttacking=true;<br>
        AttackPlayer();<br>
        } else if (attackPlayer2 == true) {<br>
        myAgent.destination = player2Target.position;<br>
        if (distToPlayer2 &gt; turnThreshold){<br>
        transform.LookAt(player2Target);<br>
        }<br>
        isAttacking=true;<br>
        AttackPlayer();<br>
        } else {<br>
        myAgent.destination = nextPatrolTarget.position;<br>
        if (distToTarget &gt; turnThreshold){<br>
        transform.LookAt(nextPatrolTarget);<br>
        }<br>
        isAttacking=false;<br>
        AttackPlayer();<br>
        }<br>
        <br>
        //have a I reached a patrol destination, so I should switch to the next?<br>
        if (distToTarget &lt;= patrolSwitchThreshold1){<br>
        if (getNextTarget == true){<br>
        StopCoroutine(FindNextPatrolTarget());<br>
        StartCoroutine(FindNextPatrolTarget());<br>
        }<br>
        getNextTarget = false;<br>
        } else if (distToTarget &gt;= patrolSwitchThreshold2){<br>
        getNextTarget = true;<br>
        }<br>
        <br>
        if (playerLoader.playersReady == true){<br>
        LoadPlayerTargets();<br>
        }<br>
        } <br>
        <br>
        void FixedUpdate(){<br>
        if (isAttacking == true){<br>
        attackTimer += 0.01f;<br>
        if (attackTimer &gt;= attackRate){<br>
        StartCoroutine(makeLava());<br>
        attackTimer = 0;<br>
        }<br>
        }<br>
        }<br>
        <br>
        public void OnCollisionEnter(Collision other){<br>
        Transform teleportBelow = GameObject.FindWithTag(&quot;FallRespawn&quot;).transform;
        </p>
        <br>
        if ((player1Target != null)&amp;&amp; (player2Target != null)){<br>
        if (other.gameObject.transform.parent != null){<br>
        if (other.gameObject.transform.parent.tag==&quot;Player1&quot;){<br>
        if(GameHandler.p1Health &lt;=0){<br>
        player1Target.position = teleportBelow.position;<br>
        Debug.Log(&quot;I am teleporting &quot; + GameHandler.player1Prefab + &quot; (Player 1) to &quot; + teleportBelow.position);<br>
        }<br>
        }<br>
        <br>
        if (other.gameObject.transform.parent.tag==&quot;Player2&quot;){<br>
        if (GameHandler.p2Health &lt;=0){<br>
        player2Target.position = teleportBelow.position;<br>
        Debug.Log(&quot;I am teleporting &quot; + GameHandler.player2Prefab + &quot; (Player 2) to &quot; + teleportBelow.position);<br>
        }<br>
        }<br>
        }<br>
        }<br>
        }<br>
        <br>
        <br>
        IEnumerator FindNextPatrolTarget(){<br>
        yield return new WaitForSeconds (0.1f); //pause at destination<br>
        Debug.Log(&quot;Current at &quot; + nextPatrolTarget + &quot;. Getting next target.&quot;);<br>
        if (nextPatrolTarget == patrolTarget1){nextPatrolTarget = patrolTarget2;}<br>
        else if (nextPatrolTarget == patrolTarget2){nextPatrolTarget = patrolTarget3;}<br>
        else if (nextPatrolTarget == patrolTarget3){nextPatrolTarget = patrolTarget4;}<br>
        else if (nextPatrolTarget == patrolTarget4){nextPatrolTarget = patrolTarget1;}<br>
        }<br>
        <br>
        <br>
        public void LoadPlayerTargets(){<br>
        //load players as targets when they appear:<br>
        if (GameObject.FindWithTag(&quot;Player1&quot;).transform.GetChild(0) != null) { <br>
        player1Target = GameObject.FindWithTag(&quot;Player1&quot;).transform.GetChild(0).GetComponent&lt;Transform&gt;(); <br>
        }<br>
        if (GameObject.FindWithTag(&quot;Player2&quot;).transform.GetChild(0) != null) { <br>
        player2Target = GameObject.FindWithTag(&quot;Player2&quot;).transform.GetChild(0).GetComponent&lt;Transform&gt;(); <br>
        }<br>
        }<br>
        <br>
        <br>
        //Attack<br>
        public void AttackPlayer(){<br>
        //if ((isAttacking==true)&amp;&amp;((distToPlayer1 &lt; 20f)||(distToPlayer2 &lt; 20f))){<br>
        if (isAttacking == true){<br>
        //attackBlock.SetActive(true);<br>
        attackParticles.Play();<br>
        } else {<br>
        //attackBlock.SetActive(false);<br>
        attackParticles.Stop();<br>
        }<br>
        }<br>
        <br>
        IEnumerator makeLava(){<br>
        GameObject lavaSphere = Instantiate(lavaSpherePrefab, attackPoint.position, Quaternion.identity);<br>
        yield return new WaitForSeconds(5.0f);<br>
        Destroy(lavaSphere);<br>
        }<br>
        <br>
        <br>
        //to help see the attack range in editor:<br>
        void OnDrawGizmosSelected(){<br>
        if (attackPoint == null) return; <br>
        Gizmos.DrawWireSphere(attackPoint.position, attackRange); <br>
        } <br>
        <br>
        } <br>
        <br>
        <br>
        } <br>
        <br>
      </font></td>
    </tr>
  </table>
</center>
-->
<br>
<font face=arial>
<em><b>ANIMATION NOTE:</b></em> The script below is desigend to include animation on the enemy: a default idle, a walk animation, and an attacking animation. Un-comment the anim lines to access them.</font>

<br><br>
<center>
<font face="arial"><i>NPC_PatrolRandomPoints.cs script:</i></font>
<br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial>
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br><font color=#3ab050><b>using</b></font> System.Collections;<br><font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font color=#31849b><b>public class </b></font><font color=#365f91><b>NPC_PatrolRandomPoints : MonoBehaviour</b></font> {<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> speed =  <font color=#ed6c0a><b>10f</b></font>;<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font> waitTime;<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> startWaitTime =  <font color=#ed6c0a><b>2f</b></font>;<br>
<br> 
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public</b></font> Transform[] moveSpots;<br> 
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>private int</b></font> randomSpot;<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//public Animator anim;</font><br>&nbsp; &nbsp; &nbsp;&nbsp; 	<font color=#31849b><b>private</b></font> <font color=#31849b><b>Vector3</b></font> theScale;<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> Renderer rend;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>private</b></font></font> GameHandler gameHandler;<br>&nbsp; &nbsp; &nbsp;&nbsp; 	<font color=#31849b><b>public</b></font> <font color=#31849b><b>bool</b></font> LeftRightCreature = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public bool</b></font> isAttacking = <font color=#365f91><b>false</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font> damage =<b><font color="#ed6c0a"> 10</font></b>;<br><br> 
<font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#31849b><b>void</b></font> Start(){<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; waitTime = startWaitTime;<br> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; randomSpot = Random.Range(<font color=#ed6c0a><b>0</b></font>, moveSpots.Length);<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>//anim = GetComponentInChildren&lt;Animator&gt;();</font><br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; theScale = transform.localScale;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend = GetComponentInChildren&lt;Renderer&gt;();
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>) != null) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  gameHandler = GameObject.FindWithTag (<font face="arial"><font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font></font>).GetComponent&lt;GameHandler&gt; ();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br> &nbsp; &nbsp; &nbsp;&nbsp; }<br>

<br> &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//move enemy to the destination (appears to stay put if there is no destination)</font><br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = <font color=#31849b><b>Vector2</b></font>.MoveTowards(transform.position, moveSpots[randomSpot].position, speed * Time.deltaTime);<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (Vector2.Distance(transform.position, moveSpots[randomSpot].position) &lt; <font color=#ed6c0a><b>0.2f</b></font>){<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (waitTime &lt;= <font color=#ed6c0a><b>0</b></font>){<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//assign new destination</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; randomSpot = Random.Range(<font color=#ed6c0a><b>0</b></font>, moveSpots.Length);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; waitTime = startWaitTime;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//anim.SetBool(&quot;Walk&quot;, true);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } 
<font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>//no new destination (stop moving) until time runs out</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; waitTime -= Time.deltaTime;<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//anim.SetBool(&quot;Walk&quot;, false);</font><br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//flip display of enemies that move left-to-right, based on movement direction vector</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (LeftRightCreature== <font color=#365f91><b>true</b></font>){<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//capture direction</font><br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3</b></font> posA = transform.position;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>Vector3</b></font> posB = moveSpots[randomSpot].position;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Destination - Origin</font><br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3</b></font> dir = (posB - posA).normalized;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;Enemy direction: &quot;</b></font> + dir);<br>
<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> moveDirection = dir.x;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (moveDirection &lt; <font color=#ed6c0a><b>0</b></font>){<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.localScale = theScale * <font color=#ed6c0a><b>-1</b></font>;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else if </b></font> (moveDirection &gt; <font color=#ed6c0a><b>0</b></font>){<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.localScale = theScale;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>else</b></font> { }<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//Injure the Player on contact:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public void</b></font></font> OnCollisionEnter2D(Collision2D collision){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (collision.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isAttacking = <font face=arial><font color=#365f91><b>true</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(&quot;Attack&quot;, true);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameHandler.playerGetHit(damage);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//rend.material.color = new Color(2.4f, 0.9f, 0.9f, 0.5f);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//StartCoroutine(HitEnemy());</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>void</b></font></font> OnCollisionExit2D(Collision2D collision){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (collision.gameObject.tag == <font face="arial"><font color=#ed6c0a><b>&quot;Player&quot;</b></font></font>) {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isAttacking = <font face=arial><font color=#365f91><b>false</b></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//anim.SetBool(&quot;Attack&quot;, false);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; IEnumerator HitEnemy(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>yield return new </b></font></font>WaitForSeconds(<font face="arial"><font color=#ed6c0a><b>0.5f</b></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend.material.color = Color.white;<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br><br>
}

<br></font></td>
</tr>
</table>
</center>

<br><br><br>

<font face=arial>
<a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02d8"></a>
<b><font color=purple>OPTION 3d.</font> Enemy Patrol Randomly Moving Around A Space</b> 
(<a href="https://youtu.be/8eWbSN2T8TE" target=patrol>source</a>, part 2)

<br><br>
<b>a.</b> Create an <b>Empty Game Object</b> called &quot;<b>NPC</b>&quot;. 
In the Inspector <b>reset Transforms</b>.<br>
<b>b.</b> Add a <b>BoxCollider2D</b> and a <b>RigidBody2D</b> (Gravity Scale = 0).<br>
<b>c.</b> Drag your <b>Sprite art</b> into the Hierarchy. Name it &quot;<b>NPC_art</b>&quot; and drag it onto NPC to make it a child. <br>
<b>d.</b> Create a new C# script called &quot;<b>NPC_PatrolRandomSpace.cs</b>&quot;. <br>
<b>e.</b> In your script editor add the content below, Save, and in Unity apply to NPC. <br>
<br>
<b>For the location points:</b> <br>
<b>f.</b> Create a new <b>Empty GOs</b> to act as location points. Name it &quot;<b>MoveSpot</b>&quot;.<br>
<b>g.</b> Open the Inspector and select NPC. <br>
<b>h.</b> Fast-drag <b>MoveSpot</b> into the moveSpot script slot. <br>
<b>i.</b> Set the <b>min</b> and <b>max</b> values to define the movement rectangle (you can create a temporary Empty GO to get position values).<br>
Hit <b>[Play]</b>: the NPC will move randomly between the points! Turn off Play to continue editing.<br>
</font><!--
<center>
  <font face="arial"><i>EnemyPatrolAttack.cs script:</i> [Script To Come]<br>
    </font>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine; <br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font><font face=arial><font color=#365f91><b>EnemyPatrolAttack : MonoBehaviour</b></font></font></font> { <br>
        <br>
        public Transform player; <br>
        public Transform nextPatrolTarget;<br>
        <br>
        public Transform patrolTarget1; <br>
        public Transform patrolTarget2; <br>
        public Transform patrolTarget3; <br>
        public Transform patrolTarget4; <br>
        public Transform patrolTarget5; <br>
        public Transform patrolTarget6; <br>
        public Transform patrolTarget7; <br>
        public Transform patrolTarget8; <br>
        <br>
        public float playerAttackDistance = 25f; <br>
        public float patrolSwitchThreshold1 = 8f;<br>
        public float patrolSwitchThreshold2 = 30f;<br>
        public float turnThreshold = 40f;<br>
        public float distToPlayer;<br>
        public float distToTarget;<br>
        public bool attackPlayer = false;<br>
        public bool getNextTarget = true;<br>
        <br>
        public Transform attackPoint;<br>
        public float attackRange = 10f;<br>
        public GameObject lavaSpherePrefab;<br>
        public ParticleSystem attackParticles;<br>
        public bool isAttacking = false;<br>
        private float attackTimer = 0;<br>
        public float attackRate = 0.2f;<br>
        <br>
        void Start() { <br>
        myAgent = GetComponent&lt;NavMeshAgent&gt;();<br>
        playerLoader = GetComponent&lt;NPC_LoadPlayers&gt;();<br>
        <br>
        nextPatrolTarget = patrolTarget1;<br>
        <br>
        //attackBlock.SetActive(false);<br>
        attackParticles.Stop();<br>
        <br>
        }<br>
        <br>
        void Update() {<br>
        //get distances to next target <br>
        distToTarget = Vector3.Distance(nextPatrolTarget.position, gameObject.transform.position);<br>
        <br>
        if ((player1Target != null)&amp;&amp; (player2Target != null)){<br>
        //get distances to players <br>
        distToPlayer1 = Vector3.Distance(player1Target.position, gameObject.transform.position);<br>
        distToPlayer2 = Vector3.Distance(player2Target.position, gameObject.transform.position);<br>
        <br>
        //is the player close enough to attack?<br>
        if ((distToPlayer1 &lt;= playerAttackDistance)&amp;&amp;(distToPlayer1 &lt; distToPlayer2)) { <br>
        attackPlayer1 = true;<br>
        } else { <br>
        attackPlayer1 = false;<br>
        }<br>
        <br>
        if ((distToPlayer2 &lt;= playerAttackDistance)&amp;&amp;(distToPlayer2 &lt; distToPlayer1)) { <br>
        attackPlayer2 = true;<br>
        } else { <br>
        attackPlayer2 = false;<br>
        }<br>
        }<br>
        <br>
        //am I moving towards the player or my next patrol location? <br>
        if (attackPlayer1 == true) {<br>
        myAgent.destination = player1Target.position;<br>
        if (distToPlayer1 &gt; turnThreshold){<br>
        transform.LookAt(player1Target);<br>
        }<br>
        isAttacking=true;<br>
        AttackPlayer();<br>
        } else if (attackPlayer2 == true) {<br>
        myAgent.destination = player2Target.position;<br>
        if (distToPlayer2 &gt; turnThreshold){<br>
        transform.LookAt(player2Target);<br>
        }<br>
        isAttacking=true;<br>
        AttackPlayer();<br>
        } else {<br>
        myAgent.destination = nextPatrolTarget.position;<br>
        if (distToTarget &gt; turnThreshold){<br>
        transform.LookAt(nextPatrolTarget);<br>
        }<br>
        isAttacking=false;<br>
        AttackPlayer();<br>
        }<br>
        <br>
        //have a I reached a patrol destination, so I should switch to the next?<br>
        if (distToTarget &lt;= patrolSwitchThreshold1){<br>
        if (getNextTarget == true){<br>
        StopCoroutine(FindNextPatrolTarget());<br>
        StartCoroutine(FindNextPatrolTarget());<br>
        }<br>
        getNextTarget = false;<br>
        } else if (distToTarget &gt;= patrolSwitchThreshold2){<br>
        getNextTarget = true;<br>
        }<br>
        <br>
        if (playerLoader.playersReady == true){<br>
        LoadPlayerTargets();<br>
        }<br>
        } <br>
        <br>
        void FixedUpdate(){<br>
        if (isAttacking == true){<br>
        attackTimer += 0.01f;<br>
        if (attackTimer &gt;= attackRate){<br>
        StartCoroutine(makeLava());<br>
        attackTimer = 0;<br>
        }<br>
        }<br>
        }<br>
        <br>
        public void OnCollisionEnter(Collision other){<br>
        Transform teleportBelow = GameObject.FindWithTag(&quot;FallRespawn&quot;).transform;
        </p>
        <br>
        if ((player1Target != null)&amp;&amp; (player2Target != null)){<br>
        if (other.gameObject.transform.parent != null){<br>
        if (other.gameObject.transform.parent.tag==&quot;Player1&quot;){<br>
        if(GameHandler.p1Health &lt;=0){<br>
        player1Target.position = teleportBelow.position;<br>
        Debug.Log(&quot;I am teleporting &quot; + GameHandler.player1Prefab + &quot; (Player 1) to &quot; + teleportBelow.position);<br>
        }<br>
        }<br>
        <br>
        if (other.gameObject.transform.parent.tag==&quot;Player2&quot;){<br>
        if (GameHandler.p2Health &lt;=0){<br>
        player2Target.position = teleportBelow.position;<br>
        Debug.Log(&quot;I am teleporting &quot; + GameHandler.player2Prefab + &quot; (Player 2) to &quot; + teleportBelow.position);<br>
        }<br>
        }<br>
        }<br>
        }<br>
        }<br>
        <br>
        <br>
        IEnumerator FindNextPatrolTarget(){<br>
        yield return new WaitForSeconds (0.1f); //pause at destination<br>
        Debug.Log(&quot;Current at &quot; + nextPatrolTarget + &quot;. Getting next target.&quot;);<br>
        if (nextPatrolTarget == patrolTarget1){nextPatrolTarget = patrolTarget2;}<br>
        else if (nextPatrolTarget == patrolTarget2){nextPatrolTarget = patrolTarget3;}<br>
        else if (nextPatrolTarget == patrolTarget3){nextPatrolTarget = patrolTarget4;}<br>
        else if (nextPatrolTarget == patrolTarget4){nextPatrolTarget = patrolTarget1;}<br>
        }<br>
        <br>
        <br>
        public void LoadPlayerTargets(){<br>
        //load players as targets when they appear:<br>
        if (GameObject.FindWithTag(&quot;Player1&quot;).transform.GetChild(0) != null) { <br>
        player1Target = GameObject.FindWithTag(&quot;Player1&quot;).transform.GetChild(0).GetComponent&lt;Transform&gt;(); <br>
        }<br>
        if (GameObject.FindWithTag(&quot;Player2&quot;).transform.GetChild(0) != null) { <br>
        player2Target = GameObject.FindWithTag(&quot;Player2&quot;).transform.GetChild(0).GetComponent&lt;Transform&gt;(); <br>
        }<br>
        }<br>
        <br>
        <br>
        //Attack<br>
        public void AttackPlayer(){<br>
        //if ((isAttacking==true)&amp;&amp;((distToPlayer1 &lt; 20f)||(distToPlayer2 &lt; 20f))){<br>
        if (isAttacking == true){<br>
        //attackBlock.SetActive(true);<br>
        attackParticles.Play();<br>
        } else {<br>
        //attackBlock.SetActive(false);<br>
        attackParticles.Stop();<br>
        }<br>
        }<br>
        <br>
        IEnumerator makeLava(){<br>
        GameObject lavaSphere = Instantiate(lavaSpherePrefab, attackPoint.position, Quaternion.identity);<br>
        yield return new WaitForSeconds(5.0f);<br>
        Destroy(lavaSphere);<br>
        }<br>
        <br>
        <br>
        //to help see the attack range in editor:<br>
        void OnDrawGizmosSelected(){<br>
        if (attackPoint == null) return; <br>
        Gizmos.DrawWireSphere(attackPoint.position, attackRange); <br>
        } <br>
        <br>
        } <br>
        <br>
        <br>
        } <br>
        <br>
      </font></td>
    </tr>
  </table>
</center>
-->
<br>
<center>
<font face="arial"><i>NPC_PatrolRandomSpace.cs script:</i></font>
<br>
<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial>
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br><font color=#3ab050><b>using</b></font> System.Collections;<br><font color=#3ab050><b>using</b></font> UnityEngine;<br><br>
<font color=#31849b><b>public class </b></font><font color=#365f91><b>NPC_PatrolRandomSpace : MonoBehaviour</b></font> {<br>
<br>
 <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> speed =  <font color=#ed6c0a><b>10f</b></font>;<br>
 <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font> waitTime;<br>
 <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> startWaitTime =  <font color=#ed6c0a><b>2f</b></font>;<br>
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font> Transform moveSpot;<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> minX;<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> maxX;<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> minY;<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font> maxY;<br>
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void </b></font>Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; waitTime = startWaitTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> randomX = Random.Range(minX, maxX);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> randomY = Random.Range(minY, maxY);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; moveSpot.position = new <font color=#31849b><b>Vector2</b></font>(randomX, randomY);<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = <font color=#31849b><b>Vector2</b></font>.MoveTowards(transform.position, moveSpot.position, speed * Time.deltaTime);<br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (Vector2.Distance(transform.position, moveSpot.position) &lt; <font color=#ed6c0a><b>0.2f</b></font>){<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (waitTime &lt;= <font color=#ed6c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>float</b></font> randomX = Random.Range(minX, maxX);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>float</b></font> randomY = Random.Range(minY, maxY);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>moveSpot.position = new <font color=#31849b><b>Vector2</b></font>(randomX, randomY);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>waitTime = startWaitTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>} <font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>waitTime -= Time.deltaTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>}<br><br>
</font></td>
</tr>
</table>
</center>
<font face=arial>
<br>
<br>
</font>

<center>
<font face="arial">
<a href="#top"><img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt=""></a>
<b>GAZE OF DEATH</b>
<a href="#top"><img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt="">
<img src="gamedesign/bullet.png" alt=""></a>

<br>
4a. NPC Rotates in Place and <a href="#02d9">Destroys Player</a>

&nbsp; | &nbsp; 

4b. <a href="#02d9b">Spot Player</a> to Raise NPC Alertness

</font>
</center>

<br>
<font face=arial>
<a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02d9">&nbsp;</a>

<b><font color=purple>OPTION 4a.</font></b> 
<b>Rotating Gaze of Death</b> (great for stealth gameplay. See below for <a href="#02d9b">moving gaze</a>.) 
<br>
This enemy is good for stealth mechanics: it looks around with a laser, and destroys what it sees!
<br>
Alternatively, gaze-contact could initiate Enemy following and/or attacking. 

<br><br>
The player can avoid the gaze by sneaking behind them or obstacles, and could attack from behind. 
<br>
For a 2D game rotating &quot;forward&quot; means to rotate on the Z-axis, the axis perpendicular to the screen plane (the only axis of rotation for a 2D game).
<br> 
<br>
This enemy uses the Unity <b>Line Renderer</b> effect to show the gaze-line in the Game view. 
<br>This could be replaced with a<b> .PNG spritesheet</b> for animation. <br>
<b>Debug.drawline</b> shows the full line in the Scene view. <br><br>
<b>1. Build the Enemy:</b><br>
<b>a.</b> Create an Empty Game Object. Name it NPC_DeathGaze.
 Reset Transforms (0,0,0).<br>
<b>b.</b> Drag your <b>Sprite art</b> into the Hierarchy. Name it &quot;<b>NPC_DeathGaze_art</b>&quot;.  Reset Transforms (0,0,0).<br>
<b>c.</b>  Set &quot;Order in Layer&quot; = 90. Apply / Add tag &quot;enemy&quot;. Drag it onto NPC_DeathGaze to make it a child.<br><b>d.</b> Add to NPC_DeathGaze:<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; [Add </font>Component] <b>Physics2D &gt; Rigidbody2D,</b> set <b>Mass = 10</b> and <b>Gravity Scale = 0</b>.<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; [Add </font>Component] <b>Physics2D &gt; Collider2D</b> (box or circle, set size to surround child art).<br><br>
<b>2. Add the behavior script:<br>
 a.</b> Create a new C# script called &quot;<b>EnemyGazeMove.cs</b>&quot;. 
In your script editor add content below. Save.<br>
<b>b. </b>In Unity apply the script to NPC_DeathGaze. <b>Set the 2 colors</b> in  script slots (redColor and greenColor).<br><br>
</font>
<center>
  <font face="arial"><i>EnemyGazeMove.cs script:</i></font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>EnemyGazeMove : MonoBehaviour</b></font> {<br>
<br>
	<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> <font color=#31849b><b>float</b></font> rotationSpeed = <font color=#ed6c0a><b>30</b></font>;<br>	
	<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> <font color=#31849b><b>float</b></font> distance = <font color=#ed6c0a><b>50</b></font>;<br>	
	<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> LineRenderer lineOfSight;<br>	
	<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> Gradient redColor;<br>	
	<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> Gradient greenColor;<br>	
	<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> <font color=#31849b><b>GameObject</b></font> hitEffectAnim;<br>
<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> <font color=#31849b><b>int</b></font> EnemyLives = <font color=#ed6c0a><b>30</b></font>;<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private </b></font> <font color=#31849b><b>Renderer</b></font> rend;<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private</b></font> GameController gameControllerObj;<br>
<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Start() {<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Physics2D.queriesStartInColliders = <font color=#365f91><b>false</b></font>;<br>
<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>rend = GetComponent&lt;<font color=#31849b><b>Renderer</b></font>&gt;();<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>GameObject gameControllerLocation = GameObject.FindWithTag (<font color=#ed6c0a><b>&quot;GameController&quot;</b></font>);<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (gameControllerLocation != null) {<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>gameControllerObj = gameControllerLocation.GetComponent&lt;GameController&gt;();<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> FixedUpdate () {<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>transform.Rotate (<font color=#31849b><b>Vector3</b></font>.forward * rotationSpeed * Time.deltaTime);<br>
<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>
<font color=gray>// Raycast needs location, Direction, and length</font>
<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>RaycastHit2D hitInfo = Physics2D.Raycast (transform.position, transform.right, distance);<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (hitInfo.collider != null) {<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Debug.DrawLine(transform.position, hitInfo.point, Color.red);<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>lineOfSight.SetPosition(<font color=#ed6c0a><b>1</b></font>, hitInfo.point); <font color=gray>// index 1 is the end-point of the line</font>
<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>lineOfSight.colorGradient = redColor;<br>
<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> ((hitInfo.collider.CompareTag (<font color=#ed6c0a><b>&quot;Player&quot;</b></font>)) || (hitInfo.collider.CompareTag (<font color=#ed6c0a><b>&quot;enemy&quot;</b></font>))) {<br>				
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>GameObject animEffect = Instantiate (hitEffectAnim, hitInfo.point, Quaternion.identity);<br>				
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Destroy(animEffect, <font color=#ed6c0a><b>0.5f</b></font>);<br>				
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Destroy (hitInfo.collider.gameObject);<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>} <font color=#3ab050><b>else</b></font> {<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Debug.DrawLine(transform.position, transform.position + transform.right * distance, Color.green);<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>lineOfSight.SetPosition(<font color=#ed6c0a><b>1</b></font>, transform.position + transform.right * distance);<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>lineOfSight.colorGradient = greenColor;<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>lineOfSight.SetPosition (<font color=#ed6c0a><b>0</b></font>, transform.position); <font color=gray>// index 0 is the start-point of the line</font><br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br>
<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> OnCollisionEnter2D(Collision2D collision){<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (collision.gameObject.tag == <font color=#ed6c0a><b>&quot;bullet&quot;</b></font>) {
<font color=gray>// destroy player / enemy projectiles</font><br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>EnemyLives -= <font color=#ed6c0a><b>1</b></font>;<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>StopCoroutine(<font color=#ed6c0a><b>&quot;HitEnemy&quot;</b></font>);<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>StartCoroutine(<font color=#ed6c0a><b>&quot;HitEnemy&quot;</b></font>);<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>else if</b></font> (collision.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>) {<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>EnemyLives -= <font color=#ed6c0a><b>1</b></font>;<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>StopCoroutine(<font color=#ed6c0a><b>&quot;HitEnemy&quot;</b></font>);<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>StartCoroutine(<font color=#ed6c0a><b>&quot;HitEnemy&quot;</b></font>);<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>IEnumerator</b></font></font> HitEnemy(){<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>
<font color=gray>// color values are R, G, B, and alpha, each divided by 100</font><br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>rend.material.color = new Color(<font color=#ed6c0a><b>2.4f</b></font>, <font color=#ed6c0a><b>0.9f</b></font>, <font color=#ed6c0a><b>0.9f</b></font>, <font color=#ed6c0a><b>0.5f</b></font>);<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (EnemyLives < <font color=#ed6c0a><b>1</b></font>){<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>gameControllerObj.AddScore (<font color=#ed6c0a><b>10</b></font>);<br>			
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Destroy(gameObject);<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>else</b></font> {<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#365f91><b>yield return new </b></font></font> WaitForSeconds(<font color=#ed6c0a><b>0.5f</b></font>);<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>rend.material.color = Color.white;<br>	
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
}<br><br>
      </font></td>
    </tr>
  </table>
</center>
<p><font face=arial> <br>
  <br>
  <b>3. Add the Laser / Line Renderer:</b><br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><b>a.</b> Create a new Empty Game Object. 
    In Inspector name it "<b>LineOfSight</b>". Reset Transforms.<br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><b>b.</b> Drag it onto NPC_DeathGaze to parent it beneath.<br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><b>c.</b> [Add Component] <b>Effect &gt; Line Renderer. </b>
  <br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>(Turn OFF Use World Space to see it follow the parent in-Scene, but turn it ON to follow in-Game). <br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><b>d.</b> Under Positions set <b>Index 0</b> to<b> Z= 0</b>, and set <b>Index 1</b> to <b>X=1</b> and <b>Z=0</b>. <br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><b>e.</b> Change color from the default purple with a <b>Material:</b><br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Click  the hotspot to right of <b>Element0</b>, choose white &quot;<b>Sprites_Default</b>&quot; material. <br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Toward bottom, set &quot;<b>Order In Layer</b>&quot; = 95. <br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><b>f.</b> Reduce the Line Renderer <b>Width</b> (try <b>0.25</b>). <br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;<b> g. </b></font>Change Material placeholder color by clicking the rectangle. <br>
  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><b>h.</b> Select the EnemyGaze and <b>drag </b>the<b> LineOfSight </b> into the script slot. 
  </font>
  
  <br><br><br><br>
  
  <font face=arial><b><font face=arial><a href="#02d"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02d9b">&nbsp;</a></font><font color=purple>OPTION 4b.</font></b> <b> Moving Gaze of &quot;Hey, stop right there!&quot;</b> (for moving guards in stealth gameplay) 
  <br>
    To create moving guards that can react if they see you:
    <br>
    <br>
    <li> Start with the simplest <b>NPC_PatrolSequencePoints</b> system (<a href="#02d6" target=newpatrol>Option 3b</a>, above) to manage movement. 
    <br>
    <font face=arial>&nbsp; &nbsp;</font>Set Collider on guard = <b>isTrigger</b>. <br><br>
  
    <li> Add the <b>C# script below</b>. 
    <br>
    <font face=arial>&nbsp; &nbsp;</font>In the Inspector <b>set the gradient colors</b> for green (all-clear) and red (I-see-you).
    <br>
    <font face=arial>&nbsp;&nbsp; </font>Note the option for isVertical. If you arrange a vertical patrol for your guard, click this option in the gaze.    
    
    <br><br>
    <li> Follow Option4a step 3, directly above, for the <b>Laser / Line Renderer</b>.</p>
<center>
  <font face="arial"><i>NPC_Gaze_ForPatrol.cs script:</i></font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial> <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class </b></font><font color=#365f91><b>NPC_Gaze_ForPatrol : MonoBehaviour</b></font> {<br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> <font color=#31849b><b>bool</b></font> isVertical = <font color=#365f91><b>false</b></font>;<br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> <font color=#31849b><b>float</b></font> distance = <font color=#ed6c0a><b>50</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> LineRenderer lineOfSight;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> Gradient redColor;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> Gradient greenColor;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public </b></font> <font color=#31849b><b>Vector3</b></font> rayDirection;<br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private </b></font> <font color=#31849b><b>Renderer</b></font> rend;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private</b></font> GameHandler gameHandler;<br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private </b></font> <font color=#31849b><b>bool</b></font> canHit = <font color=#365f91><b>true</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private </b></font> <font color=#31849b><b>float</b></font> coolDown =<font color=#ed6c0a><b> 0.5f</b></font>;<br>
        <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//public Transform tempCircle; //test where ray hits, 1/2</font>
        
        <br>
<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Start() {<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>Physics2D.queriesStartInColliders = <font color=#365f91><b>false</b></font>;<br>
        <br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>rend = GetComponentInChildren&lt;<font color=#31849b><b>Renderer</b></font>&gt;();<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (GameObject.FindWithTag (<font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font>) != null) {<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;</font>gameHandler = GameObject.FindWithTag (<font color=#ed6c0a><b>&quot;GameHandler&quot;</b></font>).GetComponent&lt;GameHandler&gt;();

<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> FixedUpdate () {
<br>
<font face=arial> <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// allow designers to choose vertical or horizontal patrol paths:</font>

<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (isVertical == false){

<br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> isRight = GetComponent&lt;NPC_PatrolSequencePoints&gt;().faceRight;
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (isRight){rayDirection = transform.right;}

<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>else</b></font> {rayDirection = -transform.right;}
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font face=arial><font color=#3ab050><b>else</b></font></font> { <br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> isRight = GetComponent&lt;NPC_PatrolSequencePoints&gt;().faceRight;
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (isRight){rayDirection = transform.up;}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#3ab050><b>else</b></font></font> {rayDirection = -transform.up;}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// Raycast needs location, Direction, and length</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>RaycastHit2D hitInfo = Physics2D.Raycast (transform.position, transform.right, distance);

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// tempCircle.position = hitInfo.point; //test where ray hits 2/2</font>

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (hitInfo.collider != null)  { 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>// if ray hits player, set it to red and add commands for alerted guard</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
<font color=#3ab050><b>if</b></font> (hitInfo.collider.CompareTag (<font color=#ed6c0a><b>&quot;Player&quot;</b></font>)) {
        
<br>
<font face=arial> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.DrawLine(transform.position, hitInfo.point, Color.red); 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.SetPosition(<font face=arial><font color=#ed6c0a><b>1</b></font></font>, hitInfo.point); 
<font color=gray>// index 1 is line end-point</font> 

<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.colorGradient = redColor; 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font face=arial><font color=#3ab050><b>if</b></font></font> (canHit){ 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(Enemy_Alert(<font color=#ed6c0a><b>1</b></font>));

<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(EnemyCoolDown()); 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;Oops -- Guard saw me.&quot;</b></font>);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;}
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}
<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>// if ray hits not player, set it to green</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>else if</b></font> (!hitInfo.collider.CompareTag (<font color=#ed6c0a><b>&quot;Player&quot;</b></font>)) {<br>
<font face=arial> &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.DrawLine(transform.position, hitInfo.point, Color.green);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.SetPosition(<font face=arial><font color=#ed6c0a><b>1</b></font></font>, hitInfo.point); <font color=gray>// index 1 is line end-point</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.colorGradient = greenColor;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>} 

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>// if ray hits nothing, set it to green</font>

<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> {
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.DrawLine(transform.position, transform.position + rayDirection * distance, Color.green);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.SetPosition(<font color=#ed6c0a><b>1</b></font>, transform.position + rayDirection * distance);<font face=arial> <font color=gray>// index 1 is line end</font></font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.colorGradient = greenColor;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
        
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.SetPosition (<font color=#ed6c0a><b>0</b></font>, transform.position); 
<font color=gray>// index 0 is the line start-point</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>// if player touches the guard:</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>void</b></font> OnTriggerEnter2D(Collider2D other){
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>) &amp;&amp; (canHit)) {<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(Enemy_Alert(<font color=#ed6c0a><b>2</b></font>)); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(EnemyCoolDown()); <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;Ack -- Hit a Guard.&quot;</b></font>); </font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// raise enemy alertness, flash enemy color:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>IEnumerator</b></font> Enemy_Alert(<font color=#31849b><b>int</b></font> amt){<font face=arial><br>
</font>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>float</b></font></font> pauseTime = <font color=#ed6c0a><b>1f</b></font> * amt;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>// color values are R, G, B, and alpha, each divided by 100</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend.material.color = new Color(<font color=#ed6c0a><b>2.4f</b></font>, 
<font color=#ed6c0a><b>0.9f</b></font>, 
<font color=#ed6c0a><b>0.9f</b></font>, 
<font color=#ed6c0a><b>0.5f</b></font>);
<br>
<font face=arial><font face=arial><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// alert GameHandler to increase guard alertness: a function that</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// increases a static int. If it gets too high, guards chase, go faster, etc.</font></font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// gameHandler.EnemyAlertness(amt)</font> <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;Enemy alertness increased by &quot;</b></font><font face=arial><font face=arial>+ amt</font></font>);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#365f91><b>yield return new </b></font> WaitForSeconds(pauseTime);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; rend.material.color = Color.white;<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// cooldown prevents enemy from destroying player with one gaze:</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>IEnumerator</b></font> EnemyCoolDown(){
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.colorGradient = redColor;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; canHit = <font color=#365f91><b>false</b></font>;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;canHit &quot;</b></font>+ canHit);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=#365f91><b>yield return new </b></font> WaitForSeconds(coolDown);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; canHit = <font color=#365f91><b>true</b></font>;
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Debug.Log(<font color=#ed6c0a><b>&quot;canHit &quot;
</b></font> + canHit);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineOfSight.colorGradient = greenColor;<br>
&nbsp; &nbsp; &nbsp;&nbsp; }
<br>}
<br><br>
</font></td>
    </tr>
  </table>
</center>

<br></td></tr></table>
</div></td>
</tr></table>

<br>

<a name="02e">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion3">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [2E]</b> <b>NPC FRIENDLIES: CHAT AND FOLLOW</b>
&nbsp; &nbsp; &nbsp; 
</font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
  <font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>
  <font size=+2 color=purple><b>[2E]:</b></font></font> <font face="arial"><b>NPC FRIENDLIES</b>
  
<br>
<em><b>Monologue listen</b></em> to any number of <a href="#02e1"><b>Friendly NPCs</b></a> (also <b>Road Signs</b>, <b>Treasure Boxes</b>, etc)
<br>
<em><b>Dialogue chat</b></em> with any number of <a href="#02e1b"><b>Friendly NPCs</b></a>, back and forth scripted responses.
<br>
  <a href="#02e2"><b>NPC Follow / Battle Buddies</b></a> (to fight with the player against enemies)
</font></center><font face="arial">

<br><br><br>
<a href="#02e"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02e1"></a>
<font color=purple><b>NPC COMMUNICATION BASIC:</b></font><b> CHARACTER MONOLOGUE: 
</b><br>
<em><b>SUMMARY:</b></em> Create any number of NPC characters to go about their daily business until approached by the Player, and then give a sequence of (informative? snarky?) sentences in a dialogue block. 

Also works with signage, treasure boxes, etc.<br>
<br>

<br>
<table width=400 cellpadding=10 border=1 bgcolor=#cfcfcf align=right><tr>
  <td><font face=arial><b>Want an <em>animated</em> NPC?</b> 
    <br>
    <b>1). </b>Create a  <b>spritesheet</b> PNG with enough frames for these <b>two</b> animation clips. <br>
    <a href="#top"><img src="gamedesign/bullet.png" alt=""></a> <b>Work</b> (what they do when the player is not interacting with them: rake the lawn, etc) <br>
    <a href="#top"><img src="gamedesign/bullet.png" alt=""></a> <b>Chat</b> (how they animate when speaking)
    
  <br><br>
  <b>2).</b> Set <b>properties</b> in <b>Inspector</b>: <br>
  &nbsp; &nbsp; &nbsp; &nbsp;Sprite Mode = <b>Multiple</b>, Pixels Size = <b>16</b>, 
    Filter Mode = <b>Point (no filter),</b>  Compression = <b>None</b>. <br>
  &nbsp; &nbsp; &nbsp; &nbsp;Hit <b>[Apply]. </b>Open the<b> [Sprite Editor]</b>, choose <b>slice by cell count</b>, set r/c, hit <b>[Slice]</b> and <b>[Apply]</b>. 
    
  <br><br>
  <b>3).</b> <b>Drag</b> the first frame into <b>Hierarchy</b>. <br>
  &nbsp; &nbsp; &nbsp; &nbsp;In the Inspector name it &quot;<b>NPC_[name]_art</b>&quot; 
  <br>
  &nbsp; &nbsp; &nbsp; &nbsp;<b>Reset</b> Transforms. <br>
  &nbsp; &nbsp; &nbsp; &nbsp;<b>Drag</b> it onto NPC_chat to make it a child.
    
  <br>
  <br>
  <b>4).</b> Set up animation and State Machine for  the NPC: <br>
  <b>a. </b>In your Project panel Assets folder   create <b>new folders for Media &gt; Animation</b> (if needed). <br><br>
  <b>b.</b> Open <b>Window &gt; Animation &gt; Animation</b> to create 2 clips and save them to Animation folder: <br>
  &nbsp; &nbsp; &nbsp; &nbsp;NPC_name_work_anim 
  <br>
  &nbsp; &nbsp; &nbsp; &nbsp;NPC_name_chat_anim 
  <br>(replace &quot;name&quot; with the  character name)
    
  <br><br>
  <b>c.</b> DoubleClick the Animator created with those clips to open the Animator panel. 
    
  <br><br>
  <b>d.</b> RightClick NPC_name_work_anim to set it to the default (will become orange). 
    
  <br><br>
  <b>e.</b> RightClick NPC_name_work_anim to create transition to 
    NPC_name_chat_anim, and vice-versa.
    
  <br><br>
  <b>f.</b> In the Parameters tab on the left of the Animator window, create a bool named &quot;Chat&quot;. 
    
  <br><br>
  <b>g.</b> Select the transition arrow from NPC_name_work_anim to NPC_name_chat_anim, and in the Inspector hit [+] to add a new Condition (will auto-set to Chat and true). 
    
  <br><br>
  <b>h.</b> Select the reverse transition arrow (from NPC_name_chat_anim to NPC_name_work_anim), and in the Inspector hit [+] to add a new Condition. The will auto-set to Chat and true -- set it to false.
  <br><br>
  <b>5).</b> In the NPCDialogues.cs cripts below, <b>uncomment</b> all commands with Animator or anim! </font></td></tr></table>


<b>[1] CREATE THE NPC: </b><br>
<b>a.</b> Create and import <b>NPC character art</b> 
<br>(<b>64x64</b> to match  Player character, or as desired). 

<br>
If it is just a single sprite pixel art image (animation is not required to test this script): <br>
<img src="gamedesign/bullet.png" alt=""> Set <b>properties</b> in Inspector:<br>&nbsp; &nbsp; &nbsp; &nbsp;Pixels Size = <b>16</b><br>
&nbsp; &nbsp; &nbsp; &nbsp;Filter Mode = <b>Point (no filter)</b><br>
&nbsp; &nbsp; &nbsp; &nbsp;Compression = <b>None</b>.<br>
&nbsp; &nbsp; &nbsp; &nbsp;Hit <b>[Apply].</b><br>
<img src="gamedesign/bullet.png" alt=""> Drag the sprite into Hierarchy.<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>NPC_[name]_art</b>&quot;<br>
<img src="gamedesign/bullet.png" alt=""> <b>Reset</b> Transforms.<br><br>
<b>b.</b> Create a GameObject &gt; <b>Empty GameObject</b>. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>NPC_chat</b>&quot; <br>
<img src="gamedesign/bullet.png" alt=""> <b>Reset </b>Transforms.


<br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> NPC art onto NPC_chat to make it a child. 
<br>
<img src="gamedesign/bullet.png" alt=""> In Inspector set &quot;Order in layer&quot; = 90.<br><br>
<b>c.</b> Add <b>two colliders</b> to NPC_chat: <br>
<img src="gamedesign/bullet.png" alt=""> Select the NPC_chat object.<br>
<img src="gamedesign/bullet.png" alt=""> <b>[Add Component]</b>  Physics 2D &gt; <b>BoxCollider2D</b>.
<br>
<img src="gamedesign/bullet.png" alt=""> Change the size of the first one to closely surround the NPC form (to block player movement). <br>
<img src="gamedesign/bullet.png" alt=""> Change the second one to isTrigger, and extend its Collider outward to the sides and below, for the space the Player can stand to chat with this NPC. <br><br><br>

<b>[2] CREATE THE UI ELEMENTS: <br>
a.</b> Select your <b>Canvas</b>, if it exists,<br>
(If not, GameObject &gt; UI &gt; Canvas. Set  <b>Canvas Scaler &gt; UI Scale Mode</b> from &quot;Constant Pixel Size&quot; to &quot;<b>Scale With Screen Size</b>&quot;. Set size to <b>1280</b> x <b>720</b>.).<br>
<img src="gamedesign/bullet.png" alt=""> RightClick Canvas, choose <b> UI &gt; Image</b>.<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>MONOLOGUE_BOX</b>&quot;.<br>
Zoom out in the Scene view to see the entire Canvas (can select the Canvas and in the Scene hit [<b>f</b>]).<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector set the image size for the full Canvas (1280x720) and set color alpha=0 (fully transparent). 
<br>Also, to allow click-through, uncheck <strong>Raycast Target</strong>.<br><br>
<b>b.</b> RightClick MONOLOGUE_BOX to create a second <b>UI &gt; Image</b> (centered as a child under it).<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>MonologueBG</b>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Size 600 x 150 and move  to fit in  the bottom third of the Canvas. Set color alpha=0.<br>
<img src="gamedesign/bullet.png" alt=""> Optionally add framing art to this ImageSprite.<br>
<br>
<b>c.</b> RightClick DialogueBG to create&nbsp;a <b> UI &gt; </b><strong>Text-TextMeshPro</strong> (centered as a child under MonologueBG).<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>TextMonologue</b>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Size 590 x 140 and move to fit MonologueBG.<br>
<img src="gamedesign/bullet.png" alt=""> Set <b>Font</b> Size = 30 and <b>color</b> = black.<br>
<img src="gamedesign/bullet.png" alt=""> Set text field to an ellipsis: "...".<br><br>
<b>d.</b> RightClick DialogueBG to create&nbsp;a<b> UI &gt;  Button</b><strong>-TextMeshPro</strong>.<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>ButtonNext</b>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Scale and move ButtonNext to fit in the lower-right corner of MonologueBG: 100 x 60.<br>
<img src="gamedesign/bullet.png" alt=""> Set the button Normal and Highlight colors.<br>
<img src="gamedesign/bullet.png" alt=""> In the child Text object, set text field to &quot;NEXT&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Set <b>Font</b> Size = <b>35</b>, Style = <b>Bold</b>, and <b>color</b> = black.<br>
<img src="gamedesign/bullet.png" alt=""> Set <b>Navigation</b> from &quot;Automatic&quot; to <b>&quot;None</b>&quot;.<br>
<br>
<br>
<b>[3] CREATE THE DIALOGUE MANAGER: </b><br>
<b>a.</b> Create&nbsp;an empty game object: <b>GameObject &gt; Empty</b>. 

<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>MonologueManager</b>&quot;. 
<br>
<img src="gamedesign/bullet.png" alt=""> <b>Reset</b> the Transforms. 

<br><br>
<b>b. </b>In the Inspector add a new <b>TAG</b>: &quot;<b>MonologueManager</b>&quot;: 
<br>
<img src="gamedesign/bullet.png" alt=""> Find &quot;tag&quot; near the top of the Inpector. Hit Untagged, choose AddTag. Hit [+] and type.  
<br>
<img src="gamedesign/bullet.png" alt=""> Re-select the MonologueManager Object and add this <b>tag</b>. <br><br><br>
<b>[4] CREATE THE TWO SCRIPTS: </b><br>
<b>a.</b> Create a new C# script &quot;<b>NPCMonologueManager.cs</b>&quot; with the content below. 
<br><br>
<b>b.</b> Select the  <b>MonologueManager</b> object and add this script. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector, fast-drag <b>MONOLOGUE_BOX</b> and <b>TextMonologue</b> from the Canvas into the <b>script slots</b>.<br>
<img src="gamedesign/bullet.png" alt=""> Open the Array and hit <b>[+]</b> for as many <b>lines of monologue</b> you desire and type them in (for testing). <br><br>
<b>c.</b> Set <b>ButtonNext:</b><br>
<img src="gamedesign/bullet.png" alt=""> Select ButtonNext, and in the Inspector,

near bottom, add an <b>OnClick</b> function <b>[+]</b>. <br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the MonologueManager into the &quot;None&quot; slot.  
<br>
<img src="gamedesign/bullet.png" alt=""> Set the <b>function</b> to NPCMonologueManager &gt; MonologueNext().<br>
<br>
  </font>
<center>
  <font face="arial"><i>NPCMonologueManager.cs script:</i></font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br />
        <font color="#3ab050"><b>using</b></font> TMPro;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>NPCMonologueManager : MonoBehaviour</b></font> {<br>
<br> 
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public</b></font> <font color=#31849b><b>GameObject</b></font> monologueBox;<br> 
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public TMP_Text</b></font> monologueText;<br> 
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public string</b></font><b>[]</b> monologue;<br> 
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public int</b></font> counter = <font color=#ed6c0a><b>0</b></font>;<br> 
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public int</b></font> monologueLength;<br>
<br>    
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>void</b></font> Start(){<br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueBox.SetActive(<b><font color="#365f91" face="arial">false</font></b>);<br>        
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueLength = monologue.Length; <font color=gray>//allows us  test dialogue without an NPC</font><br>    
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br>
<br> 
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>void</b></font> Update(){<br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=gray>//temporary testing before NPC is created</font><br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#ed6c0a><b>&quot;o&quot;</b></font>)){<br>			
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueBox.SetActive(<b><font color="#365f91">true</font></b>);<br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>} <br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#ed6c0a><b>&quot;p&quot;</b></font>)){<br>			
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueBox.SetActive(<b><font color="#365f91" face="arial">false</font></b>);<br>			
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueText.text = "..."; <font color=gray>//reset text</font><br>			
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>counter = 0; <font color=gray>//reset counter</font><br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br>	
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br><br>	
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public void</b></font> OpenMonologue(){<br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueBox.SetActive(<b><font color="#365f91">true</font></b>);<br>
<b><font face="arial">&nbsp;</font></b><br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=gray>//auto-loads the first line of monologue</font><br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueText.text = monologue[<font color=#ed6c0a><b>0</b></font>]; <br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>counter = <font color=#ed6c0a><b>1</b></font>;<br>
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font>}<br><br>	
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public void</b></font> CloseMonologue(){<br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueBox.SetActive(<b><font color="#365f91" face="arial">false</font></b>);<br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueText.text = "..."; <font color=gray>//reset text</font><br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>counter = <font color=#ed6c0a><b>0</b></font>; <font color=gray>//reset counter</font><br>	
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br><br>	
<font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public void</b></font> LoadMonologueArray(<font color=#31849b><b>string</b></font><b>[]</b> NPCscript, <font color=#31849b><b>int</b></font> scriptLength){<br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologue = NPCscript;<br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueLength = scriptLength;<br>	
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br><br>	
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>
<font color=gray>//function for the button to display next line of dialogue</font><br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#31849b><b>public void</b></font> MonologueNext(){<br>        
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#3ab050><b>if</b></font> (counter &lt; monologueLength){<br>			
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueText.text = monologue[counter];<br>
			<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>counter +=<b><font color="#ed6c0a">1</font></b>;<br>		
			<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>} <br>		
			<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#3ab050><b>else</b></font> { <font color=gray>//when lines are complete</font>:<br>			
			<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueBox.SetActive(false); <font color=gray>//turn off the dialogue display</font><br>
			<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>monologueText.text = "..."; <font color=gray>//reset text</font><br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>counter = <font color=#ed6c0a><b>0</b></font>; <font color=gray>//reset counter</font><br>		
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br>    
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br>
<br>
        }</font></td>
    </tr>
  </table>
</center>
<br>
<br>
<font face=arial> <b>d.</b> Create a <b>second script</b> called &quot;<b>NPCMonologue.cs</b>&quot; and include the content below. 
<br>
<img src="gamedesign/bullet.png" alt=""> Apply this second script to your <b>NPC_chat</b> object in the Scene. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector, open the Array and hit <b>[+]</b> for as many <b>lines of monologue</b> you desire and type them in. 
<br>
The contents of this array will replace the MonologueManger array for each interaction!<br>
This script works as long as (1) the MonologueManager <b>object</b> with the MonologueManager <b>tag</b> and <b>script</b> exists in the scene, and (2) The Canvas with MONOLOGUE_BOX exists: </font> <br>
<br>
<center>
  <font face="arial"><i>NPCMonologue.cs script:</i></font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>NPCMonologue : MonoBehaviour</b></font> {<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//private Animator anim;</font><br>	
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>private</b></font> NPCMonologueManager monologueMNGR;<br>	
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>public string</b></font><b>[]</b> monologue; <font color=gray>//enter  monologue lines into the inspector for each NPC</font><br>	
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>public bool</b></font> playerInRange = <b><font color="#365f91" face="arial">false</font></b>; <font color=gray>//could be used to display an image: hit [e] to talk</font><br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>public int</b></font> monologueLength;

<br><br>    
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>void</b></font> Start(){<br>		
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font>

<br>
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;monologueLength = monologue.Length;<br>     
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (GameObject.FindWithTag("MonologueManager")!= null){<br>			
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;monologueMNGR = GameObject.FindWithTag("MonologueManager").GetComponent&lt;NPCMonologueManager&gt;();<br>		
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}<br>    
&nbsp; &nbsp; &nbsp; &nbsp;}<br><br>	
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=#31849b><b>private void</b></font> OnTriggerEnter2D(<font color=#31849b><b>Collider2D</b></font> other){<br>		
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>) {<br>			
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font></font>playerInRange = <b><font color="#365f91" face="arial">true</font></b>;<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;monologueMNGR.LoadMonologueArray(monologue, monologueLength); 
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></font>monologueMNGR.OpenMonologue();
			<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//anim.SetBool("Chat", true);</font><br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//Debug.Log("Player in range");</font><br>		
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>}<br>	
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>}<br><br>	
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=#31849b><b>private void</b></font> OnTriggerExit2D(<font color=#31849b><b>Collider2D</b></font> other){ <br>		
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#3ab050><b>if</b></font> (other.gameObject.tag ==<font color=#ed6c0a><b>&quot;Player&quot;</b></font>) {<br>			
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>playerInRange = <b><font color="#365f91" face="arial">false</font></b>;<br>			
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>monologueMNGR.CloseMonologue();<br>			
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//anim.SetBool("Chat", false);</font><br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//Debug.Log("Player left range");</font><br>		
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>}<br>	
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>}<br>
        }</font></td>
    </tr>
  </table>
</center>

<font face=arial>
<br><br>
<b>[5]. MAKE PREFABS:</b> 
<br>
<b>a. NPC Prefab: 
<br>
</b><img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the NPC_chat into the Project &gt; Assets folder to make it a <b>Prefab</b>. <br>
<img src="gamedesign/bullet.png" alt=""> Drag copies into the Scene as needed.<br>
These copies can include new character art (just disable the old art) and new monologue lines, but will use the same Canvas MonologueBox.<br>
The name of these copies in the Hierarchy can also be changed for each NPC non-combat character name.<br><br>
<b>b. MonologueManager Prefab and MONOLOGUE_BOX Prefab: <br>
</b><img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the MonologueManager into the Project &gt; Assets folder to make it a <b>Prefab</b>. <br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the MONOLOGUE_BOX parent object from the Canvas  into Project &gt; Assets folder to make it a <b>Prefab</b>.<br>
Both of these can now be added to any desired Scene, to add NPC monologue functionality. 
<br>
Just be sure to add the Scene copes of MONOLOGUE_BOX and MonologueText objects to the MonologueManager script slots in each scene.

<br>
<br>
<br><br>
<a href="gamedesign/Unity2D/CanvasWorldSpace_Text.png" target=canvas><img src="gamedesign/Unity2D/CanvasWorldSpace_Text_thumb.png" alt="" align=right></a> <em><b>NOTE</b></em>: To use a Canvas set to World Space for local text display, like a word bubble, the text needs to be handled carefully: the standard Unity UI Text Object will present a sharp, crisp result only if the Rect is set large (in this case, 400 x 100), the Font is large (in this case, 30) and the Scale is then set very small (in this case, X, Y, Z all = 0.01). 

<br><br><br>
<br><br><br>
<center>
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">&nbsp;
<img src="gamedesign/bullet.png" alt="">
</center>

<br>
<a href="#02e"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02e1b"></a> <font color=purple><b>NPC COMMUNICATION ADVANCED:</b></font><b> CHARACTER DIALOGUE: </b><br>
<em><b>SUMMARY:</b></em> Create any number of NPC characters to go about their daily business until approached by the Player, and then hold a <b>conversation</b> in a dialogue block: back and forth pre-scripted text with the player character.<br>
<br>
<b>[1] CREATE THE NPC: </b><br>
<b>a.</b> Create and import art for at least <b>two NPC characters</b><br>
(<b>64x64</b> to match  Player character, or as desired). 
<table width=100% cellpadding=10><tr>
<td valign=top><font face=arial>If it is just a <strong>single sprite pixel art image</strong> (animation is not required to test this script): <br>
    <img src="gamedesign/bullet.png" alt=""> Set <b>properties</b> in Inspector:<br>
&nbsp; &nbsp; &nbsp; &nbsp;Pixels Per Unity = <b>16</b><br>
&nbsp; &nbsp; &nbsp; &nbsp;Filter Mode = <b>Point (no filter)</b><br>
&nbsp; &nbsp; &nbsp; &nbsp;Compression = <b>None</b>.<br>
&nbsp; &nbsp; &nbsp; &nbsp;Hit <b>[Apply].</b><br>
<img src="gamedesign/bullet.png" alt=""> Drag the sprite into Hierarchy.<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>NPC_[name]_art</b>&quot;<br>
<img src="gamedesign/bullet.png" alt=""> <b>Reset</b> Transforms.
<br><br>

<strong>ART SIZE NOTE:</strong> 
<br>Character art should be sized using Pixels Per Unit in the project panel Inspector, NOT by changing size in the Scene Inspector. 

<br><br>
Once the sprite is in the Scene, adjust its size by selecting the source image in the Project panel and changing <strong>Pixels Per Unit</strong> and hitting <strong>[Apply]</strong>. 

<br><br>Choose large numbers to shrink characters, smaller numbers make larger. 

<br><br>
</font></td>
<td valign=top bgcolor=#cfcfcf><font face=arial><nobr>If it is a <b>Spritesheet for animation:</b></nobr><br>
    <img src="gamedesign/bullet.png" alt=""> In the Inspector, set <strong>Sprite Mode</strong> = <strong>Multiple</strong>. <br>
    <img src="gamedesign/bullet.png" alt=""> Hit <strong>[Apply]</strong> (near bottom).
    
<br><br>
    <img src="gamedesign/bullet.png" alt=""> Open the <strong>[Sprite Editor]</strong> (near middle). <br>
    <img src="gamedesign/bullet.png" alt=""> Under Slice set Type = <strong>Grid by Cell Count</strong>. <br>&nbsp; &nbsp;Choose columns and rows. 
    <br>
    &nbsp; &nbsp;Hit <strong>[Slice]</strong> and <strong>[Apply]</strong>.
    
<br><br>
<img src="gamedesign/bullet.png" alt=""> The first frame of the idle is typically deagged into the Hierarchy as the initial character sprite. 
<br><img src="gamedesign/bullet.png" alt=""> Animation is added later to this sprite 
    
<br><br>
    <strong><em>NOTE:</em></strong> Animation is not required to test this script.</font></td>
</tr></table>
<br><br>
<b>b.</b> Create and import <b>face bubble art</b> for the Player character and the NPC characters (<b>128x128</b>). <br>
Do not drag into the Hierarchy (will be added to the UI). <br>
<br>
<b>c.</b> Create a GameObject &gt; <b>Empty GameObject</b>. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>NPC_chat</b>&quot; <br>
<img src="gamedesign/bullet.png" alt=""> <b>Reset </b>Transforms. <br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> both NPC art images onto NPC_chat to make them each a child 
<br>
(all NPC art gets added to the same NPC_chat object, and only one is enabled for each NPC in game). 
<br>
<img src="gamedesign/bullet.png" alt=""> In Inspector set &quot;Order in layer&quot; on these sprites = 90. 
<br>
<img src="gamedesign/bullet.png" alt=""> Disable all but one of the character images.<br>
<br>
<b>d.</b> Add <b>a Collider</b> to NPC_chat: <br>
<img src="gamedesign/bullet.png" alt=""> Select the NPC_chat object.<br>
<img src="gamedesign/bullet.png" alt=""> <b>[Add Component]</b> Physics 2D &gt; <b>BoxCollider2D</b>.<br>
<img src="gamedesign/bullet.png" alt=""> Enable isTrigger, and extend its Collider outward to the sides and below, for the space the Player can stand to chat with this NPC. <br>
<br>
<br>
<b>[2] CREATE THE UI ELEMENTS: <br>
a.</b> Select your <b>Canvas</b>, if it exists,<br>
(If not, GameObject &gt; UI &gt; Canvas. Set <b>Canvas Scaler &gt; UI Scale Mode</b> from &quot;Constant Pixel Size&quot; to &quot;<b>Scale With Screen Size</b>&quot;. Set size to <b>1280</b> x <b>720</b>.).<br>
<img src="gamedesign/bullet.png" alt=""> RightClick Canvas, choose <b> UI &gt; Image</b>.<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>DIALOGUE_BOX</b>&quot;.<br>
Zoom out in the Scene view to see the entire Canvas (can select the Canvas and in the Scene hit [<b>f</b>]).<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector set the image size for the full Canvas (1280x720) and set color alpha=0 (fully transparent). 
<br>Also, to allow click-through, uncheck <strong>Raycast Target</strong>.<br>
<br>
<b>b.</b> RightClick DIALOGUE_BOX to create a second <b>UI &gt; Image</b> (centered as a child under it).<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>DialogueBG</b>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Size 600 x 150 and move  to fit in  the bottom third of the Canvas. Set color alpha=0.<br>
<img src="gamedesign/bullet.png" alt=""> Optionally add framing art to this ImageSprite.<br>
<br>
<b>c.</b> RightClick DialogueBG to create&nbsp;a <b> UI &gt; Text</b><strong>-TextMeshPro</strong> (centered as a child under DialogueBG).<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>TextDialogue</b>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Size 590 x 140 and move to fit DialogueBG.<br>
<img src="gamedesign/bullet.png" alt=""> Set <b>Font</b> Size = 30 and <b>color</b> = black.<br>
<img src="gamedesign/bullet.png" alt=""> Set text field to an ellipsis: "...".<br>
<br>
<b>d.</b> RightClick DialogueBG to create&nbsp;a<b> UI &gt;  Button</b><strong>-TextMeshPro</strong>.<br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>ButtonNext</b>&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Scale and move ButtonNext to fit in the lower-right corner of DialogueBG: 100 x 60.<br>
<img src="gamedesign/bullet.png" alt=""> Set the button Normal and Highlight colors.<br>
<img src="gamedesign/bullet.png" alt=""> In the child Text object, set text field to &quot;NEXT&quot;.<br>
<img src="gamedesign/bullet.png" alt=""> Set <b>Font</b> Size = <b>35</b>, Style = <b>Bold</b>, and <b>color</b> = black.<br>
<img src="gamedesign/bullet.png" alt=""> Set <b>Navigation</b> from &quot;Automatic&quot; to <b>&quot;None</b>&quot;.<br>
<br>
<br>
<b>[3] CREATE THE DIALOGUE MANAGER: </b><br>
<b>a.</b> Create&nbsp;an empty game object: <b>GameObject &gt; Empty</b>. <br>
<img src="gamedesign/bullet.png" alt=""> Name it &quot;<b>DialogueManager</b>&quot;. <br>
<img src="gamedesign/bullet.png" alt=""> <b>Reset</b> the Transforms. <br>
<br>
<b>b. </b>In the Inspector add a new <b>TAG</b>: &quot;<b>DialogueManager</b>&quot;: <br>
<img src="gamedesign/bullet.png" alt=""> Find &quot;tag&quot; near the top of the Inpector. Hit Untagged, choose AddTag. Hit [+] and type. <br>
<img src="gamedesign/bullet.png" alt=""> Re-select the DialogueManager Object and add this <b>tag</b>. <br>
<br>
<br>
<b>[4] CREATE THE TWO SCRIPTS: </b><br>
<b>a.</b> Create a new C# script &quot;<b>NPCDialogueManager.cs</b>&quot; with the content below. <br>
<br>
<b>b.</b> Select the <b>DialogueManager</b> object and add this script. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector, fast-drag <b>DIALOGUE_BOX</b> and <b>TextDialogue</b> from the Canvas into the <b>script slots</b>.<br>
<img src="gamedesign/bullet.png" alt=""> Open the <strong>NPC_Choices</strong> Array. Hit <b>[+]</b> for as many <b>character bubble images</b> you desire.
<br>
&nbsp; &nbsp;<strong>Drag</strong> the sprites in from your Project panel art folder. 
<br>
&nbsp; &nbsp;Pay attention to how they are numbered: those are the values for each NPC.<br>
<br>
<b>c.</b> Set <b>ButtonNext:</b><br>
<img src="gamedesign/bullet.png" alt=""> Select ButtonNext, and in the Inspector,

near bottom, add an <b>OnClick</b> function <b>[+]</b>. <br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the DialogueManager into the &quot;None&quot; slot. <br>
<img src="gamedesign/bullet.png" alt=""> Set the <b>function</b> to NPCDialogueManager &gt; DialogueNext().<br>
<br>
</font>
<center>
  <font face="arial"><i>NPCDialogueManager.cs script:</i></font> <br>
  <table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7>
    <tr>
      <td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br />
        <font color="#3ab050"><b>using</b></font> TMPro;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>NPCDialogueManager : MonoBehaviour</b></font> {<br>
        <br>
        &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>GameObject</b></font> dialogueBox;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public TMP_Text</b></font> dialogueTextChar1; <font color=gray>// Player text </font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public TMP_Text</b></font> dialogueTextChar2; <font color=gray>// NPC text </font><br>
        <br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>public</b></font> GameObject displayChar1;

<font color=gray>// Parent object of Player text and bubble image</font><br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>public</b></font> GameObject displayChar2;
<font color=gray>// Parent object of NPC text and bubble image</font><br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>public Image</b></font> NPCBubbleArt;
<font color=gray>// Dynamically replaced by code</font><br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>public Sprite</b></font><b>[]</b> NPC_Choices;
<font color=gray>// Array of bubble art: drag in from Project panel art folder</font><br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b> bool</b></font> isOtherChar =<b><font color="#365f91"> true</font></b>;
<br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>bool </b></font>playerFirst = <b><font color="#365f91" face="arial">false</font></b>;
<br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>bool </b></font>singleSpeaker = <b><font color="#365f91" face="arial">false</font></b>;<br>
<br>&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>public string</b></font><b>[]</b> dialogue;<br>&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>public int</b></font> counter = <font color=#ed6c0a><b>0</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>public int</b></font> dialogueLength;<br><br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dialogueBox.SetActive(<b><font color="#365f91" face="arial">false</font></b>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
dialogueLength = dialogue.Length; <font color=gray>//allows us  to test dialogue without an NPC</font><br>
&nbsp; &nbsp; &nbsp; &nbsp;
}<br><br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=gray>//temporary testing before NPC is created</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#ed6c0a><b>&quot;o&quot;</b></font>)){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
dialogueBox.SetActive(<b><font color="#365f91">true</font></b>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#ed6c0a><b>&quot;p&quot;</b></font>)){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
dialogueBox.SetActive(<b><font color="#365f91" face="arial">false</font></b>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
dialogueTextChar1.text = "..."; <font color=gray>//reset text</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
dialogueTextChar2.text = "..."; <font color=gray>//reset text</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
counter = <font color=#ed6c0a><b>0</b></font>; <font color=gray>//reset counter</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
}<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//control the display of who is speaking</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (isOtherChar == <b><font color="#365f91">true</font></b>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; displayChar1.SetActive(<b><font color="#365f91" face="arial">false</font></b>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; displayChar2.SetActive(<b><font color="#365f91">true</font></b>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; displayChar1.SetActive(<b><font color="#365f91">true</font></b>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; displayChar2.SetActive(<b><font color="#365f91" face="arial">false</font></b>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp;
}<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> ChooseNPC(<font color=#31849b><b>int</b></font> thisNPC, <font color=#31849b><b>bool</b></font> thisPlayerFirst, <font color=#31849b><b>bool</b></font> thisSingleSpeaker){<br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>NPCBubbleArt.sprite = NPC_Choices[thisNPC];<br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>playerFirst = thisPlayerFirst;<br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>singleSpeaker = thisSingleSpeaker;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>public void</b></font> OpenDialogue(){
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//Choose first speaker: player or NPC</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (playerFirst){isOtherChar=<b><font color="#365f91">false</font></b>;}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else {isOtherChar=<b><font color="#365f91">true</font></b>;}<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dialogueBox.SetActive(<b><font color="#365f91">true</font></b>);<br>
&nbsp;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=gray>//auto-load the first line of dialogue</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
dialogueTextChar1.text = dialogue[<font color=#ed6c0a><b>0</b></font>];<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
dialogueTextChar2.text = dialogue[<font color=#ed6c0a><b>0</b></font>];<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
counter = <font color=#ed6c0a><b>1</b></font>;<br>
        <font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font>}<br>
        <br>
        <font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public void</b></font> CloseDialogue(){<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>dialogueBox.SetActive(<b><font color="#365f91" face="arial">false</font></b>);<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>dialogueTextChar1.text = "..."; <font color=gray>//reset text</font><br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>dialogueTextChar2.text = "..."; <font color=gray>//reset text</font><br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>counter = <font color=#ed6c0a><b>0</b></font>; <font color=gray>//reset counter</font><br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br>
        <br>
        <font face=arial><b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b></font><font color=#31849b><b>public void</b></font> LoadDialogueArray(<font color=#31849b><b>string</b></font><b>[]</b> NPCscript, <font color=#31849b><b>int</b></font> scriptLength){<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>dialogue = NPCscript;<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>dialogueLength = scriptLength;<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br>
        <br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b> <font color=gray>//function for the button to display next line of dialogue</font><br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#31849b><b>public void</b></font> DialogueNext(){<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#3ab050><b>if</b></font> (counter &lt; dialogueLength){
<br>
<b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#3ab050><b>if</b></font> (!singleSpeaker){ isOtherChar = !isOtherChar; } <font color=gray>//If two speakers, swap for each line</font><br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>dialogueTextChar1.text = dialogue[counter];<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>dialogueTextChar2.text = dialogue[counter];<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>counter +=<b><font color="#ed6c0a">1</font></b>;<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>} <br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b><font color=#3ab050><b>else</b></font> { <font color=gray>//when lines are complete</font>:<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>CloseDialogue(); <br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br>
        <b><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></b>}<br>
        <br>
        }</font></td>
    </tr>
  </table>
</center>
<br>
<br>
<font face=arial> <b>d.</b> Create a <b>second script</b> called &quot;<b>NPCDialogue.cs</b>&quot; and include the content below. <br>
<img src="gamedesign/bullet.png" alt=""> Apply this second script to your <b>NPC_chat</b> object in the Scene. <br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector, open the Array and hit <b>[+]</b> for as many <b>lines of dialogue</b> you desire and type them in. <br>
The contents of this array will replace the DialogueManger array for each interaction!<br>
This script works as long as (1) the DialogueManager <b>object</b> with the DialogueManager <b>tag</b> and <b>script</b> exists in the scene, and (2) The Canvas with DIALOGUE_BOX exists: </font> <br>
<br>
<center>
  <font face="arial"><i>NPCDialogue.cs script:</i></font> <br>

<table width=100% cellpadding=10 border=1 bgcolor=#f7f7f7><tr>
<td><font face=arial><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
<br>
<font color=#31849b><b>public class</b></font> <font color=#365f91><b>NPCDialogue : MonoBehaviour</b></font> {<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//private Animator anim;</font>
<br>    
<br>    
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>public int</b></font> whichNPC = <font color=#ed6c0a><b>1</b></font>; 
<font color=gray>// set this number for the NPC, to show the correct bubble image</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public bool</b></font> playerFirst = <b><font color="#365f91" face="arial">false</font></b>; <font color=gray>//player speaks first in back-and-forth</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public bool</b></font> singleSpeaker = <b><font color="#365f91" face="arial">false</font></b>; <font color=gray>//only show speech from one character, player or NPC</font>
<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private</b></font> NPCDialogueManager dialogueMNGR;<br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public string</b></font><b>[]</b> dialogue; <font color=gray>//enter  dialogue lines into the inspector for each NPC</font><br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public bool</b></font> playerInRange = <b><font color="#365f91" face="arial">false</font></b>; <font color=gray>//could be used to display an image: hit [e] to talk</font><br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public int</b></font> dialogueLength; <br>
        <br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font> <br>
        &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;dialogueLength = dialogue.Length;<br>
        &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (GameObject.FindWithTag("DialogueManager")!= null){<br>
        &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;dialogueMNGR = GameObject.FindWithTag("DialogueManager").GetComponent&lt;NPCDialogueManager&gt;();<br>
        &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}<br>
        &nbsp; &nbsp; &nbsp; &nbsp;}<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=#31849b><b>private void</b></font> OnTriggerEnter2D(<font color=#31849b><b>Collider2D</b></font> other){<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>) {<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font></font>playerInRange = <b><font color="#365f91" face="arial">true</font></b>;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dialogueMNGR.LoadDialogueArray(dialogue, dialogueLength);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dialogueMNGR.LoadDialogueArray(whichNPC, playerFirst, singleSpeaker);<br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></font>dialogueMNGR.OpenDialogue();<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//anim.SetBool("chat", true);</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//Debug.Log("Player in range");</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>}<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>}<br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=#31849b><b>private void</b></font> OnTriggerExit2D(<font color=#31849b><b>Collider2D</b></font> other){ <br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#3ab050><b>if</b></font> (other.gameObject.tag ==<font color=#ed6c0a><b>&quot;Player&quot;</b></font>) {<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>playerInRange = <b><font color="#365f91" face="arial">false</font></b>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>dialogueMNGR.CloseDialogue();<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//anim.SetBool("chat", false);</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//Debug.Log("Player left range");</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>}<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>}<br>
        }</font></td>
    </tr>
  </table>
</center>
<font face=arial> <br>
<br>
<b>[5]. MAKE PREFABS:</b> <br>
<b>a. NPC Prefab: <br>
</b><img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the NPC_chat into the Project &gt; Assets folder to make it a <b>Prefab</b>. <br>
<img src="gamedesign/bullet.png" alt=""> Drag copies into the Scene as needed.<br>
These copies can include new character art (just disable the old art) and new dialogue lines, but will use the same Canvas DialogueBox.<br>
The name of these copies in the Hierarchy can also be changed for each NPC non-combat character name.

<br>
<br>
<b>b. DialogueManager Prefab and DIALOGUE_BOX Prefab: <br>
</b><img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the DialogueManager into the Project &gt; Assets folder to make it a <b>Prefab</b>. <br>
<img src="gamedesign/bullet.png" alt=""> <b>Drag</b> the DIALOGUE_BOX parent object from the Canvas  into Project &gt; Assets folder to make it a <b>Prefab</b>..<br>
Both of these can now be added to any desired Scene, to add NPC dialogue functionality. <br>
Just be sure to add the Scene copies of DIALOGUE_BOX and DialogueText objects to the DialogueManager script slots in each scene. <br>
<br><br><br>

<center>
  <img src="gamedesign/bullet.png" alt="">&nbsp;
  <img src="gamedesign/bullet.png" alt="">&nbsp;
  <img src="gamedesign/bullet.png" alt="">&nbsp;
  <img src="gamedesign/bullet.png" alt="">
</center>

<br><br><br><br>

<a href="#02e"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02e2">&nbsp;</a> 
<font color=purple><b>NPC MOVEMENT:</b></font><b> Following / Flocking Behavior: </b>
<br>
<em><b>SUMMARY:</b></em> Have NPCs follow the Player. 
<br>Can be used for ships / birds / fish that move together, friendly NPCs to guide to safety, or buddies that fight with the player (activated by Player attacks).<br><br> 
With additional scripts, this follow behavior can be activated on an NPC that displays other behaviors first ("save" a character so that it follows the player). Another useful feature could be to add every new follower to a List, then alert the player if any followers get left behind (especially around a bend).<br>
<br>
<b>CREATE THE NPC: </b>

<br><b>a.</b> Create a GameObject &gt; <b>Empty GameObject</b>. 
<ol>
<li> In the Inspector name it &quot;<b>NPC_Follow</b>&quot; <br>
<li> <b>Reset </b>Transforms.<br>
<li> <b>[Add Component]</b> Physics 2D &gt; <b>CircleCollider2D</b>.<br>
<li> <b>[Add Component]</b> Physics 2D &gt; <b>Rigidbody2D</b>. Set Gravity = 0.
</ol>

<br><br>
<b>b.</b> Drag NPC art into the Hierarchy (or make a temporary Unity sprite). 
<ol>
<li> Drag onto  NPC_Follow to make it a child.<br>
<li> Adjust the NPC_Follow BoxCollider2D to fit the art.
</ol>

<br>
<br>
<b>c.</b> Create a new C# script called &quot;<b>NPC_Follower</b>&quot;. 
<ol>
<li> Add the content below and drag onto  NPC_Follow.
<li> Make sure the Player has the tag &quot;Player&quot;. 
<li> Check Player's moveSpeed to set NPC_Follow's topSpeed the same.
</ol>

<br>
<br>
<center>
<i>NPC_Follower.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>NPC_Follower : MonoBehaviour</b></font> {
<font color=gray>       
<br>
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//this script offers basic flocking behavior for friendly NPCs to follow the player
<br>
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//commented-out are functions for  followers to help attack enemies if the player attacks
</font>
     
<br><br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//private Animator anim;</font><font face=arial><br>
</font><br>
<font color=gray>//Follow Player</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>private</b></font> GameObject player;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>private Vector2</b></font> playerPos;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>private float</b></font> distToPlayer;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>private float</b></font> startDistance; <font color=gray>//Follow Player when further than this distance (wider)</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>public float</b></font> stopDistance = <font color="#ed6c0a"><b>1f</b></font>; <font color=gray>//Stop moving towards player when at this distance (smaller)</font><br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>public float</b></font> moveSpeed;<br>
        
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>public float</b></font> topSpeed =  <font color=#ed6c0a><b>3f</b></font>;<br>
        <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>private float</b></font> scaleX;<br>
        &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//public Vector2 offsetFollow;</font><br>
<br><font color=gray>//Follow Player vs Attack Enemies</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public bool</b></font> followPlayer = <b><font color="#365f91">false</font></b>;

<font color=gray> 
<br>
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>/*
<br>
&nbsp; &nbsp; &nbsp; &nbsp; public bool attackEnemy = false; // target enemy within range of player when player attacks
<br>&nbsp; &nbsp; &nbsp; &nbsp; public bool isAttacking = false; // attack a targeted enemy
<br>&nbsp; &nbsp; &nbsp; &nbsp; public float peacefullTime = 4f;
<br>
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>*/

<br>
<br>//Attack variables
<br>
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>/*
<br>&nbsp; &nbsp; &nbsp; &nbsp; public LayerMask enemyLayers;
<br>&nbsp; &nbsp; &nbsp; &nbsp; public GameObject enemyTarget;
<br>&nbsp; &nbsp; &nbsp; &nbsp; private Vector2 enemyPos;
<br>&nbsp; &nbsp; &nbsp; &nbsp; private float distToEnemy;
<br>&nbsp; &nbsp; &nbsp; &nbsp; private float timeBtwShots;
<br>&nbsp; &nbsp; &nbsp; &nbsp; public float startTimeBtwShots = 2;
<br>&nbsp; &nbsp; &nbsp; &nbsp; public GameObject projectile;
<br>&nbsp; &nbsp; &nbsp; &nbsp; public float attackRange = 10f;
<br>
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>*/
<br>
</font><br>

<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#31849b><b>void</b></font> Start(){<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font><br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>player = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;Player&quot;</b></font>);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>stopDistance = Random.Range(stopDistance, stopDistance + <font color=#ed6c0a><b>0.5f</b></font>);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>startDistance = stopDistance + <font color=#ed6c0a><b>1f</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>moveSpeed = Random.Range((<font face=arial>topSpeed</font> * <font color=#ed6c0a><b>0.7f</b></font>), topSpeed);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font>scaleX = gameObject.transform.localScale.x;<br>
&nbsp; &nbsp; &nbsp; &nbsp;}<br>
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=#31849b><b>void</b></font> Update(){<font color=gray><br>
</font><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=gray>//listen for player attacking an enemy, enter combat until player stops attacking<br>
</font><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=gray>/*<br>    
</font><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=gray>if ((Input.GetAxis("AttackFire") > 0) || (Input.GetAxis("AttackMelee") > 0)){<br>        
</font><font face=arial><font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=gray>followPlayer = false;</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
<font color=gray>attackEnemy = true;</font>
<br>        
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>StartCoroutine(StopAttackingEnemies());</font>
<br>        
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
<font color=gray>FindTheEnemy();</font>
<br>    
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>}</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>*/</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; }

<br><br>
&nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>void</b></font> FixedUpdate(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//FOLLOW PLAYER</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> ((followPlayer) <b><font color="#365f91">&amp;&amp;</font></b> (player != <b><font color="#365f91">null</font></b>)){
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;
playerPos = player.transform.position;
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;
distToPlayer = Vector2.Distance(transform.position, playerPos);

<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Retreat from Player</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (distToPlayer <= stopDistance){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
transform.position = Vector2.MoveTowards (transform.position, playerPos, -moveSpeed * Time.deltaTime);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=gray>//anim.SetBool("Walk", true);</font>
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></font> }

<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray> // Stop following Player</font>

<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=#3ab050><b> if</b></font> ((distToPlayer > stopDistance) && (distToPlayer < startDistance)){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
transform.position = this.transform.position;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=gray>//anim.SetBool("Walk", false);</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// Follow Player</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>else if</b></font> (distToPlayer >= startDistance){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
transform.position = Vector2.MoveTowards (transform.position, playerPos, moveSpeed * Time.deltaTime);
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=gray>//anim.SetBool("Walk", true);</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }

<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// Turn follower toward player (good for bipedal characters)
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
/*
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (player.transform.position.x > gameObject.transform.position.x){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
gameObject.transform.localScale = new Vector2(scaleX, gameObject.transform.localScale.y);
<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
 } else {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
gameObject.transform.localScale = new Vector2(scaleX * -1, gameObject.transform.localScale.y);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
}<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
*/</font><br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=gray>// Rotate to face player (good for swimming / flying followers)</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>Vector2</b></font> direction = (playerPos - (<font color=#31849b><b>Vector2</b></font>)transform.position).normalized;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>float</b></font> angle = Mathf.Atan2(direction.y, direction.x) * Mathf.Rad2Deg;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
<font color=#31849b><b>float</b></font> offset = <font color=#ed6c0a><b>90f</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
transform.rotation = Quaternion.Euler(<font color=#31849b><b>Vector3</b></font>.forward * (angle + offset));<br>
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;}<br>
<font color=gray><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
//FOLLOW ENEMY 
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>/*
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>if ((attackEnemy) && (enemyTarget != null)){
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>enemyPos = enemyTarget.transform.position;
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>distToEnemy = Vector2.Distance(transform.position, enemyPos);

<br><br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>// Retreat from enemy 
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>if (distToEnemy <= followDistance){
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>transform.position = Vector2.MoveTowards (transform.position, enemyPos, -moveSpeed * Time.deltaTime);
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>anim.SetBool("Walk", true);
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>}

<br><br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>// Stop following enemy <br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>if ((distToEnemy > followDistance) && (distToEnemy < startFollowDistance)){
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>transform.position = this.transform.position;
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>anim.SetBool("Walk", false);
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>}

<br><br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>// Follow enemy <br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>else if ((distToEnemy >= startFollowDistance)){
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>transform.position = Vector2.MoveTowards (transform.position, enemyPos, moveSpeed * Time.deltaTime);
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>anim.SetBool("Walk", true);
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>}

<br><br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>// Turn buddy toward enemy <br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>if (enemyTarget.transform.position.x > gameObject.transform.position.x){
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>gameObject.transform.localScale = new Vector2(scaleX, gameObject.transform.localScale.y);
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>} else {
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>gameObject.transform.localScale = new Vector2(scaleX * -1, gameObject.transform.localScale.y);
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>}
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>}
<br>
<font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>*/

<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>//Timer for shooting projectiles
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>/*
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>if ((attackEnemy==true)&&(enemyTarget !=null) && (distToEnemy > followDistance) && (distToEnemy < startFollowDistance)){
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>if (timeBtwShots <= 0) {
<br>
</font><font face=arial><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>isAttacking = true;
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>anim.SetBool("Attack", true);

<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>GameObject myProjectile = Instantiate (projectile, transform.position, Quaternion.identity);
<br>
</font><font face=arial><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>myProjectile.GetComponent&lt;NPC_Projectile&gt;().attackPlayer = false;
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>myProjectile.GetComponent&lt;NPC_Projectile&gt;().enemyTrans = enemyTarget.transform;

<br><br>
</font><font face=arial><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>timeBtwShots = startTimeBtwShots; <br>
</font><font face=arial><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><font color=gray>} else {
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>timeBtwShots -= Time.deltaTime;
<br>
</font><font face=arial><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>isAttacking = false;
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>anim.SetBool("Attack", false);
<br>
</font><font face=arial><font color=gray>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><font color=gray>}
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>}
else {<font face=arial>anim.SetBool("Attack", false); </font>}<br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font>*/

<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; //end bracket of FixedUpdate:</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; }

<br>
<font color="gray"><br />
&nbsp; &nbsp; &nbsp; &nbsp; //Pick up a follower on impact:</font><br />
&nbsp; &nbsp; &nbsp; &nbsp; <font color="#31849b"><b>void</b></font> OnCollisionEnter2D(Collision2D other){<br />
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <font color="#3ab050"><b>if</b></font> (other.gameObject.tag==<font color="#ed6c0a"><b>&quot;Player&quot;</b></font>){<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; followPlayer = <b><font color="#365f91">true</font></b>; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<font color=gray><br>
&nbsp; &nbsp; &nbsp; &nbsp; /*
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; void FindTheEnemy(){ <br> 
&nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//animator.SetTrigger ("Melee");
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>Collider2D[] hitEnemies = Physics2D.OverlapCircleAll(playerPos, attackRange, enemyLayers); <br>
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>foreach(Collider2D enemy in hitEnemies){<br> 
&nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>Debug.Log("Buddy targeting " + enemy.name);<br> 
&nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>enemyTarget = enemy.gameObject;<br> 
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//enemy.GetComponent
&lt;EnemyMeleeDamage&gt;().TakeDamage(attackDamage);<br> 
&nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>}<br> 
&nbsp; &nbsp; &nbsp; &nbsp; }<br> 
&nbsp; &nbsp; &nbsp; &nbsp; */<br>
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; /*<br> 
&nbsp; &nbsp; &nbsp; &nbsp; IEnumerator StopAttackingEnemies(){<br> 
</font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>yield return new WaitForSeconds(peacefullTime);<br> 
&nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>followPlayer = true;<br> 
&nbsp; &nbsp; &nbsp; &nbsp; </font><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>attackEnemy = false;<br> 
&nbsp; &nbsp; &nbsp; &nbsp; }<br> 
&nbsp; &nbsp; &nbsp; &nbsp; */</font><br><br>

&nbsp; &nbsp; &nbsp; &nbsp; <font color="gray">// DISPLAY the range of NPC's follow and stop range, when selected in the Editor</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; 
<font color=#31849b><b>void</b></font> OnDrawGizmos(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Gizmos.color = Color.green;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
Gizmos.DrawWireSphere(transform.position, startDistance);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Gizmos.color = Color.red;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
Gizmos.DrawWireSphere(transform.position, stopDistance);<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>}<br><br>
</div>

<br><br>
 
</td></tr></table>
</div></td>
</tr></table>
<br>





<a name="02f">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr>
  <td>
<button class="accordion4">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a> <font face="arial"><b>[2F] MORE PLAYER MOVES: TELEPORT, HOOKSHOT, VEHICLE MOTION, FLYING, DASH</b>
 </font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
  <center>
    <font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=#dc0bdc><b>[2F]:</b></font> <b>MORE PLAYER MOVEMENT</b></font>
<br>
[1]. <a href="#02f1">Teleporters</a> &nbsp; | &nbsp;
[2]. <a href="#02f2">Grappling Hook / Hookshot</a> &nbsp; | &nbsp; 
[3]. <a href="#02f3">Vehicle Motion</a><br> 
[4]. <a href="#02f4">Flying</a> &nbsp; | &nbsp;
[5]. <a href="#02f5">Dash</a>  &nbsp; | &nbsp;
[6]. <a href="#02f6">WebGL touch Player controls</a>

<br><br>
    </font>
  </center>


<a href="#02f"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02f1">&nbsp;</a>
<b><font color=purple>[1].</font> TELEPORTERS:</b>
<br>
 Let your player jump betwen points on the map to solve puzzles or manage enemies:
<br><br>
<b>a. Make the Teleporter Object:</b><br>
&nbsp; &nbsp;<b>1).</b> <b>Create an Empty GO: </b>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; Right-click in  the Hierarchy to create an Empty GameObject. 
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; In the Inspector reset Transforms. Name it &quot;Teleporter&quot;. <br>
&nbsp; &nbsp;<b>2).</b> <b>Add Collider:</b> 
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;  In the Inspector [Add Component] <b>BoxCollider2D</b>. Enable <b>isTrigger</b>. <br>
&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;  The default <b>size = 1x1</b> is fine. You can go a bit bigger, but please go no smaller.<br>
&nbsp; &nbsp;<b>3).</b> <b>Add tag: </b>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; In the Inspector click the tag rolldown. Choose Add Tag. <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; Create a new tag named &quot;<b>teleport</b>&quot;. <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; Select the Teleporter object and <b>apply that new tag</b>.<br>
&nbsp; &nbsp;<b>4).</b> <b>Add Art:</b> 
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; Right-click Teleporter to create a 2D &gt; Sprite &gt; Rectangle. 
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; In the Inspector name it &quot;teleporter_art&quot; and Reset Transforms (if needed). 


<br>
<br>
<br>
<b><font color=purple><em>TELEPORTER SCRIPT OPTION 1.</em></font></b> 
<br>Basic Teleport Script to Jump to Nearest Teleporter Object <br><br>
<b>b. Add the script:</b><br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>1).</b> <b>RightClick </b> the Project panel: create &gt; C# script. 
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></font>Name it &quot;<b>TeleportBasic</b>&quot;,  hit [Enter] to commit.<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>2). </b>When the script has compiled, <b>apply</b> it to the Teleporter object.<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font></font><b>3).</b> <b>Open </b> the script in your editor, and copy and paste the content below. 
<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></font>Save and return to Unity to compile.

<br>
<br>
<center>
<i>TeleporterBasic.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
    <font color=#3ab050><b>using</b></font> System.Collections;<br>
    <font color=#3ab050><b>using</b></font> UnityEngine;<br>
    <br>
    <font color=gray>//This script goes onto the teleport object</font> <br>
    <font color=gray>//The teleport object needs a BoxCollider2D set to isTrigger and a tag called "teleport"</font><br>
    <font color=#31849b><b>public class </b></font> <b><font color="#365f91">TeleporterBasic</font></b> <font color=#365f91><b> : MonoBehaviour</b></font> { <br>
    <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Vector3</b></font> newPosition; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public </b></font>GameObject[] allTeleporters; <br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public void</b></font> OnTriggerEnter2D(Collider2D other){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector3</b></font> playerPos = other.gameObject.transform.position; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>float</b></font> DistToPlayer = Vector3.Distance(playerPos, transform.position); <br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//to prevent teleporters from looping: set trigger colliders no smaller than 1x1</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (DistToPlayer > <font color=#ed6c0a><b>0.5f</b></font>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  GetNearest(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  other.gameObject.transform.position = newPosition; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} <br>
&nbsp; &nbsp; &nbsp; &nbsp; } <br>
<br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public void</b></font> GetNearest(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//populate array with all teleporters except self</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.gameObject.tag = <font color=#ed6c0a><b>&quot;Untagged&quot;</b></font>; <font color=gray>//temporary tag</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;allTeleporters = GameObject.FindGameObjectsWithTag("teleport"); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.gameObject.tag = <font color=#ed6c0a><b>&quot;teleport&quot;</b></font>; <font color=gray>//change tag back</font> <br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//test each array item for closest</font> <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Transform closestTarget = null; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>float</b></font> closestTargetSquare = Mathf.Infinity; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector3</b></font> thisPosition = transform.position; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>for</b></font> (int i = <font color=#ed6c0a><b>0</b></font>; i < allTeleporters.Length; i++){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector3</b></font> distanceToNewTarget = allTeleporters[i].transform.position - thisPosition; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>float</b></font> distanceSquareToNewTarget = distanceToNewTarget.sqrMagnitude; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (distanceSquareToNewTarget < closestTargetSquare){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  closestTargetSquare = distanceSquareToNewTarget; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  closestTarget = allTeleporters[i].transform; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  newPosition = closestTarget.position; <br>
&nbsp; &nbsp; &nbsp;  } 
<br>
} 
<br>
<br>
<font color=gray>// &quot;find nearest&quot; adapted from:</font><br>
<font color=gray>// https://forum.unity.com/threads/clean-est-way-to-find-nearest-object-of-many-c.44315/
<br>
</div>


<br><br>
<b>c. Create a Prefab of your Teleporter:</b>
<ol>
<li> <b>Make it a Prefab:</b> Drag Teleporter to the Project panel to make it a Prefab. 
<li> <b>Make copies:</b> In the Hierarchy, duplicate the Teleporter. 
<li> Move the copy away from the original.
</ol><br>
<b>d. Test the Mechanic: </b>
    <ol>
    <li>
    Drag a copy of a working Player prefab into the Scene. 
    <li>
    Hit Play and try teleporting between Teleporters. 
    </ol>
</ol><br>
<br><br>
<b><font color=purple><em>TELEPORTER OPTION 2.</em></font></b> 
<br>Color-Specific  Script to Jump to Nearest Teleporter  of the Same Color:
<br>
(Continues from the process above)


<br>
<br>
<b>e. Replace the Script:</b>
<ol>
<li> <b>RightClick </b> the Project panel: create &gt; C# script. 
<br>
Name it &quot;<b>TeleportByColor</b>&quot;, hit [Enter] to commit.<br>
<li> DoubleClick the Teleport Prefab to open it in Scene view. 
<br>
RightClick the TeleportBasic script to choose &quot;<b>Remove Component</b>&quot;. 
<br>
<b>Apply</b> the new TeleportByColor script to the Teleporter object.<br>
<li> <b>Open </b> the script in your IDE, and copy and paste the content below. 
<br>
Save and return to Unity to compile.
</ol>

<br><br>

<center>
<i>TeleportByColor.cs script:</i><br>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<font color=#3ab050><b>using</b></font> System<font color="gray">;</font><br>
<br>
<font color=gray>//This script goes onto the teleport object</font><br>
<font color=gray>//The teleport object needs a BoxCollider2D set to isTrigger and a tag called "teleport"</font><br>
<font color=gray>//Set the color name for each object you want to teleport between</font><br>
<font color=#31849b><b>public class </b></font>
<b><font color="#365f91">TeleporterByColor</font></b>
<font color=#365f91><b> : MonoBehaviour</b></font> {<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public Vector3</b></font> newPosition;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public </b></font>GameObject[] allTeleporters;<br>
&nbsp; &nbsp; &nbsp;&nbsp; 

<font color=gray>// since arrays are not meant to be dynamic, we use a list:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; 	<font color=#31849b><b>public List&lt;GameObject&gt;</b></font>
 myColorTeleporters = new List&lt;GameObject&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; 	<font color=#31849b><b>public</b></font> <font color=#31849b><b>string</b></font> myColor = <font color=#ed6c0a><b>&quot;purple&quot;</b></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> OnTriggerEnter2D(Collider2D other){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <font color=#ed6c0a><b>&quot;Player&quot;</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=#31849b><b>Vector3</b></font> playerPos = other.gameObject.transform.position;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=#31849b><b>float</b></font> DistToPlayer = Vector3.Distance(playerPos, transform.position);<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//This prevents teleporters from looping. Set trigger colliders no smaller than 1x1</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=#3ab050><b>if</b></font> (DistToPlayer > <font color=#ed6c0a><b>0.5f</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; GetNearest();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; other.gameObject.transform.position = newPosition;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> GetNearest(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//1. Populate ARRAY with ALL teleporters except self:</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<b><font color="#365f91">this</font></b>.gameObject.tag = <font color=#ed6c0a><b>&quot;Untagged&quot;</b></font>; <font color=gray>//set a temporary tag</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
allTeleporters = GameObject.FindGameObjectsWithTag(<font color=#ed6c0a><b>&quot;teleport&quot;</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<b><font color="#365f91">this</font></b>.gameObject.tag = <font color=#ed6c0a><b>&quot;teleport&quot;</b></font>; <font color=gray>//change the tag back</font><br><br>

&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//2. Get the LIST of ONLY the teleporters that share the same color:</font><br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (myColorTeleporters.Count==<font color=#ed6c0a><b>0</b></font>){<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>string</b></font> thisColor = myColor;<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>int</b></font> addToIndex = <font color=#ed6c0a><b>0</b></font>;<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#3ab050><b>for</b></font> (int i = <font color=#ed6c0a><b>0</b></font>; i < allTeleporters.Length; i++){<br>				
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>string</b></font> thatColor = allTeleporters[i].GetComponent&lt;teleportByColor&gt;().myColor;<br>				
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (thatColor == thisColor){<br>					
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; myColorTeleporters.Add(allTeleporters[i]);<br>					
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addToIndex ++;<br>				
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//3. Test each List item for CLOSEST:</font> 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
Transform closestTarget = <b><font color="#365f91">null</font></b>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=#31849b><b>float</b></font> closestTargetSquare = Mathf.Infinity; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=#31849b><b>Vector3</b></font> thisPosition = transform.position;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (myColorTeleporters == <b><font color="#365f91">null</font></b>){ Debug.Log(<font color=gray>"no other teleporters of this color"</font>);}
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>else</b></font> { <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>for</b></font> (int i = <font color=#ed6c0a><b>0</b></font>; i < myColorTeleporters.Count; i++){ 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>Vector3</b></font> distanceToNewTarget = myColorTeleporters[i].transform.position - thisPosition; 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>float</b></font> distanceSquareToNewTarget = distanceToNewTarget.sqrMagnitude; 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (distanceSquareToNewTarget < closestTargetSquare){ 
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closestTargetSquare = distanceSquareToNewTarget; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; closestTarget = myColorTeleporters[i].transform; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; newPosition = closestTarget.position;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; } 
<br>
} 
<br>
<br>
</div>

<br>
<br>
<b>c. Create multiple Teleporter colors:</b>
<ol>
<li> <b>Duplicate the Teleporters:</b> 
<br>
In the Hierarchy, <font face=arial>duplicate the Teleporter multiple times 
<br>
and move them away from each other</font>. 

<br>
<li> <b>Create Color Groups:</b> 
<br>
Select two or more teleporters to make them a part of the same color group: 
    <ol type="a">
    <li> change the sprite color of the child art 
    <br>
    (Example: hit the color rectangle and choose a red)<br>
    <li> rename  parent objects for the color 
    <br>
    (Example, call Red teleporters TeleporterR1, TeleporterR2, etc) 
    <br>
    <li> in the TeleportByColor script slot set the name of the color  
    <br>
    (Example: &quot;red&quot;)
    </ol>
</ol>

 When you hit [Play], the Player will teleport to the nearest teleporter of the same color!<br>
<br><br>

</font>

<center>
<img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<br>
<a href="#02f"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02f2">&nbsp;</a> 
<b><font color=purple>[2].</font> Grappling Hook / Hookshot</b>
<br>
(See this more advanced version: 
<a href="https://youtu.be/dnNCVcVS6uw?si=lKIaaK-q7bIuTcGR" target=hookshot1>better grappling hook, 10 minutes</a>)<b>:</b>
<br>
A Grappling hook is usually for a Platformer, but can be  in a top-down game as well. <br>
 These videos use a Unity Line-Renderer
to represent the rope. 
<br>
Encourage Player agency by allowing them to move and jump while rope-hanging.

<br><br>
<strong>VERSION 1:</strong> Basic Grappler (source <a href="https://youtu.be/P-UscoFwaE4?si=YCQ5QCBksL7tfdSH" target=hookshot2>video</a>, modified)<br>
<a href="gamedesign/Unity2D/grapple1.png" target=grapple1><img src="gamedesign/Unity2D/grapple1_thumb.png" height=250 align=right></a>
<strong>1. Create</strong> the <strong>Player</strong> object:
<li> Create an empty game object. In Inspector name it &quot;Player&quot;, Reset Transforms. 
<li> RightClick Player to create a Sprite (like a circle). Name it &quot;player_art&quot;.
<li> Add 4 components to the parent Player object:<br>
 &nbsp; &nbsp; &nbsp;&nbsp; [Add Component] &gt; <strong>Circle Collider2D</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; [Add Component] &gt; <strong>Rigidbdy2D</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; Add Component] &gt; <strong>Line Renderer</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; [Add Component] &gt; <strong>Distance Joint 2D</strong>. <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; For platform interaction, turn on &quot;<strong>Enable Collision</strong>&quot;. 


<br><br><br><br>
<br><br><br><br>
<a href="gamedesign/Unity2D/grapple2.png" target=grapple1><img src="gamedesign/Unity2D/grapple2_thumb.png" height=250 align=right></a>
<strong>2. Create</strong> a new <strong>Unlit Particle Material</strong> and add it to the Line Renderer
<ol type="a">
<li> In the Project panel, right-click to create a new <strong>Material</strong>. Name it &quot;<strong>line_m</strong>&quot;.
<li> In the Inspector, set the <strong>shader</strong> to <strong>Particles &gt; Unlit</strong>.
<li> Set color = <strong>black</strong>. 
<li> Select the Player. In the Inspector find  <strong>Line Renderer &gt; Materials</strong> and <strong>drag</strong> this new material into the <strong>Element 0</strong> material slot. 
<li> In the graph, lower the thickness (red line) from 1 down to 0.2.
</ol>


<br><br><br><br>
<strong>3. Create</strong> a new C# script, name it &quot;Grappler.cs&quot;.
<ol type="a">
<li> Add the content below, save. Return to Unity and compile.
<li> Add the script to the Player.
<br>


</ol>
<center>
<i>Grappler.cs script:</i>
</center>

<div class="blockScript">
 <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=gray>//This script goes onto the Player object</font><br>
        <font color=#31849b><b>public class </b></font> <b><font color="#365f91">Grappler</font></b> <font color=#365f91><b> : MonoBehaviour</b></font> {<br>
        <br> 
&nbsp;&nbsp; &nbsp;<font color=#31849b><b>private</b></font> Camera mainCamera; <br> 
&nbsp;&nbsp; &nbsp;<font color=#31849b><b>private</b></font> LineRenderer lineRend; <br> 
&nbsp;&nbsp; &nbsp;<font color=#31849b><b>private</b></font> DistanceJoint2D distJoint;
<br> 
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>public float</b></font> pullSpeed = <font color=#ed6c0a><b>5f</b></font>; 

<br>
<br>
&nbsp; &nbsp; <font color=gray>	// To limit clicks to grapple-able spots: </font>
<br>
&nbsp; &nbsp; <font color=gray>	// apply a new Layer to sprites </font>
<br>&nbsp; &nbsp; <font color=gray>	// with a collider, and to this LayerMask slot): </font>
<br>&nbsp; &nbsp; <font color=#31849b><b>public</b></font> LayerMask grappleLayer; <br><br>
&nbsp;&nbsp; &nbsp;<font color=#31849b><b>void</b></font> Start(){ 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;mainCamera = GameObject.FindWithTag(<font color=#ed6c0a><b>&quot;MainCamera&quot;</b></font>).GetComponent
&lt;Camera&gt;();
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;lineRend = gameObject.GetComponent&lt;LineRenderer&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; distJoint = gameObject.GetComponent&lt;DistanceJoint2D&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  distJoint.enabled = <b><font color="#365f91">false</font></b>;<br>
&nbsp; &nbsp;  }<br>
<br> 
&nbsp;&nbsp; &nbsp;<font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (Input.GetKey(KeyCode.Mouse0)){<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;</font><font color=gray>//if (CanGrapple()){</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;  Vector2 mousePos = (Vector2)mainCamera.ScreenToWorldPoint(Input.mousePosition);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineRend.SetPosition(<font color=#ed6c0a><b>0</b></font>, mousePos);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineRend.SetPosition(<font color=#ed6c0a><b>1</b></font>, transform.position);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; distJoint.connectedAnchor = mousePos;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; distJoint.enabled = <b><font color="#365f91">true</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; lineRend.enabled = <b><font color="#365f91">true</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; transform.position = Vector3.MoveTowards(transform.position, mousePos, pullSpeed * Time.deltaTime);<br>
<font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;</font></font><font color=gray>//}</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>else if </b></font>(Input.GetKeyUp(KeyCode.Mouse0)){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;distJoint.enabled = <b><font color="#365f91">false</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;lineRend.enabled = <b><font color="#365f91">false</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (distJoint.enabled){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;  lineRend.SetPosition(<font color=#ed6c0a><b>1</b></font>, transform.position);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;}<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;}<br>
&nbsp; &nbsp; &nbsp;}

<br>
<br>
<font color=gray>// Check if clicked on a sprite with the layer applied</font>
<br>
<font color=gray>// (Only accessed if CanGrapple check above is uncommented)</font>
<br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>private bool</b></font> CanGrapple(){
<br>	
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; RaycastHit2D hit = Physics2D.Raycast(mainCamera.ScreenToWorldPoint(Input.mousePosition), Vector2.zero);<br>	
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (hit.collider != null){ <br>	
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//Debug.Log("I hit: " + hit.collider.gameObject.name);</font>
<br>	
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//hit.transform.GetComponent&lt;SpriteRenderer&gt;().material.color = Color.red;</font>
<br>
<br>	
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<font color=gray>//check if  LayerMask contains hit object's layer with a bit shift:</font>
<br>		
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (( grappleLayer & (<font color=#ed6c0a><b>1</b></font> << hit.collider.gameObject.layer)) != <font color=#ed6c0a><b>0</b></font>){ <br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;
<font color=gray>//Debug.Log("can Grapple");</font>
<br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;return <b><font color="#365f91">true</font></b>; <br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;}<font color=#3ab050><b> else</b></font> { <br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;
<font color=gray>//Debug.Log("cannot Grapple");</font>
<br>				
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;return <b><font color="#365f91">false</font></b>; <br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;} <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; } <font color=#3ab050><b>else</b></font> { <br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//Debug.Log("no hit");</font>
<br>			
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;  return <b><font color="#365f91">false</font></b>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; } <br>	
&nbsp; &nbsp; &nbsp;} <br>
} 
<br><br>
</div>

<br>
<img src="gamedesign/Unity2D/grapple3.png" align=right>
Hit <strong>[Play]</strong> to test! 
<br>
It may be helpful to add a ground object sprite, and to make the player bouncy with a 2D &gt; PhysicMaterial2D set to medium bounciness and assigned to the player.

<br><br><br><br>
<br><br><br>

<strong>4.</strong> Want your swinging player to <strong>only grapple onto particular objects</strong>? <br>
The Grapple.cs script already includes a CanGrapple() function to test the click.
<li> To activate it: find the two commented-out lines in the Update() function, and un-comment them:

<br>
<div class="blockScript">
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;</font><font color=gray>//if (CanGrapple()){</font><br>
        <br>
        <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;</font></font><font color=gray>//}
</div>


<li> Select any object to add a <strong>new Layer</strong> called "<strong>grapple</strong>". 
<li> Select  Player. In Inspector assign "grapple" to the Grapple.cs LayerMask script <strong>slot</strong>. 
<li> Finally, create <strong>new sprites</strong> at the top of the camera area. In the Inspector <strong>[Add Component]</strong> &gt; <strong>BoxCollider2D</strong>. Assign the <strong>grapple Layer</strong>.


<br><br><br><br>
<img src="gamedesign/Unity2D/grapple4.png" alt="" align=right>Hit <strong>[Play]</strong> to test! <br>
 Now, clicking on empty air
will not activate the grappling line, but clicking on the sprites with the grapple layer will work.

<br><br><br>
<br><br><br>
<br><br><br>
<br>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>
<br>

<a href="#02f"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02f3">&nbsp;</a> <b><font color=purple>[3].</font> VEHICLE MOTION, TOP-DOWN</b> 
<br>
(with thanks to Harrison Chang)<br>
Vehicles can be used in racing games, delivery games, zamboni games, etc.<br>
The movement is very different than a person's, with evident accelertion and deceleration, and rotation only when moving.<br><br>
<strong>1. SET UP THE CAR OBJECT AND ART:</strong><br>
</font><ol type="a">
    <li><font face="arial">Create an <strong>Empty Game Object</strong>. In Inspector name it &quot;<strong>Car</strong>&quot;, <strong>Reset</strong> Transforms. </font>
    <li><font face="arial">[Add Component] <strong>BoxCollider2D</strong> and <strong>Rigidbody2D</strong>. </font>
    <li><font face="arial"><strong>Drag</strong> your art onto Car to make it a child (or right-click Car to add a sprite). </font>
    <li><font face="arial">Set art <strong>Order in Layer =
      100</strong>. </font>
    </ol>

<br>
<strong>2. ADD THE CAR CONTROLLER SCRIPT:</strong><br>
<ol type="a">
  <li> Create a new <strong>C# script</strong>, named &quot;<strong>CarController_TopDown</strong>.cs&quot;.  
  <li>Add the content below, and <strong>Save</strong>. In Unity, compile and apply to the Car.  
</ol>
<br>

<center>
<i>CarController_TopDown.cs script:</i><br>
</center>

<div class="blockScript">
 <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=gray>//This script goes onto the Player object</font><br>
        <font color=#31849b><b>public class </b></font> <b><font color="#365f91">CarController_TopDown</font></b> <font color=#365f91><b> : MonoBehaviour</b></font> {

    <br><br>
	&nbsp;&nbsp; &nbsp;[Header("Car settings")]
    <br>&nbsp;&nbsp; &nbsp;<font color=#31849b><b>public float</b></font> accelerationFactor = <font color=#ed6c0a><b>10.0f</b></font>; 
    <br>
    &nbsp;&nbsp; &nbsp;<font color=#31849b><b>public float</b></font> turnFactor = <font color=#ed6c0a><b>3.5f</b></font>; <br>
    &nbsp;&nbsp; &nbsp;<font color=#31849b><b>public float</b></font> driftFactor = <font color=#ed6c0a><b>0.95f</b></font>; <font color=gray>// adds more natural drift</font>
	<br>&nbsp;&nbsp; &nbsp;<font color=#31849b><b>public float</b></font> rotationLimiter = <font color=#ed6c0a><b>5f</b></font>; /<font color=gray>/ increase to increase rotation angle.</font>
	<br>
	&nbsp;&nbsp; &nbsp;<font color=#31849b><b>public bool</b></font> allowStandingRotation = <b><font color="#365f91">false</font></b>; <font color=gray>// enable for rotation without driving</font>
	<br>&nbsp;&nbsp; &nbsp;<font color=#31849b><b>public float</b></font> maxSpeed = <font color=#ed6c0a><strong>20</strong></font>; <font color=gray>// Caps car speed</font>
      
    <br>
    <br>&nbsp;&nbsp; &nbsp; <font color=gray>// Local Variables</font>
    <br>
    &nbsp;&nbsp; &nbsp;<font color=#31849b><b>Vector2 </b></font>inputVector;
    <br>
    &nbsp;&nbsp; &nbsp;<font color=#31849b><b>float</b></font> accelerationInput = <font color=#ed6c0a><strong>0</strong></font><strong><font color="#ed6c0a">f</font></strong>;<br>
	&nbsp;&nbsp; &nbsp;<font color=#31849b><b>float</b></font> steeringInput = <font color=#ed6c0a><strong>0</strong></font><strong><font color="#ed6c0a">f</font></strong>;<br>
	&nbsp;&nbsp; &nbsp;<font color=#31849b><b>float</b></font> rotationAngle = <font color=#ed6c0a><strong>0</strong></font><strong><font color="#ed6c0a">f</font></strong>;
	<br>
	&nbsp;&nbsp; &nbsp;<font color=#31849b><b>float</b></font> velocityVsUp = <font color=#ed6c0a><strong>0</strong></font><strong><font color="#ed6c0a">f</font></strong>; <font color=gray>// Track forwards velocity</font>
      
    <br>
    <br>
    &nbsp;&nbsp; &nbsp;<font color=gray>// Components</font><br>
    &nbsp;&nbsp; &nbsp;Rigidbody2D carRb2D;<br>
    <br>
        &nbsp;&nbsp; &nbsp;<font color=#31849b><b>void</b></font> Awake(){<br>
        &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;carRb2D = GetComponent&lt;Rigidbody2D&gt;();<br>
        &nbsp; &nbsp;  }<br>
        <br>
        &nbsp;&nbsp; &nbsp;<font color=#31849b><b>void</b></font> Update(){<br>
	  &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;inputVector = Vector2.zero;<br> 
	&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;inputVector.x = Input.GetAxis(<font color=#ed6c0a><strong>&quot;Horizontal&quot;</strong></font>);<br> 
	&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;inputVector.y = Input.GetAxis(<font color=#ed6c0a><strong>&quot;Vertical&quot;</strong></font>);<br> 
	&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;SetInputVector(inputVector);<br>
        &nbsp; &nbsp; &nbsp;}<br>
        <br>
&nbsp;&nbsp; &nbsp;<font color=#31849b><b>void</b></font> FixedUpdate(){<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;ApplyEngineForce();<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;KillOrthogonalVelocity(); <font color=gray>// Apply drifting function</font><br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;ApplySteering();<br>
&nbsp; &nbsp; &nbsp;}<br>
<br>&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> ApplyEngineForce(){<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Calculate directional velocity (how much "forward" we are moving)</font><br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;velocityVsUp = Vector2.Dot(transform.up, carRb2D.velocity);<br>
<br>        
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Limit velocity to maxSpeed</font><br>        
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (velocityVsUp > maxSpeed && accelerationInput > <font color=#ed6c0a><strong>0</strong></font>) {<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<b><font color="#365f91">return</font></b>;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;}<br>
<br>        
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Limit velocity reversing </font><br>        
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (velocityVsUp < -maxSpeed * 0.5f && accelerationInput < <font color=#ed6c0a><strong>0</strong></font>) { <br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<b><font color="#365f91">return</font></b>;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;}<br>
<br>        
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Do the same for all other directions</font> <br>        
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (carRb2D.velocity.sqrMagnitude > maxSpeed * maxSpeed && accelerationInput > <font color=#ed6c0a><strong>0</strong></font>) {<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<b><font color="#365f91">return</font></b>;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;}<br>
<br>		
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;</font><font color=gray>// Apply drag if there is no acceleration input</font> <br>       
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (accelerationInput == <font color=#ed6c0a><strong>0</strong></font>) { <br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;carRb2D.drag = Mathf.Lerp(carRb2D.drag, <font color=#ed6c0a><b>3.0f</b></font>, Time.fixedDeltaTime * <font color=#ed6c0a><b>3</b></font>);<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;} <font color=#3ab050><b>else</b></font> { 
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;carRb2D.drag = <font color=#ed6c0a><strong>0</strong></font>;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;} <br>
<br>        
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Create a force for the car to start</font> 
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector2</b></font> engineForceVector = transform.up * accelerationInput * accelerationFactor; <br>
<br>        
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Apply force to car</font> 
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;carRb2D.AddForce(engineForceVector, ForceMode2D.Force); <br>
        &nbsp; &nbsp; &nbsp;}<br>
        <br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font><b><font color="#31849b"> </font></b>ApplySteering(){ 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<font color=#31849b><b>float</b></font> minSpeedBeforeTurning = <font color=#ed6c0a><strong>1</strong></font>; <br>
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Limit the car's ability to turn when moving slowly:</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (!allowStandingRotation){
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;minSpeedBeforeTurning = (carRb2D.velocity.magnitude / rotationLimiter);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;minSpeedBeforeTurning = Mathf.Clamp01(minSpeedBeforeTurning);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;}

<br>
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Update rotation angle based on input direction</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;rotationAngle -= steeringInput * turnFactor * minSpeedBeforeTurning;

<br>
<font face=arial>&nbsp; &nbsp; &nbsp;</font>&nbsp; &nbsp; &nbsp;<font color=gray>// Apply rotation to car</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;carRb2D.MoveRotation(rotationAngle);

&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<br>
&nbsp; &nbsp; &nbsp;}<br>
<br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font><b><font color="#31849b"> </font></b>KillOrthogonalVelocity(){ 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector2</b></font> fwdVelocity = transform.up * Vector2.Dot(carRb2D.velocity, transform.up);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector2</b></font> rightVelocity = transform.right * Vector2.Dot(carRb2D.velocity, transform.right);
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;carRb2D.velocity = fwdVelocity + rightVelocity * driftFactor;
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<br>
&nbsp; &nbsp; &nbsp;}<br>
<br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font><b><font color="#31849b"> </font></b>SetInputVector(<font color=#31849b><b>Vector2</b></font> inputVector){ <br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;steeringInput = inputVector.x; <br> 
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;accelerationInput = inputVector.y;<br>
&nbsp; &nbsp; &nbsp;}<br>
        }
<br>
<br>
</div>
<br>

<br><br>
<font face=arial>
<strong>3. OPTIONALLY, ADD WHEEL STREAKS:</strong>
</font><ol type="a">
<li><font face="arial">In the Hierarchy, right-click the Car, add an <strong>Effects &gt; Trail</strong>. Name it Trail_wheel. </font>

<br><br>
<li><font face="arial">In the Inspector, under Trail Renderer, make these changes:

</font><ol>
	<li><font face="arial">A</font><font face="arial">djust the width red line in the <strong>Graph</strong>: </font>
	  <ul>
		<li><font face="arial">Drag the left control point (start) down to 0.2. 
		</font>
		<li><font face="arial">Right-click the red line on the right to <strong>[add key]</strong>. </font>
		<li><font face="arial"> Drag the new control point (end) down to 0.
	</font></ul>
<li><font face="arial">Set <strong>Time</strong> = 1 (how long until the trail disappears) </font>
<li><font face="arial">Click the <strong>Color rectangle</strong> to set the bottom two tabs to black (color). Set the upper-left tab = 220, upper-right tab to 0 (opacity) </font><li><font face="arial">Set <strong>Order In Layer</strong> = 99 </font></ol><br>
<li><font face="arial">In the Hierarchy, <strong>duplicate</strong> the trail object (select and hit <strong>[Ctrl / Cmd] + [d]</strong>). <br>
  Move the trails to represent each wheel side. </font></ol>


<br><br>

<p><font face="arial"><em><strong>NOTE:</strong></em> To have a Player that moves normally, and then enters a Car (essentially becoming the Car): consider a keyboard input, within range of the Car: parent the player to the Car, set the player to .SetActive(false), set the Car to the Player tag, and set active the CarController_TopDown component on the car, so it becomes the Player. Reverse all of this when the player wants to get out and walk.</font></p>
<font face="arial">

<br><br>

</font>
<center>
  <img src="gamedesign/bullet.png" alt="">
  <img src="gamedesign/bullet.png" alt="">
  <img src="gamedesign/bullet.png" alt="">
</center>

<br><br>
<a href="#02f"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02f4">&nbsp;</a> <b><font color=purple>[4].</font> Flying </b>(Steps and scripts to come)<b>:</b><br>
There are many ways to handle flying: With <b>wings</b>, with a <b>rocket pack</b>, with a <b>cape</b>. 
<br>
Similarly,  Swimming can be thought of as flying underwater.<br>
 Important things to consider for each type of flying motion: 
<ol type="a">
 <li> How can the motion and input define the FEEL of the flying / swimming<br>
 <li> What constraints can we add to encourage interesting player choice?
</ol><br>
<p>
For example, consider this &quot;flappy bird&quot;-like system for flying with <b>Wings</b>: 
<ol>
<li> Adjust a jumping script so the player is not constarined with isGrounded (see below). 
<li> Limit how high the player can jump, so each &quot;jump&quot; goes only a bit higher.
<li> Add a Coroutine to run after each &quot;jump&quot; to allow the player to fall a bit, then briefly push the player up a bit, to imitate an extra wing flap
<li> Add a <strong>Time Constraint / Recharge circle <a href="#02h">(2H)</a>:</strong> When the player is flying, the circle depletes. When the player lets the wings rest, the player refills. The player cannot fly when the circle is fully depleted. 
</ol>
<br>

<center>
<i>PlayerFlappyFly.cs script:</i>
</center>

<div class="blockScript">
 <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=gray>//This script goes onto the Player object</font><br>
        <font color=#31849b><b>public class </b></font> <b><font color="#365f91">PlayerFlappyFly</font></b> <font color=#365f91><b> : MonoBehaviour</b></font> {<br>
        <br>
        &nbsp; &nbsp;&nbsp;<font color=gray>//public Animator anim;</font> <br>    
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>public </b></font>Rigidbody2D rb; <br>    
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>public float</b></font> flyForce = <font color=#ed6c0a><b>20f</b></font>; <br>    
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>public bool</b></font> isAlive = <b><font color="#365f91">true</font></b>; <br>	
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>bool </b></font> canFly = <b><font color="#365f91">false</font></b>; <br>	
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>public static bool</b></font> flyEnergyEnough = <b><font color="#365f91">true</font></b>; <br>	
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>public float</b></font> groundPos =<b><font color="#ed6c0a"> 0</font></b>; <br>
<br><font color=gray>
&nbsp; &nbsp;&nbsp;//SoundFX: <br>	
&nbsp; &nbsp;&nbsp;//public AudioSource[] flySFXs; 
</font>
<br>
 <br>   
 &nbsp; &nbsp;&nbsp;<font color=#31849b><b>void </b></font> Start(){ <br>		
 &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=gray>//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font>
<br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;rb = GetComponent&lt;Rigidbody2D&gt;();
<br>    
&nbsp; &nbsp;&nbsp;} <br>
<br>    
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>void </b></font> Update() { <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (flyEnergyEnough){ canFly = <b><font color="#365f91">true</font></b>; } <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=#3ab050><b>else</b></font> { canFly = <b><font color="#365f91">false</font></b>; } <br>
<br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> ((Input.GetButtonDown(<font color=#ed6c0a><b>&quot;Jump&quot;</b></font>)) && (canFly) && (isAlive)) { <br>			
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;Fly(); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;} <br>    
&nbsp; &nbsp;&nbsp;} <br>
<br>	
&nbsp; &nbsp;&nbsp;<font color=#31849b><b>public void </b></font> Fly(){ <br>		
&nbsp; &nbsp;&nbsp;<font color=gray>//move up:</font> <br>    	
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;rb.velocity = Vector2.up * (jumpForce/<font color=#ed6c0a><b>2</b></font>); <br>	
<br>		
&nbsp; &nbsp;&nbsp;<font color=gray>//play sound:</font> 
<br>
<font color=gray>		
&nbsp; &nbsp;&nbsp;/* <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;int flyNum = Random.Range(0,flySFXs.Length); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;if (!flySFX.isPlaying){ <br>			
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;flySFXs[flyNum].Play(); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;} <br>		
&nbsp; &nbsp;&nbsp;*/ 
</font><br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;
<font color=gray>//anim.SetBool("Fly", true);</font>
<br>
<br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=gray>//manage dropping:</font> 
<br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;StopCoroutine(BirdDrop()); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;StartCoroutine(BirdDrop()); <br>	
&nbsp; &nbsp;&nbsp;} <br>
<br>	
&nbsp; &nbsp;&nbsp;IEnumerator BirdDrop(){ <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=#31849b><b>yield return new </b></font>WaitForSeconds(<font color=#ed6c0a><b>0.5f</b></font>); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;rb.velocity = <font color=#31849b><b>Vector2</b></font>.up * (flyForce/<font color=#ed6c0a><b>3</b></font>); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=#31849b><b>yield return new </b></font> WaitForSeconds(<font color=#ed6c0a><b>0.5f</b></font>); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;rb.velocity = <font color=#31849b><b>Vector2</b></font>.up * (flyForce/<font color=#ed6c0a><b>4</b></font>); <br>
<font color=gray>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;//yield return new WaitForSeconds(0.5f); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;//rb.velocity = Vector2.up * (flyForce/5); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;//yield return new WaitForSeconds(0.5f); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;//rb.velocity = Vector2.up * (flyForce/5); <br>
<br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;//Until you have a recharge timer: 
</font>

<br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=#31849b><b>yield return new </b></font>WaitForSeconds(<font color=#ed6c0a><b>1f</b></font>); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;canFly = <b><font color="#365f91">false</font></b>; <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=#31849b><b>yield return new </b></font>WaitForSeconds(<font color=#ed6c0a><b>cf</b></font>); <br>		
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;canFly = <b><font color="#365f91">true</font></b>; <br>	
&nbsp; &nbsp;&nbsp;} <br>
<br>}


<br>
<br>
</div>

<br><br>
<br>

<center>
  <img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt=""><img src="gamedesign/bullet.png" alt="">
</center>

<font face=arial>
<br><br><br>
<a href="#02f"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02f5">&nbsp;</a> 
<b><font color=purple>5.</font> Dash </b>(Steps and script to come)<b>:</b><br>
Consider a Dash that moves the player at much greater speeds over short distances. 
<br> Perhaps it kills (or damages) enemies along the way. 
<br>It may also convey temporary inviulnerability. 
<br>It likely should include a cool-down, so it cannot just be used constantly.<br>

<br />
<br />
</font>
<center>
  <img src="gamedesign/bullet.png" alt="" /><img src="gamedesign/bullet.png" alt="" /><img src="gamedesign/bullet.png" alt="" />
</center>
<p><font face="arial"> <br />
  <br />
  <br />
  <a href="#02f"><img src="gamedesign/triangle_purple.png" alt="" /></a> <a name="02f6" id="02f56">&nbsp;</a> <b><font color="purple">6.</font> WebGL touch controls for mobiie: Buttons to control player movement:</b><br />
  Here is a simple way to modify a player movement script to allow webGL</font><font face=arial> mobile touch-control.<br>
  </font></p>
<ol>
  <li>Add a <strong>UI &gt; Button</strong> to your Canvas. Size 100 x 100. Open in the Hierarchy, select the child Text object and in the Inspector disable the text to hide it.</li>
  <li>In the Inspector, with the Button selected, name it <strong>Button_CTRL</strong>. </li>
  <li>At the bottom of the Inspector, click <strong>[Add Component] </strong>to add an<strong> Event Trigger </strong>(instead of adding an OnClick event). Click <strong>[Add New Event Type]</strong> twice, to add <strong>Pointer Down</strong> (for the button press) and <strong>Pointer Up</strong> (for the button release)</li><br>
  <li>Drag  Button_CTRL into the Prefabs folder to make it a <strong>Prefab</strong>.</li>
  <li>In the Scene,<strong> drag</strong> it into the lower-left corner of your Canvas. <strong>Duplicate</strong> until you have <strong>four</strong>, and arrange into a cross (thumb controller). Name each: <strong>Button_CTRL_Up</strong>, <strong>Button CTRL_Down</strong>, <strong>Button_CTRL_Left</strong>, <strong>Button_CTRL_Right</strong>.</li><br>
<li>To a basic player movement script, add the following 3 elements: </li>
<ol type="a">
<li><strong>One bool variable for each direction</strong> (at the top of the class): 
<br> 
<font color="#31849b"><b>private bool</b></font> moveLeftOn = <b><font color="#365f91">false</font></b>; <br>
<font color="#31849b"><b>private bool</b></font> moveRightOn = <b><font color="#365f91">false</font></b>; <br>
<font color="#31849b"><b>private bool</b></font> moveUpOn = <b><font color="#365f91">false</font></b>; <br>
<font color="#31849b"><b>private bool</b></font> moveDownOn = <b><font color="#365f91">false</font></b>; <br><br>
<li><strong>Two public functions for each button's press and release, to enable / disable these bools</strong> (at script bottom) <br>
  <font color="#31849b"><b>public void</b></font> MoveLeft(){moveLeftOn = <b><font color="#365f91">true</font></b>;} <br> 
<font color="#31849b"><b>public void</b></font> MoveLeftOff(){moveLeftOn = <b><font color="#365f91">false</font></b>;} <br> 
<font color="#31849b"><b>public void</b></font> MoveRight(){moveRightOn = <b><font color="#365f91">true</font></b>;} <br> 
<font color="#31849b"><b>public void</b></font> MoveRightOff(){moveRightOn = <b><font color="#365f91">false</font></b>;} <br> 
<font color="#31849b"><b>public void</b></font> MoveUp(){moveUpOn = <b><font color="#365f91">true</font></b>;} <br> 
<font color="#31849b"><b>public void</b></font> MoveUpOff(){moveUpOn = <b><font color="#365f91">false</font></b>;} <br> 
<font color="#31849b"><b>public void</b></font> MoveDown(){moveDownOn = <b><font color="#365f91">true</font></b>;} <br> 
<font color="#31849b"><b>public void</b></font> MoveDownOff(){moveDownOn = <b><font color="#365f91">false</font></b>;} <br><br>
<li> <strong>When the buttons are pressed, add 1 to movement in that direction</strong> (in the FixedUpdate() function)
<br>
 <font color="#3ab050"><b>if</b></font> (moveLeftOn) { movement.x = <font color="#ed6c0a"><b>-</b></font><font color="#ed6c0a"><b>1</b></font>; } <br> 
 <font color="#3ab050"><b>if</b></font> (moveRightOn) { movement.x = <font color="#ed6c0a"><b>1</b></font>; } <br> 
 <font color="#3ab050"><b>if</b></font> (moveUpOn) { movement.y = <font color="#ed6c0a"><b>1</b></font>; } <br> 
 <font color="#3ab050"><b>if</b></font> (moveDownOn) { movement.y = <font color="#ed6c0a"><b>-1</b></font>; }


</ol>
</ol>

<br />
<center>
  <i>PlayerMoveTouch.cs script:</i>
</center>
<div class="blockScript"> <font color="#3ab050"><b>using</b></font> System.Collections.Generic;<br />
  <font color="#3ab050"><b>using</b></font> System.Collections;<br />
  <font color="#3ab050"><b>using</b></font> UnityEngine;<br />
  <br />
  <font color="gray">//This script goes onto the Player object</font><br />
  <font color="#31849b"><b>public class </b></font> <b><font color="#365f91">PlayerMoveTouch</font></b> <font color="#365f91"><b> : MonoBehaviour</b></font> {<br />
  <br />
  &nbsp; &nbsp;&nbsp;<font color="gray">//public Animator anim;</font> 
  <br />
  &nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> Rigidbody2D rb; 
  <br>
  &nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public float</b></font> moveSpeed = 5f;
  <br>
  &nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public Vector2</b></font> movement; 
  
  <br />
  <br />
&nbsp; &nbsp;&nbsp;<font color="gray">//touch control variables</font>:<br><font color="#31849b"><b>&nbsp; &nbsp;&nbsp;private bool</b></font> moveLeftOn = <b><font color="#365f91">false</font></b>; <br><font color="#31849b"><b>&nbsp; &nbsp;&nbsp;private bool</b></font> moveRightOn = <b><font color="#365f91">false</font></b>; <br><font color="#31849b"><b>&nbsp; &nbsp;&nbsp;private bool</b></font> moveUpOn = <b><font color="#365f91">false</font></b>; <br><font color="#31849b"><b>&nbsp; &nbsp;&nbsp;private bool</b></font> moveDownOn = <b><font color="#365f91">false</font></b>; <br />
  <br />
  &nbsp; &nbsp;&nbsp;<font color="#31849b"><b>void </b></font> Start(){ <br />
  &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color="gray">//anim = gameObject.GetComponentInChildren&lt;Animator&gt;();</font> <br />
  &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;rb = GetComponent&lt;Rigidbody2D&gt;(); <br />
  &nbsp; &nbsp;&nbsp;} <br />
  <br />
  &nbsp; &nbsp;&nbsp;<font color="#31849b"><b>void </b></font> FixedUpdate() { <br>
  &nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <font color=gray>//keyboard input:</font>
<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;movement.x = Input.GetAxisRaw(<b><font color="#ed6c0a">&quot;Horizontal&quot;</font></b>);
<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;movement.y = Input.GetAxisRaw(<b><font color="#ed6c0a">&quot;Vertical&quot;</font></b>); <br>
<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=gray>//movement buttons:</font>
<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color="#3ab050"><b>if</b></font> (moveLeftOn) { movement.x = <font color="#ed6c0a"><b>-</b></font><font color="#ed6c0a"><b>1</b></font>; } <br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color="#3ab050"><b>if</b></font> (moveRightOn) { movement.x =<b><font color="#ed6c0a"> </font></b><font color="#ed6c0a"><b>1</b></font>; } <br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color="#3ab050"><b>if</b></font> (moveUpOn) { movement.y =<b><font color="#ed6c0a"> </font></b><font color="#ed6c0a"><b>1</b></font>; } <br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color="#3ab050"><b>if</b></font> (moveDownOn) { movement.y = <font color="#ed6c0a"><b>-</b></font><font color="#ed6c0a"><b>1</b></font>; } <br>
<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;<font color=gray>//paddle movement:</font>
<br>
&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;rb.MovePosition(rb.position + movement * moveSpeed * Time.fixedDeltaTime); <br />
  &nbsp; &nbsp;&nbsp;} <br />
  <br> 
&nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> <font color="#31849b"><b>void</b></font> MoveLeft(){moveLeftOn = <b><font color="#365f91">true</font></b>;} <br>
&nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> <font color="#31849b"><b>void</b></font> MoveLeftOff(){moveLeftOn = <b><font color="#365f91">false</font></b>;} <br>
&nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> <font color="#31849b"><b>void</b></font> MoveRight(){moveRightOn = <b><font color="#365f91">true</font></b>;} <br>
&nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> <font color="#31849b"><b>void</b></font> MoveRightOff(){moveRightOn = <b><font color="#365f91">false</font></b>;} <br>
&nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> <font color="#31849b"><b>void</b></font> MoveUp(){moveUpOn =<b><font color="#365f91"> true</font></b>;} <br>
&nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> <font color="#31849b"><b>void</b></font> MoveUpOff(){moveUpOn = <b><font color="#365f91">false</font></b>;} <br>
&nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> <font color="#31849b"><b>void</b></font> MoveDown(){moveDownOn = <b><font color="#365f91">true</font></b>;} <br>
&nbsp; &nbsp;&nbsp;<font color="#31849b"><b>public</b></font> <font color="#31849b"><b>void</b></font> MoveDownOff(){moveDownOn = <b><font color="#365f91">false</font></b>;} <br />
  } <br />
  <br />
</div><br>

<ol start="8">
  <li> Once the revised script has compiled: select each Button_CTRL and drag the Player  object into the two Event Trigger script slots, to give access to the player movement script.</li>
  <li>set the function of each Event Trigger to the rret function. For example, for Button_CTRL_Left, choose MoveLeft() and MoveLeftOff(). </li>
</ol>

<p>
  <p><strong>QUESTIONS: </strong>
  <li> How might we get a full range of directions, instead of discrete buttons?
<li> How might we identify of the webGL browser is being viewed / played on a mobie device, to display this button system only when touch is available?
<a href="https://discussions.unity.com/t/how-to-detect-if-a-mobile-is-running-the-webgl-scene/645467/12" target=newMobile1>helpful discussion</a>

<br>
<br><br>
<br></td></tr></table>
</div></td>
</tr></table>
<br>

<a name="02g">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion3">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>
<font face="arial"><b> [2G]</b> <b>GAME FEEL: VFX / SFX</b> </font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>
  <center>
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=purple><b>[2G]:</b></font> <b>GAME FEEL: VFX / SFX</b></font>
<br>
<a href="#02g1">Power-Up VXF</a> &nbsp;| &nbsp; <a href="#02g6">Audio SFX</a>

| &nbsp;<a href="#02g3">Audio Shepard Scale</a><br> 
<a href="#02g2">Sprite Color Change</a> &nbsp; | &nbsp; <a href="#02g4">Particle Effects</a> &nbsp; | &nbsp; 
<a href="#02g5">Camera Screen Shake</a><br>
<a href="#02g7">UI Animations</a> &nbsp; | &nbsp; 
<a href="#02g8">Screen Fade</a> &nbsp; | &nbsp; 
<a href="#02g9">Damage Vignette</a> &nbsp; | &nbsp; 
<a href="#02g10">Scene Wavey Effect</a>
 
</center>

  
<br><br>

<center>
<b>COLLISION EFFECTS:</b>
</center>
There are many ways to emphasize an impact or action and let the player know something happened. 

<br>
Here are four ways to communicate information to the player in-game: 

<br>
change the object <a href="#02g2"><b>color</b></a>, play a <a href="#02g3"><b>sound</b></a>, create a <a href="#02g4"><b>particle effect</b></a>, add <a href="#02g5"><b>camera-shake</b></a>. 

<br>
These effects can also be changed to happen on an attack impact instead of just a jump or fall. 

<br>
<br>
<b>Create a simple test scenario in a new Scene:</b><br>
<b>a.</b> Create a <b>ground</b> platform (GameObject &gt; 2D &gt; Sprite &gt; Rectangle) or Tilemap  with a collider. <br>
<br>
<b>b.</b> Create an <b>object</b> to fall: Create a GameObject &gt; 2D &gt; Sprite &gt; Rectangle. <br>
In the Inspector name it &quot;<b>BounceBox</b>&quot; and set Order In Layer = 100. <br>
[AddComponent] Physics2D &gt; Rigidbody2D and BoxCollider2D. Lift it significantly above the ground. <br>
<br>
<b>c.</b> <b>Make it bouncy:</b> RightClick the Project panel to create a <b>2D &gt; Physic Material2D</b>.<br>
<img src="gamedesign/bullet.png" alt=""> In the Inspector: Set <b>bounciness</b> to 0.7 and <b>friction</b> to 0.1.<br>
<img src="gamedesign/bullet.png" alt=""> Drag the PhysicMaterial2D onto the BounceBox so it is added to the Collider &quot;Material&quot; slot.

  
  
  
<br><br><br>

<center>
<img src="gamedesign/bullet.png" alt=""> &nbsp; 
<img src="gamedesign/bullet.png" alt=""> &nbsp; 
<img src="gamedesign/bullet.png" alt="">
</center>

<br><br>


<a href="gamedesign/Unity2D/PowerUp_VFX_back.png" target=pvfx1><img src="gamedesign/Unity2D/PowerUp_VFX_back.png" alt="" border=1 align=right></a>


<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02g1">&nbsp;</a>
<b>OPTION 1. Power Up VFX on the Player:</b>

<br>

<br><b>a.</b> Download and import these player VFX spritesheets (or make your own):<br>  

<br><b>b.</b> Select both and in the Inspector <b>[Apply] </b>these settings: 
<br>&nbsp; &nbsp; &nbsp; &nbsp; Sprite Mode = Multiple<br>
&nbsp; &nbsp; &nbsp; &nbsp; Pixels Per Unit = 16<br>
&nbsp; &nbsp; &nbsp; &nbsp; Filter Mode = Point (no filter)<br>
&nbsp; &nbsp; &nbsp; &nbsp; Compression = None<br>  
<a href="gamedesign/Unity2D/PowerUp_VFX_front.png" target=pvfx1><img src="gamedesign/Unity2D/PowerUp_VFX_front.png" alt="" border=1 align=right></a>

<br>
<b>c.</b> Open the [Sprite Editor] for each and Slice each with Cell Count = 4x4, hit <b>[Apply].</b><br><br>
<b>d.</b> Drag the first frame of each into the Hierarchy onto the Player object, to make them children of the Player. Name them and set Order In Layer to surround the Player:<br>
&nbsp; &nbsp; &nbsp; &nbsp; <b>PowerUp_VFX_front</b> (set Order in Layer = 105)<br>
&nbsp; &nbsp; &nbsp; &nbsp; <b>PowerUp_VFX_back</b> (set Order in Layer = 95)<br>
<br>
<b>e.</b> Open the Window &gt; Animator &gt; Animator. Select PowerUp_VFX_Front and hit <b>[Create]</b>, name the clip powerUpFront_anim. Drag all 16 frames from that Spritesheet into the timeline, on 3s starting at frame 10: <br>
10, 13, 16, 19, 22, 25, 28, 31, 34, 37, 40, 43, 46, 49, 52, 55.<br>
Repeat for PowerUp_VFX_Back, frames 15-60 (so the back and front move at separate times)<br><br>
<b>f.</b> Create a new C# script named &quot;PlayerVFX.cs&quot;. Add the following code, Save, and drag this script onto the Player. Drag each of the child VFX images into the powerUp script slots.

<br><br>

<center>
<font face="arial"><i>PlayerVFX.cs script:</i><br>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>PlayerVFX</b><font face=arial><font face=arial><font face=arial><font face=arial><font color=#365f91><b> : MonoBehaviour</b></font></font></font></font></font></font>{<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; public GameObject powerUp1;<br>
&nbsp; &nbsp; &nbsp; &nbsp; public GameObject powerUp2;<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; void Start(){<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>powerUp1.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>);<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>powerUp2.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; } <br> 
&nbsp; &nbsp; &nbsp; &nbsp; public void powerup(){<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Debug.Log(<font color=#ed6c0a><b>&quot;PowerUp VFX!&quot;</b></font>);<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>StartCoroutine(playVFX1()); <br>
&nbsp; &nbsp; &nbsp; &nbsp; }
<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; IEnumerator playVFX1(){<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>powerUp1.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>);<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>powerUp2.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">true</font></b></font>);<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>yield return new WaitForSeconds(<font color=#ed6c0a><b>3.0f</b></font>);<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>powerUp1.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>);<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>powerUp2.SetActive(<font color=#0070c0><b><font color="#365f91" face="arial">false</font></b></font>); <br>
&nbsp; &nbsp; &nbsp; &nbsp; }
<br><br>}
<br>
</div>


<br><br><br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; 
  <img src="gamedesign/bullet.png" alt=""> &nbsp; 
  <img src="gamedesign/bullet.png" alt="">
</center>
<br><br><br>


<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02g6">&nbsp;</a><b>ADDING AUDIO (SFX):</b> <br>
Audio effects are one of the most powerful ways to make gameplay interaction meaningful and impactful! 

<br>
<br>
<b>To add a sound effect to an object:</b>
<br>
<b>a). Drag an audio clip onto the object in the Hierarchy</b> (.WAV for short sounds, .MP3 for longer music). <br>
This adds an <b>AudioSource Component</b> to the object with the clip loaded. 

<br>
<br>
<b>b).</b> The AudioSource component has a bool "<b>Play on Awake</b>" turned on by default. <br>
This bool causes audio clips to play immediately when the Scene starts. <br>
<b>Turn off Play on Awake</b> for all AudioSources except ambient music that you DO want to play immediately. 

<br>
<br>
<b>c).</b> Next, add a script to play the audio when desired (or add  to an existing script): <b> <br>
</b>Start with a public variable of type AudioSource at the top of the script:
<br>


<div class="blockScript">
&nbsp; &nbsp; &nbsp;&nbsp; <b>public AudioSource jumpSFX;</b>
</div>


<br>
Then put the Play() command where you want the sound to be activated, typically paired with a VFX, like inside a Input.GetButtonDown() condition:<br>

<div class="blockScript">
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br>
        &nbsp; &nbsp; &nbsp;&nbsp;if (Input.GetButtonDown(&quot;Jump&quot;){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <b>jumpSFX.Play();</b><br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
      </div>

<br>
<b>To make a looping sound, like footsteps, and not get a clicking sound when you play:</b><br>
An audio called by an Update() function will happen every frame by default, getting 1 frame into the clip before it is re-started. To solve this we put the AudioSource.Play(); command inside of an if-condition that checks to see if the clip is <em>not</em> already playing (not = !). <br>
<br>
Here is code from the playerMove.cs script Update() function in this tutorial, with Audio parts set bold:<br>

<div class="blockScript">
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;if (Input.GetAxis("Horizontal") != 0){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; animator.SetBool (&quot;Walk&quot;, true);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <b>if (!WalkSFX.isPlaying){</b><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <b>WalkSFX.Play();</b><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <b>}</b><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; animator.SetBool (&quot;Walk&quot;, false);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <b>WalkSFX.Stop();</b><br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
</div>


<br>
<b>In order to play a sound NOT intended to loop</b>, like an impact or an explosion, put the AudioSource.Play(); command in a function that is called only once, like an OnTriggerEnter2D. <br>
Pair it with a visual effect: Instantiate a Particle System or sprite animation, change color, add screenshake, etc: <br>
<br>
<b>If the triggering object is a pickup</b> (meant to be destroyed after the Player touches it) the destroy method must be <b>delayed</b> so the audio has time to play. <br>
<br>
The below script uses a Coroutine to create a delay. The script is applied to an Empty Game Object, the art is a child of this GO, and on impact with the Player both the Collider and art Renderer are turned off before the Coroutine is called. This makes the pickup seem to disapear before it is actually destroyed, so the audio has time to play:

<br><br>
<center>
<i>myPickup.cs script: </i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>myPickup : MonoBehaviour</b></font></font></font></font></font></font>{<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> AudioSource pickupSFX;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public float</b></font> destroyDelay = <b><font color="#ed6c0a">1f</font></b>; <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font> OnTriggerEnter2D(Collider2D other){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.gameObject.tag == <b><font color="#ed6c0a">&quot;Player&quot;</font></b>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameObject.GetComponent&lt;Collider2D&gt;().enabled = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>; <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameObject.GetComponentInChildren&lt;SpriteRenderer&gt;().enabled = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; pickupSFX.Play();<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(destroyPickup());<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; IEnumerator destroyPickup(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>yield return new </b></font></font></font></font></font></font>WaitForSeconds(destroyDelay);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy(gameObject);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }</div>
        
        
        
<br>
<b>To Play Multiple sound clips from the same object </b>(like the Player): <br>
<b>1.</b> Select the object and <b>[Add Component] </b>Audio &gt;<b> AudioSource</b>, 1 for each clip as you want added (only one clip can just be dragged onto the object to make an AudioSource; after that, instead of making a new Component, it just replaces the clip already there, so the Components need to be added manually).

<br><br>
<b>2.</b> <b>Drag the clips</b> one by one into the AudioSource Components. Turn off &quot;<b>Play On Awake</b>&quot; for each.

<br><br>
<b>3.</b> In your script/s on this object, make sure the class variables for AudioSource are each <b>public</b>, so they are exposed in the Inspector.

<br><br>
<b>4. Drag  the AudioSource Components</b> into each script slot in the Inspector (LeftClick-drag the Component rolldown bar), so you can choose exactly which clip is activated by which variable. 

<br>
<br>
<br>
<b>d). Add the Mixer:</b> 
<br>
The <strong>Pause Menu tutorial</strong> includes a section on Volume Control and creating an Audio Mixer for your game. <br>
Load this Mixer into the Mixer slot of every AudioSource, to put that sound clip under the Mixer's control.

<br>
<br>
<br>
<br>
<b>EXTRA: </b>This cool <a href="https://youtu.be/8pFlnyfRfRc" target=sound>video tutorial</a> offers a system for keeping all game sounds on one &quot;SoundManager&quot; object, and calling those sounds as needed from other scripts. It also includes an example of using Switch Case. 

<br>
<br>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>


<br>
<br>

<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02g3">&nbsp;</a>
<b>PLAY A SOUND and raise the pitch with each impact: a SHEPARD SCALE: </b> 

<br>
<b>a.</b> Download this <a href="gamedesign/Unity2D/PianoC.wav"><b>sound file</b></a> (piano middle C), drag into Project and onto the Player. 

<br>
<br>
<b>b.</b> Inspector: Turn off <b>Play on Awake</b>, set <b>Volume</b> = 0.5. 

<br>
<br>
<b>c.</b> Create a new <b>C# script</b> called &quot;<b>ImpactSounds.cs</b>&quot;, add it to the Player. <br>
This script creates a &quot;Shepard tone&quot;: an increasing pitch with each hit. <br>
Hit <b>[Play]</b> to test, turn off Play to edit. 

<br>
<br>
<center>
<em>ImpactSounds.cs</em> (sound file needs to be on cube)
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font face=arial><font face=arial><font color=#31849b><b>public class</b></font></font></font></font><font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>ImpactSounds : MonoBehaviour</b></font></font></font></font></font> {<br>
          <br>
          &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#3ab050><b>private</b></font></font> <font face=arial><font color=#3ab050><b>float</b></font></font> hits = <b><font color="#ed6c0a">0</font></b>;<br>
          &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#3ab050><b>private</b></font></font> <b><font color=#31849b>AudioSource</font></b> audioClip; 
          &nbsp;&nbsp; <font color=#aaaaaa>//the actual AudioSource</font><br>
          &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#3ab050><b>private</b></font></font> <font face=arial><font color=#3ab050><b>float</b></font></font> clipStartPitch;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#aaaaaa>//the original note</font> <br>
          &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#3ab050><b>private</b></font></font> <font face=arial><font color=#3ab050><b>float</b></font></font> clipPitch;&nbsp; &nbsp;  
          &nbsp; &nbsp;&nbsp; &nbsp;  
          &nbsp; &nbsp;  
          &nbsp;  
          &nbsp;<font color=#aaaaaa>//a modified note</font><br>
          &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#3ab050><b>private</b></font></font> <font face=arial><font color=#3ab050><b>float</b></font></font> clipVolume;<font face=arial>&nbsp; &nbsp; </font> &nbsp; &nbsp;  
          &nbsp;   
          &nbsp;&nbsp; &nbsp;<font color=#aaaaaa>//hold and modify the volume</font><br>
          <br>
          &nbsp; &nbsp; &nbsp;&nbsp; <b><font color=#31849b>void</font></b> Awake() {<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; <font color=#aaaaaa>//populate the variables</font><br>
          &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;  audioClip = GetComponent&lt;AudioSource&gt;();<br>
          &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; clipStartPitch = audioClip.pitch;<br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; clipPitch = audioClip.pitch;<br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; clipVolume = audioClip.volume;<br>
          &nbsp; &nbsp; &nbsp;&nbsp; }<br>
          <br>
          &nbsp; &nbsp; &nbsp;&nbsp; <b><font color=#31849b>void</font></b> OnCollisionEnter2D(<font color=#31849b><b>Collision2D</b></font> other){<br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#aaaaaa>//if the impact has enough force, play audio</font><br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.relativeVelocity.magnitude > <b><font color="#ed6c0a">5</font></b>) {<br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; audioClip.Play();<br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=#aaaaaa>//increment hits #</font><br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; hits +=<b><font color="#ed6c0a"> 1</font></b>;<br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <font color=#aaaaaa>//if pitch is above 0, lower pitch per hits,  lower volume</font><br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (clipPitch > 0){<br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; clipPitch = (clipStartPitch - (hits/<b><font color="#ed6c0a">10</font></b>)); <font color=#aaaaaa>//lower pitch</font><br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; audioClip.pitch = clipPitch; 
          &nbsp; &nbsp; &nbsp; &nbsp;  
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#aaaaaa>//assign to clip</font><br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; audioClip.volume = clipVolume /<b><font color="#ed6c0a"> 2</font></b>;<br>
          &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br>
          &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br>
          &nbsp; &nbsp; &nbsp;&nbsp; }<br>
          }
</div>

<br>
<br>

<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>

<br>
<br>
<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02g2">&nbsp;</a><b>CHANGE COLOR:</b>

<br>
<b>a.</b> Create a new <b>C# script</b> called &quot;<b>ImpactColorChange.cs</b>&quot; with the content below.

 
<br><br>
<b>b.</b> Add the script to the Player.

<br><br>
<b>c.</b> Hit <b>[Play]</b> to test, turn off Play to edit.<br>
<center>
  <em>ImpactColorChange.cs</em> 
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections; <br>
      <font color=#3ab050><b>using</b></font> System.Collections.Generic; <br>
      <font color=#3ab050><b>using</b></font> UnityEngine; <br>
      <br>
      <font face=arial><font face=arial><font face=arial><font color=#31849b><b>public class</b></font></font></font></font> <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>ImpactColorChange : MonoBehaviour</b></font></font></font></font></font></font> { <br>
      <br>
      &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>private</b></font> <font color=#3ab050><b>float</b></font> hits = <font color=#ed6c0a><b>0</b></font>; 
      &nbsp; &nbsp; <font color=#aaaaaa>//the # of this object's collisions</font> <br>
      &nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b> private</b></font> <font color=#3ab050><b>float</b></font> r ; <font face=arial> &nbsp; &nbsp;  &nbsp; &nbsp; </font>&nbsp;&nbsp;&nbsp; &nbsp; <font color=#aaaaaa>// red color, 0-1</font> <br>
      &nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b> private</b></font> <font color=#3ab050><b> float</b></font> g ; <font face=arial> &nbsp; &nbsp; </font>&nbsp;&nbsp;&nbsp;&nbsp; 
      &nbsp; &nbsp; <font color=#aaaaaa>// green color, 0-1</font> <br>
      &nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#3ab050><b> private float</b></font></font> b ; <font face=arial> &nbsp; &nbsp; </font>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; <font color=#aaaaaa>// blue color, 0-1</font><br>
      <br>
      &nbsp; &nbsp; &nbsp;&nbsp; <b><font color=#31849b>void</font></b> OnCollisionEnter2D(<font color=#31849b><b>Collision2D</b></font> other){<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#aaaaaa>//if the impact has enough force</font><br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (other.relativeVelocity.magnitude > <font color=#ed6c0a><b>5</b></font>) {<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <font color=#aaaaaa>//increment hits #</font><br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; hits += <font color=#ed6c0a><b>1</b></font>;<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <font color=#aaaaaa>//randomize RGB color values, but go from warm to cool</font><br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (hits <=<b><font color="#ed6c0a"> 4</font></b>) {<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; r = <b><font color=#31849b>Random</font></b>.Range (<font color=#ed6c0a><b>0.3f</b></font>, <font color=#ed6c0a><b>1f</b></font>);<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;  g = <b><font color=#31849b>Random</font></b>.Range (<font color=#ed6c0a><b>0.1f</b></font>, <font color=#ed6c0a><b>0.5f</b></font>);<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; b = <b><font color=#31849b>Random</font></b>.Range (<font color=#ed6c0a><b>0f</b></font>, <font color=#ed6c0a><b>0.2f</b></font>);<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; }<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (hits ><b><font color="#ed6c0a"> 4</font></b>) {<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; r = <b><font color=#31849b>Random</font></b>.Range (<font color=#ed6c0a><b>0f</b></font>, <font color=#ed6c0a><b>0.3f</b></font>);<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;g = <b><font color=#31849b>Random</font></b>.Range (<font color=#ed6c0a><b>0f</b></font>, <font color=#ed6c0a><b>0.3f</b></font>);<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; b = <b><font color=#31849b>Random</font></b>.Range (<font color=#ed6c0a><b>0.3f</b></font>, <font color=#ed6c0a><b>1f</b></font>);<br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; }<br>
      <br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>SpriteRenderer</b></font> squareRenderer = GetComponent&lt;<b><font color=#31849b>SpriteRenderer</font></b>&gt;
      <Renderer>
      (); <br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; squareRenderer.color = <font color=#3ab050><b>new</b></font> <b><font color=#31849b>Color</font></b>(r,g,b); <br>
      &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br>
      &nbsp; &nbsp; &nbsp;&nbsp; } <br>
      } 
</div>

<font face=arial>This is a random color generator. For a simple color change on an attack impact, set the color to a specific Vector3, and then in a CoRoutine add a delay and then set it back to white (2.5f, 2.5f, 2.5f)</font>.

<br>
<br>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>

<br>
<br><br>
<font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><b><font face=arial><a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a></font></b></font></b></font></b></font></b></font></b></font></b></font><a name="02g4">&nbsp;</a>INSTANTIATE (SPAWN) A PARTICLE EFFECT: </b><br>
 <a href="gamedesign/Unity2D/ParticleSettings.png" target=PSettings><img src="gamedesign/Unity2D/ParticleSettings_sm.png" alt="" height=500 align=right border=1></a> <b>a.</b> Download this <a href="gamedesign/Unity2D/ParticleSmokeSmall.png"><b>smoke texture</b></a> or this <a href="gamedesign/Unity2D/EmptyPixels32.png" target=sprite><b> Empty PNG</b></a>, drag into Project.
  
<ul>
	<li> RightClick Project panel to create <b>Material</b>, name it ParticleSmoke. 
	<li> Hit Albedo hotspot and choose this ParticleSmokeSmall.png. 
	<li> Set Shader to <b>Particles &gt; Alpha Blended</b>.
</ul>
<b>b.</b> Create a new GameObject &gt; Effect &gt; <b>ParticleSystem</b>. 
</font><ul> 
	<li> <b>EMISSION:</b> Set Rate Over Time = 0, add a single Burst [+]. 
	<li> <b>SHAPE:</b> Shape = Sphere.  
	<li> <b>RENDERER </b>(bottom)<b>:</b> Set Material to ParticleSmoke Material. 
	<li> <b>MAIN SETTINGS</b> (<i>click image to the right for image</i>)<b>:</b> 

<ul>
<li> Duration = 3. (Eventually, turn off Looping).
<li> Start Lifetime: right-triangle switch: &quot;Random Between two Constants&quot;, 1 and 2. </li>
<li> Start Speed: right-triangle switch: &quot;Random Between two Constants&quot;, 0 and 0.1.</li>
<li> Start Size = 1
</ul>
	<li> <b>VELOCITY OVER LIFETIME:</b> Turn on. Set Radial = 0.5.
    <li> <b>COLOR OVER LIFETIME:</b> Turn on. Click white rectangle to access <br>
 &nbsp; &nbsp;color and opacity bar. Set bottom tabs (color) to brown and black. <br>
 &nbsp; &nbsp;Set top right tab to Alpha=0. Move the right-side tabs to Location=50&#37;.
</ul>
 
 <br>
 
 
 <center>
   <img src="gamedesign/Unity2D/ParticlesColorLife.png" alt="">
 </center>
 <br>
 <b>c.</b> Drag the Particle Effect to the Project panel to make a <b>Prefab</b>.<br>
 <li> <b>Delete</b> the Particle Effect from the Hierarchy.
 
<br><br>
<b>d.</b> Create a new <b>C# script</b> called &quot;<b>ImpactParticles.cs</b>&quot; to the Player.
<ol>
 <li> Add the Particle Prefab to <b>script slot</b>.<br>
 <li> Hit <b>[Play]</b> to test, turn off Play to continue editing.
</ol>

<center>
<br>
<i>ImpactParticles.cs</i> (drag Particles Prefab into script slot)
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font face=arial><font face=arial><font color=#31849b><b>public class</b></font></font></font></font> <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>ImpactParticles : MonoBehaviour</b></font></font></font></font></font></font>{<br>
        <br>
        <font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font></font></font> <font color=#31849b><b>GameObject</b></font> hitParticles;<br>
        <font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font></font></font> <font color=#31849b><b>Vector3</b></font> spwnPoint;<br>
        <br>
        <font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> OnCollisionEnter2D(<font color=#31849b><b>Collision2D</b></font> other){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font face="arial">&nbsp; &nbsp;</font></font><font color=#aaaaaa>//if the impact has enough force</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font face="arial">&nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (other.relativeVelocity.magnitude ><b><font color="#ed6c0a"> 5</font></b>) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=#aaaaaa>//get impact location</font><br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></font>spwnPoint = other.contacts[<b><font color="#ed6c0a">0</font></b>].point;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font face=arial><font face="arial">&nbsp; &nbsp; &nbsp; &nbsp;</font></font><font color=#aaaaaa>//make particles</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;  GameObject particleSys = Instantiate (hitParticles, spwnPoint, other.transform.rotation);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;  StartCoroutine(destroyParticles(particleSys));<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; IEnumerator destroyParticles(GameObject pSys){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>yield return new </b></font></font></font></font></font></font> WaitForSeconds(<b><font color="#ed6c0a">4f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy(pSys);<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>}<br>
</div>


A particle system can be added to a jump lift off or landing to emphasize the motion, to any melee or projectile impact. 

<br>
<br>
<h3>MORE PARTICLE SYSTEMS:</h3>
<strong>Wet Particle Explosion: </strong>
<br> 
This is an exmple of a particle system wth art that needs a clear direction. 
<br>The key step is to set Rendering &gt; RenderMode = Stretched Billboard

<br>

<ol>
<a href="gameDesign/Unity2D/Wet_Particle.png" target=droplet><img src="gameDesign/Unity2D/Wet_Particle.png" align=right></a>
<li><strong>Import an image of a droplet</strong> that points to the left, like this example: <br>
(In a 2D game, the art is automatically a sprite, In a 3D game, set Texture Mode = Sprite.)


<br><br>
<li><strong>Create a new Material</strong>: right-click the Assets folder, Create &gt; <strong>Material</strong>.
  <ul>
<li>Name it &quot;<strong>PS_Splash_m</strong>&quot;.
<li>Set Shader to <strong>Particles > Standard Unlit</strong>
<li>Drag the droplet PNG into the <strong>Albedo</strong> slot.
<li>To make the material use the image transparency, set the Rendering Mode = <strong>Fade</strong>. 
</ul>

<br>
<li><strong>Create a new Particle System:</strong> right-click the Hierachy, <strong>Effects &gt; Partcle System</strong>.
<ul>
<li>Name it &quot;<strong>PS_Splash</strong>&quot;. Drag the PS_Splash_m material onto it.
<li><strong>TRANSFORMS:</strong> Set Rotation X =0.
<li><strong>MAIN SETTINGS:</strong> 
<ul>
<li>Set Duration = 1 (eventually, turn off Looping). 
<li>Start Lifetime: right-triangle switch to &quot;Random Between two Constants&quot;, 0.3 and 0.5.
<li>Start Speed: right-triangle switch to &quot;Random Between two Constants&quot;, 3 and 6.

<li>Start Size = 0.8
</ul>
<li> <b>EMISSION:</b> Set Rate over Time = 0, add a single Burst [+]. 
<li> <b>SHAPE</b>: Set Shape = Circle
<li><strong>COLOR OVER LIFETIME:</strong> Set bottom color tabs as desired. Set top right opacity tab to black (to fully fade away)
<li><strong>SIZE OVER LIFETIME:</strong> Click the curve icon to see the curve at the bottom of the Inspector (may need to lift the bottom panel to see it). Try a curve that goes from 1 to 0. If choosing Random Between Two Curves, set the other to 0.5 to 0.
<li><strong>RENDERING:</strong> Set RenderMode to <strong>Stretched Billboard</strong>. This is what makes the water droplet point in the direction the particle is moving!
  </ul><br>
<li> Create a new C# script named "<strong>VFX_DestroyMe</strong>.cs". Add content below, save, add to PS_Splash.


<br>
<center>
<i>VFX_DestroyMe.cs</i>
</center>

<div class="blockScript">
<font color="#3ab050"><b>using</b></font> System.Collections;<br />
        <font color="#3ab050"><b>using</b></font> System.Collections.Generic;<br />
        <font color="#3ab050"><b>using</b></font> UnityEngine;<br />
        <br />
        <font face="arial"><font face="arial"><font face="arial"><font color="#31849b"><b>public class</b></font></font></font></font> <font face="arial"><font color="#0070c0"><font face="arial"><font face="arial"><font face="arial"><font color="#365f91"><b>VFX_DestroyMe : MonoBehaviour</b></font></font></font></font></font></font>{<br />
        <br />
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font color="#31849b"><b>public</b></font></font></font> <font color="#31849b"><b>float</b></font> timeToDestroy = <b><font color="#ed6c0a">0.5f</font></b>;<br />
        <br />
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color="#31849b"><b>void</b></font></font> Start(){<br />
        &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font face="arial">&nbsp;&nbsp; </font></font>StartCoroutine(DestroyMe());<br />
        &nbsp; &nbsp; &nbsp;&nbsp; }<br />
        <br />
        &nbsp; &nbsp; &nbsp;&nbsp; IEnumerator DestroyMe(){<br />
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face="arial"><font color="#0070c0"><font face="arial"><font face="arial"><font face="arial"><font color="#365f91"><b>yield return new </b></font></font></font></font></font></font> WaitForSeconds(timeToDestroy);<br />
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Destroy(gameObject);<br />
        &nbsp; &nbsp; &nbsp;&nbsp; }<br />
        }<br />
</div>


<li> <strong>Drag</strong> the PS_Splash Particle System into the Prefabs folder to make it a <strong>Prefab</strong>, and delete it from the Scene. It can now be added to a script slot, to be instantiated as needed, like on a projectile impact. 
</ol>
<br>

<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>

<br>
<br>

<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a>
<a name="02g5">&nbsp;</a><b>ADD SCREEN SHAKE (CAMERA SHAKE, </b>
<a href="https://youtu.be/9A9yj8KnM8c" target=shake>source</a><b>):</b><br><b>a.</b> Create a new GameObject &gt; <b>Empty Game Object.</b><br>In the Inspector, name it &quot;<b>CameraShaker</b>&quot; and reset Transforms.

<br><br>
<b>b.</b> Select your MainCamera. Set Position Transforms to (0,0, -10).<br>Drag MainCamera onto CameraShaker to make it a <b>child</b>.
<br>
Remove any CameraFollow.cs script from MainCamera and add it to CameraShaker.

<br><br>
<b>c.</b> Create a new <b>C# script</b> called &quot;<b>CameraShake.cs</b>&quot; with the following content. Drag this script onto your CameraShaker. Hit <b>[Play]</b> to test: hit [p] on your keyboard to see the shake.


<br><br>
<center>
<i>CameraShake.cs</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections;
<br><font color=#3ab050><b>using</b></font> System.Collections.Generic;
<br><font color=#3ab050><b>using</b></font> UnityEngine;
<br><br>
<font face=arial><font face=arial><font color=#31849b><b>public class</b></font></font></font> <font face=arial><font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>CameraShake : MonoBehaviour</b></font></font></font></font></font></font></font>{
<br>
<br>
	<font face=arial><font face=arial><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>float</b></font></font> durationTime = <b><font color="#ed6c0a">0.15f</font></b>;<br>
    <font face=arial><font face=arial><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>float</b></font></font> magnitude = <b><font color="#ed6c0a">0.3f</font></b>; <br><br>
    <font face=arial><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=gray>//The Update Function is just for testing (hit [p]), and can be commented out:</font><br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Update(){<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (<font color=#0070c0><b><font color="#365f91" face="arial">Input</font></b></font>.GetKeyDown(KeyCode.P)){<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>StartCoroutine(ShakeMe(durationTime,magnitude));
<br>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; 
<font color=gray>//use this to call from another script, like when the player gets hit</font>

<br>
&nbsp; &nbsp; &nbsp;&nbsp; 
<font face=arial><font color=#31849b><b>public</b></font></font> void ShakeCamera(float durationTime2, float magnitude2){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(ShakeMe(durationTime2, magnitude2));<br>
    <font face=arial><font face=arial><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font></font>}<br>
    <br>
  <font face=arial><font face=arial><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font></font><font color=gray>//the screenshake!</font>
  <br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font></font> IEnumerator ShakeMe(float durationTime, float magnitude){<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Vector3 origPos = transform.localPosition;<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>float</b></font> elapsedTime = <b><font color="#ed6c0a">0.0f</font></b>;<br>
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>while</b></font> (elapsedTime &lt; durationTime){<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>float</b></font> sX = Random.Range(-<b><font color="#ed6c0a">1f</font></b>, <b><font color="#ed6c0a">1f</font></b>) * magnitude;<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>float</b></font> sY = Random.Range(-<b><font color="#ed6c0a">1f</font></b>,<b><font color="#ed6c0a"> 1f</font></b>) * magnitude;<br>
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>transform.localPosition = new Vector3((origPos.x+sX), (origPos.y+sY), origPos.z);<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>elapsedTime += Time.deltaTime;<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>yield return null</b></font></font></font>;<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>transform.localPosition = origPos;<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
<br>}
<br><br>
  </div>

<br><br>
<b>d.</b> To use this shake-effect as <b>response to in-game interactions</b>, like an impacting enemy attack, simply call the co-routine from the other script. The first float is the duration and the second is the maginitude (the distance the shake travels). For small getting-hit shake, try 0.1f and 0.2f. For a big impact, go up to 0.5f: 

<br>
<br>
<center>
<i>add the bold-faced lines to the desired script: </i>
</center>

<div class="blockScript">
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> <b>CameraShake cameraShake;
</b>
<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; void Start(){ <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <b>cameraShake = GameObject.FindWithTag(&quot;MainCamera&quot;).GetComponent&lt;CameraShake&gt;();</b> <br>
&nbsp; &nbsp; &nbsp;&nbsp; } <br>
<br>&nbsp; &nbsp; &nbsp;&nbsp; void [desired function](){ 
<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <b>cameraShake.ShakeCamera(0.15f, 0.3f);</b>
<br>&nbsp; &nbsp; &nbsp;&nbsp; }
<br>}
</div>

<br>
<em><strong>NOTE:</strong></em> this code does not work for shaking the UI, because the Camnvas follows the camera, so shaking the camera will not be visible on the UI. To shake the UI, see notes below under UI animations.

<br><br><br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>

<br>
<br><br>
<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02g7">&nbsp;</a>
<b>USER INTERFACE ANIMATION: TRANSITIONS WITH TWEEN:</b> 
<br>
Your <b>interface</b> can be juicy, too! Open a menu by scaling horizontally, have buttons appear progressively, etc. Use code to &quot;Tween&quot; the motion using a library like LeanTween (free) or DoTween. 

<br><br>
<b>See this powerpoint for  steps to learn <a href="gamedesign/GameDesign_Tweening.pptx" target=tween>tweening</a>:</b> 
<br>
Short code to animate small, impactful transforms or color changes!<br><br>
Also, try this <a href="https://youtu.be/Ll3yujn9GVQ" target=tween1>video</a>

and  tutorials on LeanTween <a href="https://youtu.be/3lnViPYBHxU" target=tween2>installation</a> and <a href="https://youtu.be/SzJ7GUJTcP8" target=tween3>easing</a> (for more controlled motion).


<br><br>
<em><strong>STEPS: </strong></em>
<br>
<strong>1.</strong> In your <strong>MainMenu</strong> Scene, create a <strong>UI &gt; Button-TextMeshPro</strong> named &quot;<strong>Button_MENU</strong>&quot;
<ol type="a">
<li> Size <strong>300 x 80</strong>, and decide Normal / Highlight <strong>colors</strong>. 
<li> Set child <strong>Text</strong>: <strong>size=45</strong>, <strong>bold</strong>.
<li> Make into a <strong>Prefab</strong>, then duplicate for <strong>3</strong> total buttons: &quot;<strong>Button_Play</strong>&quot;, &quot;<strong>Button_Credits</strong>&quot;, &quot;<strong>Button_Quit</strong>&quot;.
<li>
<strong>Arrange</strong> in the Canvas as desired. Set the <strong>text</strong> content for each, and add <strong>OnClick</strong> functionality.
</ol>

<br>
<br>
<strong>2.</strong> Create a new <strong>C# script</strong> using one of the tween scripts below.
<ol>
<li>
Add the script to all three buttons. 
<li>
For each button, click the choice of button (isButton1, isButton2, or isButton3)
</ol>

<br>
<br>
ButtonsTween_AlphaScale.cs: Use this script to make buttons appear one by one (fade and scale in with a bounce).

<br>
<br>
<center>
<i>ButtonsTween_AlphaScale.cs</i>
</center>
  
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections;<br><font color=#3ab050><b>using</b></font> System.Collections.Generic;<br><font color=#3ab050><b>using</b></font> UnityEngine;<br><font color=#3ab050><b>using</b></font> UnityEngine.UI;<br><font color=#3ab050><b>using</b></font> TMPro;<br>
<br>
<font color=#31849b><b>public class</b></font>
<font color=#365f91><b>ButtonsTween_AlphaScale : MonoBehaviour</b></font>{<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> AnimationCurve curveScale = AnimationCurve.EaseInOut(<b><font color="#ed6c0a">0f</font></b>, <b><font color="#ed6c0a">0f</font></b>, <b><font color="#ed6c0a">1f</font></b>, <b><font color="#ed6c0a">1f</font></b>);<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> AnimationCurve curveAlpha = AnimationCurve.EaseInOut(<b><font color="#ed6c0a">0f</font></b>, <b><font color="#ed6c0a">0f</font></b>, <b><font color="#ed6c0a">1f</font></b>, <b><font color="#ed6c0a">1f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> elapsed = <b><font color="#ed6c0a">0f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3</b></font> startScale;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Image</b></font> thisImage;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private</b></font> TextMeshProUGUI buttonText;
<br>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//private Text buttonText // legacy version</font>

<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> bool isButton1 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> doButton1 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public bool</b></font> isButton2 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> doButton2 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public bool</b></font> isButton3 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> doButton3 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> timer = <b><font color="#ed6c0a">0</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> button1Timer = <b><font color="#ed6c0a">0.5f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> button2Timer = <b><font color="#ed6c0a">0.75f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> button3Timer = <b><font color="#ed6c0a">1f</font></b>;<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  startScale = transform.localScale;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  thisImage = GetComponent&lt;Image&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  thisImage.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">0f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  buttonText = GetComponentInChildren&lt;TextMeshProUGUI&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=gray>//buttonText = GetComponentInChildren&lt;Text&gt;(); // legacy version</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  buttonText.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">0f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  }<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> FixedUpdate () {<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  timer += Time.deltaTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (timer &gt;= button1Timer){doButton1 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (timer &gt;= button2Timer){doButton2 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (timer &gt;= button3Timer){doButton3 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;}<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  ((isButton1) &amp;&amp; (doButton1))<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  || ((isButton2) &amp;&amp; (doButton2))<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  || ((isButton3) &amp;&amp; (doButton3))<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  ){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<font color=gray>// Tween Move:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;transform.localScale = startScale * curveScale.Evaluate(elapsed);<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp;<font color=gray>// Tween Alpha:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp;<font color=#3ab050><b>if</b></font> (elapsed &lt;= <b><font color="#ed6c0a">1f</font></b>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp; <font color=#31849b><b>float</b></font> newAlpha = curveAlpha.Evaluate(elapsed);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp; thisImage.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, newAlpha);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;buttonText.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, newAlpha);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;  elapsed += Time.deltaTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  }<br>
&nbsp; &nbsp; &nbsp;&nbsp;  }<br>
}
</div>

<br>
ButtonsTween_AlphaMove.cs: Use this script to fade-in and move the buttons into position:
<br>
<br>


<center>
<i>ButtonsTween_AlphaMove.cs</i>
</center>  
<div class="blockScript">  
<font color=#3ab050><b>using</b></font> System.Collections;<br>
          <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine;<br>
          <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
          <font color=#3ab050><b>using</b></font> TMPro;<br>
          <br>
          <font color=#31849b><b>public class</b></font> <font color=#365f91><b>ButtonsTween_AlphaMove : MonoBehaviour</b></font>{<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> AnimationCurve curveMove = AnimationCurve.EaseInOut(<b><font color="#ed6c0a">0f</font></b>, <b><font color="#ed6c0a">0f</font></b>, <b><font color="#ed6c0a">1f</font></b>, <b><font color="#ed6c0a">1f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> AnimationCurve curveAlpha = AnimationCurve.EaseInOut(<b><font color="#ed6c0a">0f</font></b>, <b><font color="#ed6c0a">0f</font></b>, <b><font color="#ed6c0a">1f</font></b>, <b><font color="#ed6c0a">1f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> elapsed = <b><font color="#ed6c0a">0f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> elapsedMove = <b><font color="#ed6c0a">0f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Image</b></font> thisImage;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> TextMeshProUGUI buttonText;<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> bool isButton1 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> doButton1 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public bool</b></font> isButton2 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> doButton2 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public bool</b></font> isButton3 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>bool</b></font> doButton3 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> timer = <b><font color="#ed6c0a">0</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> button1Timer = <b><font color="#ed6c0a">0.5f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> button2Timer = <b><font color="#ed6c0a">1.5f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> button3Timer = <b><font color="#ed6c0a">2f</font></b>;<br>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> preOffsetPos;<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>float</b></font> startOffset = <b><font color="#ed6c0a">100f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>Vector3</b></font> startButtonPos;<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; preOffsetPos = transform.position.y;
<font color=gray>//save the destination</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; startButtonPos = transform.position;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; startButtonPos.y += startOffset;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; transform.position = startButtonPos;
<font color=gray>//set the start position</font><br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  thisImage = GetComponent&lt;Image&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  thisImage.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">0f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  buttonText = GetComponentInChildren&lt;TextMeshProUGUI&gt;();<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  buttonText.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">0f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  }<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> FixedUpdate () {<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  timer += Time.deltaTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (timer &gt;= button1Timer){doButton1 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (timer &gt;= button2Timer){doButton2 =<font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b> true</b></font></font></font></font></font></font>;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (timer &gt;= button3Timer){doButton3 = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;}<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  ((isButton1) &amp;&amp; (doButton1))<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  || ((isButton2) &amp;&amp; (doButton2))<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  || ((isButton3) &amp;&amp; (doButton3))<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  ){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;   <font color=gray>// Tween Move:</font><br> 
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;  </font>&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font>(startButtonPos.y >= preOffsetPos){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  startButtonPos.y -= curveMove.Evaluate(elapsedMove) * startOffset;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  transform.position = startButtonPos;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  }
<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>// Tween Alpha:</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (elapsed &lt;= <b><font color="#ed6c0a">1f</font></b>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;   <font color=#31849b><b>float</b></font> newAlpha = curveAlpha.Evaluate(elapsed);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;   thisImage.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, newAlpha);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  buttonText.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, newAlpha);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;   }<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;   elapsed += Time.deltaTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;   elapsedMove += (Time.deltaTime /<b><font color="#ed6c0a"> 10f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  }<br>
&nbsp; &nbsp; &nbsp;&nbsp;  }<br>
}
</div>


<br><br>

Animation Curves can be adjusted in Unity directly, by clicking on the curve in the Inspector. Right click to add a control point on the curve. Select a control point to adjust tangents.

<br><br>
Or, edit the scale bounce script to include a specific curve: c
Copy one of the curve scripts below, then in Unity right-click the curve and hit &quot;paste&quot;):

<br><br> 
<b>scale curve</b>
<div style="text-align:left; padding:20; border:2">
UnityEditor.AnimationCurveWrapperJSON:{"curve":{"serializedVersion":"2",
"m_Curve":
[{"serializedVersion":"3",
"time":0.0,
"value":0.0,
"inSlope":3.9950766563415529,
"outSlope":3.9950766563415529,
"tangentMode":0,
"weightedMode":0,
"inWeight":0.0,
"outWeight":0.10047300904989243},
{"serializedVersion":"3",
"time":0.7080852389335632,
"value":1.2484225034713746,
"inSlope":0.002636743476614356,
"outSlope":0.002636743476614356,
"tangentMode":0,
"weightedMode":0,
"inWeight":0.268322616815567,
"outWeight":1.0},
{"serializedVersion":"3",
"time":1.0,
"value":1.0,
"inSlope":-1.6685060262680054,
"outSlope":-1.6685060262680054,
"tangentMode":0,
"weightedMode":0,
"inWeight":0.5478678345680237,
"outWeight":0.0}],
"m_PreInfinity":2,
"m_PostInfinity":2,
"m_RotationOrder":4}}
</div>


<br><br><br>
<strong>opacity curve:</strong>
<div style="text-align:left; padding:20; border:2">
curve:UnityEditor.AnimationCurveWrapperJSON:{"curve":{"serializedVersion":"2",
"m_Curve":
[{"serializedVersion":"3",
"time":0.0,
"value":0.0,
"inSlope":0.012769672088325024,
"outSlope":0.012769672088325024,
"tangentMode":0,
"weightedMode":0,
"inWeight":0.0,
"outWeight":0.46172669529914858},
{"serializedVersion":"3"
,"time":0.5594940185546875,
"value":0.9989122152328491,
"inSlope":0.007558754645287991,
"outSlope":0.007558754645287991,
"tangentMode":0,
"weightedMode":0,
"inWeight":0.29996269941329958,
"outWeight":0.18988880515098573},
{"serializedVersion":"3",
"time":1.0,
"value":1.0,
"inSlope":0.01713709533214569,
"outSlope":0.01713709533214569,
"tangentMode":0,
"weightedMode":0,
"inWeight":0.23450583219528199,
"outWeight":0.0}],
"m_PreInfinity":2,
"m_PostInfinity":2,
"m_RotationOrder":4}}
</div>


<br><br>
Are you slamming your buttons into the screen, and want a bit of shake? 

<br>
Regular camera-based screenshake will not work, since the UI syncs with the camera. 

<br>
Instead, we  can shake the background image of the Canvas. 

<br><br> 
Create a new script called UI_Shake.cs. 
<br>Use the following code. 
<br>Add this script to the backgroud image of the canvas. 
<br>
<br>
<center>
  <i>UI_Shake.cs</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font color=#365f91><b>UI_Shake : MonoBehaviour</b></font>{<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public float</b></font> durationTime = <b><font color="#ed6c0a">0.15f</font></b>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public float</b></font> magnitude = <b><font color="#ed6c0a">0.3f</font></b>;


<br><br>
<font color=gray>//This Update is just for testing (hit [p]):</font>
<br>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> Update () {
<br>&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (Input.GetKeyDown(Keycode.P)){

<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;StartCoroutine(ShakeMe(durationTime,magnitude));
<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;}
<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp;}<br>
<br><font color=gray>//use this to call from another script, like when the player gets hit</font>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font> ShakeThis(float durationTime2, float magnitude2){ <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;StartCoroutine(ShakeMe(durationTime2, magnitude2));
<br>
&nbsp; &nbsp; &nbsp;&nbsp;}
<br>
<br><font color=gray>//the screenshake!</font>
<br> 
&nbsp; &nbsp; &nbsp;&nbsp;IEnumerator ShakeMe(<font color=#31849b><b>float</b></font> durationTime, <font color=#31849b><b>float</b></font> magnitude){ <br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;</font>&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//Vector3 origPos = transform.localPosition;</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>Vector3</b></font> origPos = transform.position;
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>float</b></font> elapsedTime = <b><font color="#ed6c0a">0.0f</font></b>; <br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;while (elapsedTime < durationTime){
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>float</b></font> sX = Random.Range(-<b><font color="#ed6c0a">1f</font></b>, <b><font color="#ed6c0a">1f</font></b>) * magnitude; <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>float</b></font> sY = Random.Range(-<b><font color="#ed6c0a">1f</font></b>, <b><font color="#ed6c0a">1f</font></b>) * magnitude; <br>
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;</font>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//transform.localPosition = new Vector3((origPos.x+sX), (origPos.y+sY), origPos.z);</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;transform.position = new <font color=#31849b><b>Vector3</b></font>((origPos.x+sX), (origPos.y+sY), origPos.z); <br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;</font>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//Debug.Log("shake:" + transform.position);</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;elapsedTime += Time.deltaTime;
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#31849b><b>yield return </b></font> null; <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;</font>&nbsp; &nbsp; &nbsp;&nbsp;<font color=gray>//transform.localPosition = origPos;</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;transform.position = origPos;
<br>
&nbsp; &nbsp; &nbsp;&nbsp;}    
<br>
}
</div>


<br>
<br>
To activate the UI_Shake script, add the following lines and functions to whichever ButtonsTween_ script you are using, above. There are also lines for a sound effect!

<br>
<br>
<center>
<i>ADD bold-faced content to ButtonsTween_AlphaScale.cs OR _AlphaMove.cs script</i>
</center>
  
<div class="blockScript">  
  <font color=gray>//(1. Add these Effects variables to the to of the script:)</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public </b></font><strong>AudioSource scrapeSFX;
</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public </b></font><strong>UI_Shake UI_toShake;</strong><br> 
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public bool</b></font> <strong>canShake =</strong> <font color=#365f91><b>true</b></font>; 
<br>
<br>
<font color=gray>//(2. Add the bold-faced lines to the FixedUpdate() function:)</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> FixedUpdate () {<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>timer += Time.deltaTime;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (timer >= button1Timer){<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>doButton1 = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> <strong>(isButton1){</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <strong>scrapeSFX.Play();</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <strong>ShakeUI();</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp;<strong> }</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>}<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (timer >= button2Timer){<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>doButton2 = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> <strong>(isButton2){</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <strong>scrapeSFX.Play();</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <strong>ShakeUI();</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <strong>}
</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>}
<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (timer >= button3Timer){
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>doButton3 =<font color=#365f91><b> true</b></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> <strong>(isButton3){
</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <strong>scrapeSFX.Play();
</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <strong>ShakeUI();</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <strong>}
</strong><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }        
     
<br>
<br>
<font color=gray>//(3. Add this new function to the bottom of the script:)</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> ShakeUI(){ <br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (canShake) {
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>Debug.Log("shaking camera");</font>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>UI_toShake.ShakeThis(<b><font color="#ed6c0a">0.4f</font></b>, <b><font color="#ed6c0a">8f</font></b>); <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>canShake = <font color=#365f91><b>false</b></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>}
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> </b></font>}
<br>
</div>


<br>
<br>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<br>
<br>
<br>
<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02g8">&nbsp;</a><b>SCREEN FADE (FADE TO BLACK):</b> <br>
Has your player died? Fade to black! Are they awakening from a dream? Fade to white!
<br><br>
This script assumes end  scenes "End_Win" and "End_Lose".

Be sure the GameHandler is at 0,0,0.<br><br>
Create a new GameObject > 2D > Sprite > Rectangle. In the Inspector name it "fadeBlack". Set color = black, position = 0,0,0, and size = 1000 x 600. Drag onto GameHandler to make it a child.
<br>
<br>Create a new script &quot;ScreenFadeOutIn.cs&quot; and add to the GameHandler.
<br>Drag the FadeBlack object into the fadeBlack script slot.
<br>


<center>
<i>ScreenFadeOutIn.cs script: </i>
</center>
<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
        <br>
        <font color=#31849b><b>public class</b></font> <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>ScreenFadeOutIn : MonoBehaviour</b></font></font></font></font></font></font>{<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> GameObject fadeBlack;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public</b></font> Renderer fadeBlackRend;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private bool</b></font> timeToFadeOut = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private bool</b></font> timeToFadeIn = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private float</b></font> fadeAlpha = <b><font color="#ed6c0a">0f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>private string</b></font> sceneName;<br>
        <br>
&nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b> void</b></font> Awake(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; sceneName = SceneManager.GetActiveScene().name;<br><br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  fadeBlack.SetActive(<font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; fadeBlackRend =  fadeBlack.GetComponent&lt;Renderer&gt;();<br><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> ((sceneName == <b><font color="#ed6c0a">&quot;End_Lose&quot;</font></b>) || (sceneName == <b><font color="#ed6c0a">&quot;End_Win&quot;</font></b>)){<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//Start the object opacity at fully visible</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; fadeBlackRend.material.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">1f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; StartCoroutine(FadedIn());<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <font color=#3ab050><b>else</b></font> {<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//Start the object opacity at zero (invisible)</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;fadeBlackRend.material.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">0f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;   }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
	<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;  </font><font color=#31849b><b>void</b></font> FixedUpdate(){<br>
    <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;  </font>&nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (timeToFadeOut){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  fadeAlpha += <b><font color="#ed6c0a">0.005f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; fadeBlackRend.material.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, fadeAlpha);<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;  </font>&nbsp; &nbsp; &nbsp;&nbsp;  <font face=arial><font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (fadeAlpha &gt;= <b><font color="#ed6c0a">1f</font></b>){fadeAlpha=<b><font color="#ed6c0a">1f</font></b>;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  }<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;  </font>&nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>else if</b></font> (timeToFadeIn){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  fadeAlpha -= <b><font color="#ed6c0a">0.005f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp; fadeBlackRend.material.color = new Color(<b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, <b><font color="#ed6c0a">2.55f</font></b>, fadeAlpha);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  <font color=#3ab050><b>if</b></font> (fadeAlpha &lt;= <b><font color="#ed6c0a">0f</font></b>){fadeAlpha=<b><font color="#ed6c0a">0f</font></b>;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; &nbsp;&nbsp;  }<br>
&nbsp; &nbsp; &nbsp;&nbsp;  } <br>
<br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font color=#31849b><b>public void</b></font> FadeOut(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; fadeBlack.SetActive(<font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; timeToFadeOut = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }

<br><br>
        &nbsp; &nbsp; &nbsp;&nbsp; IEnumerator FadedIn(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>yield return new </b></font></font></font></font></font></font>WaitForSeconds(<b><font color="#ed6c0a">2f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; timeToFadeIn = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; fadeBlack.SetActive(<font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray>//Debug.Log(&quot;End Scene Fading&quot;);</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }
</div>
  
<br>
<i>add to GameHandler.cs script (on player death, for instance):</i>

<div class="blockScript">
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; gameObject.GetComponent&lt;ScreenFadeOutIn&gt;().FadeOut();
    </div>


<br><br><br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<br><br><br>



<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02g9">&nbsp;</a>

<b>VIGNETTE (To show player damage):</b> 

<br>
Want to add to your player getting hurt? Consider a sudden vignette that appears and then fades away. A vignette is a border around the screen

that enhances a sense of claustrophobia to imply the limited vision when we are injured. It is applied as an image on the canvas, and controlled by the GameHandler (which also controlls player health, so the vignette can represent player gettgin hurt and /or declining health).

<br>
<br>
1). In your art tool, create a white border image, or download one of thse provided. 
<ol type="a">
<li> These two examples are each 1800x1000, intended for a Canvas sized 1280x720. 
<li> We use extra larger images than the 1280x720 canvas to allow room to shrink.
</ol>

  <center>
<a href="gamedesign/Unity2D/Vignette1.png" target=vin1><img src="gamedesign/Unity2D/Vignette1.png" width=350></a>
&nbsp; 

<a href="gamedesign/Unity2D/Vignette2.png" target=vin1><img src="gamedesign/Unity2D/Vignette2.png" width=350></a>
</center>

<br>
<br>
2). In Unity, create the Vignette object: 
<ol type="a">
<li> Right-click the Canvas to create a <strong>UI > Image</strong>. 
<li> In the Inspector, name it &quot;<strong>VignetteBorder</strong>&quot; and set the Image <strong>size</strong> = 1280 x 720. 
  <li> Import the Vignette PNG and assign it to the Image source property. 
  <li> Move the Image up in the Canvas so that it is above the rest of the UI 
<br>
(so the rest of the UI will appear above it).
</ol>

<br><br>
3) Create a new script called Vignette.cs  containing the following content. 
<ol type="a">
<li> Apply this script to the GameHandler object that manages player health. 
<li> Drag the VignetteBorder Image into  &quot;theVignette&quot; GameObject slot
</ol>

<br>
<br>
<center>
<i>Vignette.cs script</i><i>: </i>
</center>  

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br>
<font color=#3ab050><b>using</b></font> UnityEngine.UI;<br>
<br>
<font color=#31849b><b>public class</b></font> <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>Vignette : MonoBehaviour</b></font></font></font></font></font></font>{<br>
&nbsp;<br>
&nbsp; &nbsp;<font color=#31849b><b>public</b></font> GameObject theVignette;
     
<br>
&nbsp; &nbsp;<font color=#31849b><b>private bool</b></font> timeToFadeAway = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp;<font color=#31849b><b>private float</b></font> fadeAlpha = <b><font color="#ed6c0a">1f</font></b>;<br>
&nbsp; &nbsp;<font color=#31849b><b>private Color</b></font> vignetteColor;

<br>
<br>
&nbsp; &nbsp;<font color=#31849b><b>void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  theVignette.SetActive(<font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>);
<br>
&nbsp; &nbsp; &nbsp;&nbsp;  vignetteColor = theVignette.GetComponent&lt;Image&gt;().color;<br>
        &nbsp; &nbsp;  }<br>
        <br>
        <font face=arial>&nbsp; &nbsp;</font><font color=#31849b><b>void</b></font> FixedUpdate(){<br>
        <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp;<font color=#3ab050><b>if</b></font> (timeToFadeAway){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp;  fadeAlpha -= <b><font color="#ed6c0a">0.01f</font></b>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp; &nbsp; theVignette.GetComponent&lt;Image&gt;().color = new Color(vignetteColor.r, vignetteColor.g, vignetteColor.b, fadeAlpha);<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font> (fadeAlpha &lt;= <b><font color="#ed6c0a">0f</font></b>){fadeAlpha=<b><font color="#ed6c0a">0f</font></b>;}<br>
&nbsp; &nbsp; &nbsp;&nbsp;  &nbsp;}<br>
&nbsp; &nbsp;} <br>
 <br>
 <font color=gray>//Activate this function from the GameHandler when player is hurt:</font>
 
 <br>
&nbsp; &nbsp;<font color=#31849b><b>public void</b></font> ActivateVignette(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;  theVignette.SetActive(<font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  theVignette.GetComponent&lt;Image&gt;().color = new Color(vignetteColor.r, vignetteColor.g, vignetteColor.b, fadeAlpha);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  StartCoroutine(FadeOut());<br>
&nbsp; &nbsp;} <br>
<br>
&nbsp;  IEnumerator FadeOut(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; yield return new WaitForSeconds(<b><font color="#ed6c0a">0.2f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;timeToFadeAway = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>true</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; yield return new WaitForSeconds(<b><font color="#ed6c0a">1.0f</font></b>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  timeToFadeAway = <font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp;  theVignette.SetActive(<font face=arial><font color=#0070c0><font face=arial><font face=arial><font face=arial><font color=#365f91><b>false</b></font></font></font></font></font></font>);<br>
&nbsp; &nbsp; &nbsp;&nbsp;  fadeAlpha = <b><font color="#ed6c0a">1f</font></b>;<br>
&nbsp; &nbsp;} <br>
        }
</div>

<br>
<br>
<br>
4) Add this line to the GameHandler PlayerGetHit() function: 

<br>
<br>

<center>
Add just the bold-faced line to the<i> GameHandler.cs script: </i>
</center>

<div class="blockScript">  
  &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> playerGetHit(int damage){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(isDefending == <font color=#365f91><b>false</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth -= damage; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (playerHealth >=<font color=#e36c0a><b>0</b></font>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#3ab050><b>if</b></font> (damage > <font color=#e36c0a><b>0</b></font>){
<br>

 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//play GetHit animation</font>: <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; player.GetComponent&lt;PlayerHurt&gt;().playerHit();
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray><strong>//display Vignette</strong></font><strong>:</strong><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>GetComponent&lt;Vignette&gt;().ActivateVignette();</strong><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(playerHealth &gt; StartPlayerHealth){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = StartPlayerHealth; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#3ab050><b>if</b></font><b><font color="#31849b"> </font></b>(playerHealth &lt;= <font color=#e36c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerHealth = <font color=#e36c0a><b>0</b></font>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; updateStatsDisplay();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerDies();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; } 

<br>
<br>
<br>
<br>
</div>


<br>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<br>
<br>
<a href="#02g"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02g10">&nbsp;</a>
<b><em>SHADER EFFECT:</em></b> <b>FRAGMENT SHADER WAVE:</b>
<br>
(SOURCES: <a href="https://youtu.be/yG4dYBfeC0g?si=V-eodowPY6l1dL5E" target=frag1><strong>Wave</strong></a> effect using Shader Script | <a href="https://youtu.be/dFDAwT5iozo?si=-_AjFqAqdjPyQCoC" target=frag2><strong>Explosion</strong></a> effect using Shader Graph) <br>
Create a displacement distortion effect for transitions! 

<br>
<br>
<em><strong>IMPORTANT NOTES:</strong></em> 
<li> This  code using <strong>OnRenderImage()</strong> is for the default<strong> Built-In Renderer</strong> only. 
<li> To use the <strong>Universal Render Pipeline</strong> (URP), follow the steps in the pinned comment in <a href="https://www.youtube.com/watch?v=yG4dYBfeC0g" target=URP>this video</a> (has to do with changing the <a href="https://docs.unity3d.com/2020.1/Documentation/ScriptReference/Graphics.Blit.html" trget=blit>Graphics.Blit</a> functionality).
<li> This wave effect will impact Scene content for both 2D and 3D games, but NOT anything in the Canvas / UI.

<br>
<br>
<b>a) Create the Material and the Unlit Shader:</b>
<ol>
<li> Right-click the project panel to create a new Material, name it &quot;<strong>WaveEffect_m</strong>&quot;. 
<li> Right-click  to create a new Shader &gt; Unit Shader, named &quot;<strong>WaveEffect_sh</strong>&quot;.
</ol>

<br>
<br>
<b>b) Add code to the Shader script:</b> <br>
Double-click the WaveEffect_sh shader to edit the code in your editor.<br>
Add these 3 sections, save and return to Unity:
<li> <strong>[1].</strong> Around line 34, right before the <strong>v2f vert(appdata v)</strong> method, add 3 variables 
<br>
(semicolons at the end of each):
<br>

<div class="blockScript">
&nbsp; &nbsp;&nbsp; &nbsp;<strong>float _frequency; </strong><br>
&nbsp; &nbsp;&nbsp; &nbsp;<strong>float _shift; </strong><br>
&nbsp; &nbsp;&nbsp; &nbsp;<strong>float _amplitude;</strong>
</div>

<br>
<br>
<li> <strong>[2].</strong> Towards the top, in the <strong>Properties()</strong> method (that displays values we can change in the Inspector), set these 3 values 
      (no simicolons at the end of each):
      <br>

<div class="blockScript">
&nbsp; &nbsp;&nbsp; &nbsp;<strong>_frequency(&quot;Frequency&quot;, float) = 4</strong><br>
&nbsp; &nbsp;&nbsp; &nbsp;<strong>_shift(&quot;Shift&quot;, float) = 0</strong><br>
&nbsp; &nbsp;&nbsp; &nbsp;<strong>_amp(&quot;Amplitude&quot;, float) = 0.05</strong>
</div>


<br>
<br>
<li> <strong>[3].</strong> Inside the fagment shader method at  bottom: <strong>fixed4 frag(v2f i) : SV_Target</strong> define pi  and add the commands that will shift the visuals (with simicolons):
<br>

<div class="blockScript">
&nbsp; &nbsp;&nbsp; &nbsp;<strong>const float pi = 3.14159</strong>;<br>
&nbsp; &nbsp;&nbsp; &nbsp;<strong>float y_new = i.uv.y + sin(_frequency * 2 * pi * i.uv.x + _shift) * _amp;</strong><br>
&nbsp; &nbsp;&nbsp; &nbsp;<strong>i.uv.y = y_new;</strong>
</div>


<br>
<br>
(naturally,  for a horizontal wave effect set all these values to .x instead of .y)

<br>
<br>
<b>c) Add a  C# script to apply the Shader:</b> 
<ol>
<li> <strong>Create</strong> a new script &quot;<em>WaveEffect.cs</em>&quot;. Add the content below, save, and return to Unity to compile.
<li> <strong>Add</strong> the WaveEffect script to the <strong>Camera</strong> in your Scene. 
<li> With the Camera selected, <strong>drag</strong> the WaveEffect_m Material from the Project panel into the waveEffectMaterial <strong>slot</strong> in the Inspector. 
</ol>
<br>
<center>
  <em>WaveEffect.cs</em>:
</center>

<div class="blockScript">
 <font color=#31849b><b>using</b></font> UnityEngine;<br>
        <font color=#31849b><b>using</b></font> System.Collections;<br>
        <font color=#31849b><b>using</b></font> System.Collections.Generic;<br>
        <br>
        <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> WaveEffect :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font></font> <font face=arial>{<br>
          <br>
          &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> <b><font color=#31849b>Material</font></b> waveEffectMaterial<b>;</b><br>
          &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private</b></font> <b><font color=#31849b>bool </font></b>waveActive = </font><font color=#365f91 face="arial"><b>false</b></font><font face=arial><b>;</b><br>
            &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private</b></font> <b><font color=#31849b>float </font></b>_frequency = <font color=#ed6c0a><b>4f</b></font>;<br>
            &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private</b></font> <b><font color=#31849b>float </font></b>_shift = <font color=#ed6c0a><b>0f</b></font>;<br>
            &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private</b></font> <b><font color=#31849b>float</font></b> _amp = <font color=#ed6c0a><b>0f</b></font><b>;</b><br>
            &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private</b></font> <b><font color=#31849b>float</font></b> maxAmplitude = <font color=#ed6c0a><b>0.05f</b></font><b>;</b><br>
            &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private</b></font> <b><font color=#31849b>float</font></b> amplitudeSpeed = <font color=#ed6c0a><b>0.025f</b></font><b>;</b>&nbsp; &nbsp; &nbsp;<br>
            &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private</b></font> <b><font color=#31849b>float</font></b> shiftSpeed = <font color=#ed6c0a><b>5f</b></font><b>;</b>
            
<br><br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Start(){ <br>		
&nbsp; &nbsp; &nbsp; &nbsp; SetFrequency(_frequency); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; SetShift(_shift); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; SetAmplitude(_amplitude); <br>
&nbsp; &nbsp; }


<br><br>
            <font face=arial>&nbsp; &nbsp;</font><font color=gray>//use OnRenderImage with Built-In Renderer (NOT URP):</font><br>
            &nbsp; &nbsp; <font color=#31849b><b>private void</b></font> OnRenderImage(<font color=#31849b><b>RenderTexture</b></font> start, <font color=#31849b><b>RenderTexture</b></font> end){<br>
            <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font><font color=gray>//use BLIT function</font> <br>
            &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>Graphics</b></font>.Blit(start, end, waveEffectMaterial);<br>
            &nbsp; &nbsp;}<br>
            <br>
            <font face=arial>&nbsp; &nbsp;</font><font color=gray>//Set values for each property:</font><br>
            &nbsp; &nbsp; <font color=#31849b><b>private void</b></font> SetFrequency(<font color=#31849b><b>float</b></font> frequency){<br>
            &nbsp; &nbsp; &nbsp; &nbsp;waveEffectMaterial<b><font color="#31849b">.SetFloat</font></b>(&quot;theFrequency&quot;, frequency);<br>
            &nbsp; &nbsp;}<br>
            <br>
            &nbsp; &nbsp; <font color=#31849b><b>private void</b></font> SetShift(<font color=#31849b><b>float</b></font> shift){<br>
            &nbsp; &nbsp; &nbsp; &nbsp;waveEffectMaterial<b><font color="#31849b">.SetFloat</font></b>(&quot;theShift&quot;, shift);<br>
            &nbsp; &nbsp;}<br>
            <br>
            &nbsp; &nbsp; <font color=#31849b><b>private void</b></font> SetAmplitude(<font color=#31849b><b>float</b></font> amplitude){<br>
            &nbsp; &nbsp; &nbsp; &nbsp;waveEffectMaterial<b><font color="#31849b">.SetFloat</font></b>(&quot;theAmplitude&quot;, amplitude);<br>
            &nbsp; &nbsp;} <br>
            <br>
            <font face=arial>&nbsp;</font><font color=gray>//create start and stp functions for the effect:</font><br>
            &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> StartWave(){ <br>
            &nbsp; &nbsp; &nbsp; &nbsp; <b><font color=#3ab050>if</font></b> (waveActive ==</font><font color=#365f91 face="arial"><b> false</b></font><font face=arial>){ <br>
              &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; waveActive = </font><font color=#365f91 face="arial"><b>true</b></font><font face=arial>; <br>
              &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; StartCoroutine(Waver()); <br>
              &nbsp; &nbsp; &nbsp; &nbsp; } <br>
              &nbsp; &nbsp;}<br>
              <br>
              &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> StopWave(){<br>
              &nbsp; &nbsp; &nbsp; &nbsp;waveActive = </font><font color=#365f91 face="arial"><b>false</b></font><font face=arial>;<br>
                &nbsp; &nbsp;}<br>
                <br>
                &nbsp; &nbsp; <font color=#31849b><b>private IEnumerator</b></font> Waver(){<br>
                &nbsp; &nbsp; &nbsp; &nbsp;SetFrequency(theFrequency);<br>
                <br>
                &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//smooth ramp up the amplitude</font>: <br>
                <b><font face=arial>&nbsp; &nbsp; </font></b>&nbsp; &nbsp; <b><font color=#3ab050>while</font></b> (theAmplitude < maxAmplitude){ <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<b><font color=#3ab050>if</font></b> (waveActive){<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;SetAmplitude(theAmplitude);<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;SetShift(theShift);<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;theAmplitude += amplitudeSpeed * Time.deltaTime;<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;theShift += shiftSpeed * Time.deltaTime;<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;theShift %= Mathf.PI *2f;<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;</font><font color=#365f91 face="arial"><b>yield return null</b></font><font face=arial>; <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;} <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<b><font color=#3ab050>else</font></b> {<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;</font><font color=#365f91 face="arial"><b>break</b></font><font face=arial>; <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;}<br>
                &nbsp; &nbsp; &nbsp; &nbsp; } <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<b><font color=#3ab050>if</font></b> (waveActive){<br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; theAmplitude = maxAmplitude;<br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; SetAmplitude(theAmplitude);<br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;}<br>
                <br>
                &nbsp; &nbsp; &nbsp; &nbsp;<b><font color=#3ab050>while</font></b> (waveActive){<br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;SetShift(theShift);<br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;theShift += shiftSpeed * Time.deltaTime;<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  theShift %= Mathf.PI *<font color=#ed6c0a><b>2f</b></font>;<br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;</font><font color=#365f91 face="arial"><b>yield return null</b></font><font face=arial>;<br>
                &nbsp; &nbsp;&nbsp; &nbsp;} <br>
                <br>
                &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//smooth ramp down the amplitude</font>: <br>
                <b><font face=arial>&nbsp; &nbsp; </font></b>&nbsp; &nbsp; <b><font color=#3ab050>while</font></b> (theAmplitude &gt; <font color=#ed6c0a><b>0f</b></font>){ <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<b><font color=#3ab050>if</font></b> (!waveActive){ <br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;SetAmplitude(theAmplitude); <br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;SetShift(theShift);<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;theAmplitude -= amplitudeSpeed * Time.deltaTime; <br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;theShift += shiftSpeed * Time.deltaTime;<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;theShift %= Mathf.PI *<font color=#ed6c0a><b>2f</b></font>;<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;</font><font color=#365f91 face="arial"><b>yield return null</b></font><font face=arial>; <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;} <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<b><font color=#3ab050>else</font></b> {<br>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;</font><font color=#365f91 face="arial"><b>break</b></font><font face=arial>; <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;}<br>
                &nbsp; &nbsp; &nbsp; &nbsp; } <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<b><font color=#3ab050>if</font></b> (!waveActive){<br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; theAmplitude = <font color=#ed6c0a><b>0f</b></font>;<br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; theShift = <font color=#ed6c0a><b>0f</b></font>;<br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; SetAmplitude(theAmplitude); <br>
                &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; SetShift(theShift); <br>
                &nbsp; &nbsp; &nbsp; &nbsp;<font face=arial>&nbsp; &nbsp; </font><font color=gray>//enabled = false</font>;<br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;}<br>
                &nbsp; &nbsp;}<br>
                }
</div>

<br>
<br>
<b>d) FOR QUICK TESTING: Add a   C# script to activate the WaveEffect script:</b> 
<ol>
<li> Create a new script &quot;<em>WaveEffectManager.cs</em>&quot;. Add the content below, save, and return to Unity to compile. 
<li> Add this script to  Camera object.
</ol>

<br>
<br>
<center>
<em>WaveEffectManager.cs</em>:
</center>

<div class="blockScript">
<font color=#31849b><b>using</b></font> UnityEngine;<br>
        <font color=#31849b><b>using</b></font> System.Collections;<br>
        <font color=#31849b><b>using</b></font> System.Collections.Generic;<br>
        <font color=#31849b><b>using</b></font> UnityEngine.InputSystem;<br>
        <br>
        <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> WaveEffectManager :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font></font> <font face=arial>{<br>
          <br>
          &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> WaveEffect waveEffect<b>;</b><br>
          &nbsp; &nbsp; &nbsp;<font color=gray>//private Keyboard theKeyboard;</font><br>
          &nbsp; &nbsp; &nbsp;<font color=#31849b><b>private bool</b></font> isWavy = </font><font color=#365f91 face="arial"><b>false</b></font><font face=arial>;<br>
            <br>
            &nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Start (){<br>
            &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//theKeyboard = Keyboard.current;</font><br>
            &nbsp; &nbsp; &nbsp; &nbsp; waveEffect = gameObject.GetComponent
            <WaveEffect>
            ();<br>
            &nbsp; &nbsp; &nbsp;}<br>
            <br>
            &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update (){<br>
            <b><font face=arial>&nbsp; &nbsp; &nbsp;</font></b>&nbsp; <b><font color=#3ab050>if</font></b> (Input.GetKeyDown("space")){<br>
            &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<b><font color=#3ab050>if</font></b> (!isWavy){<br>
            &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;isWavy =</font><font color=#365f91 face="arial"><b> true</b></font><font face=arial>; <br>
              &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;WaveOn();<br>
              &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
              <b><font face=arial>&nbsp; &nbsp; &nbsp;</font></b>&nbsp; &nbsp; &nbsp;&nbsp;<b><font color=#3ab050>else</font></b> { <br>
              &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;isWavy = </font><font color=#365f91 face="arial"><b>false</b></font><font face=arial>; <br>
                &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;WaveOff();<br>
                &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;}<br>
                &nbsp; &nbsp; &nbsp;&nbsp; }<br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<font color=gray>// if (theKeyboard.aKey.wasPressedThisFrame){WaveOn;}</font> <br>
                &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<font color=gray>// else if (theKeyboard.bKey.wasPressedThisFrame) {WaveOff;};</font> <br>
                &nbsp; &nbsp;} <br>
                <br>
                &nbsp; &nbsp; <font color=#31849b><b>private void</b></font> WaveOn(){<br>
                &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//waveEffect.enabled = true;</font><br>
                <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>waveEffect.StartWave();<br>
                &nbsp; &nbsp;}<br>
                <br>
                &nbsp; &nbsp; <font color=#31849b><b>private void</b></font> WaveOff(){<br>
                <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp;</font>waveEffect.StopWave();<br>
                &nbsp; &nbsp;}<br>
                }
</div>

<br>
Hit <strong>[Play]</strong> to test.<br>
Hit <strong>[spacebar]</strong> to activate the effect, and again to stop it. 
<br><br>
</td></tr></table>
</div></td></tr></table>
<br>

<a name="02h">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion4">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [2H]</b> <b>GAME TIMER</b> &nbsp; &nbsp; &nbsp; </font>
</button>
<div class="panel">
<table width=800 cellpadding=10 border=0><tr>
<td valign=top>

<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2 color=purple><b>[2H]:</b></font></font> <font size=+2 face="arial"><b>GAME TIMER</b></font>
<font face="arial">
<br>
<a href="#02h1">Display Timer</a> &nbsp; | &nbsp; 
<a href="#02h2">Triggered Timer</a> &nbsp; | &nbsp; 
<a href="#02h3">Simple Delay</a> &nbsp; | &nbsp; 
<a href="#02h4">Energy Recharge</a> (dual timers)
</font>
</center>
<br><br>


<a href="#02h"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02h1">&nbsp;</a>

<b>DISPLAY TIMER</b><br><b>SUMMARY. </b>A timer on a level can be <b>explicit</b> (displayed on a text objet in the HUD) or <b>implied</b> (drive the motion of walls closing in on the player). We run the timer in the FixedUpdate() function in order to get reliable results across machines.

<br>
<br>
<b>a.</b> Create a <b>UI &gt;</b> <strong>Text - TextMeshPro</strong> object. In the Inspector name it &quot;<b>textTimer</b>&quot;, set position and size of the text object at the top (try width=160 and height=80). Set font larger (try 40), bold-faced, and align=centered. Set text field = &quot;??&quot;.


<br>
<br>
<b>b.</b> Create a new <b>C# script</b> called &quot;<b>GameTimer.cs</b>&quot; with the following content.<br>
Drag this script onto the GameHandler.<br>
Drag the textTimer Text object into the timerText <b>script slot</b>.


<br>
<br>
<center>
<i>GameTimer.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using</b></font> UnityEngine;<br />
<font color="#3ab050"><b>using</b></font> UnityEngine.UI;<br />
<font color="#3ab050"><b>using</b></font> TMPro;<br>
<br>
<font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>GameTimer :</b> <b>MonoBehaviour</b></font> {<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public int</b></font></font> timer = <font color=#e36c0a><b>0</b></font>;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font></font> theTimer = <font color=#e36c0a><b>0f</b></font>;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font></font> TMP_Text timerText;<br>
<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> FixedUpdate(){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; theTimer += <font color=#e36c0a><b>0.01f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=#3ab050><b>if</b></font> (theTimer &gt;= <font color=#e36c0a><b>1f</b></font>){<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; timer +=<font color=#e36c0a><b>1</b></font>;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; theTimer = <font color=#e36c0a><b>0</b></font>;<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; UpdateTimer();<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp;&nbsp;}<br><br>
&nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b>public void</b></font></font> UpdateTimer(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; timeText.text = <font color=#e36c0a><b>&quot;&quot;</b></font> + timer;<br>&nbsp; &nbsp; &nbsp;&nbsp;}<br>
}
</div>

<br><br>
<br>
<a href="#02h"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02h2">&nbsp;</a>
<b>TRIGGERED TIMER<br>What if you want a timer for an action?</b>
<br>
Let's say you want a timer that only activates when a player does a thing (in this case, hit the number 8 on the keyboard, but it could be used for when hitting a collider, etc).

<br>
<center>
<i>DelayedAction1.cs script:</i><
/center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>DelayedAction1 :</b> <b>MonoBehaviour</b></font> {<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font></font> timer =<b><font color="#e36c0a">2f</font></b>; 
&nbsp; &nbsp; &nbsp; <font color=gray>//set the number of seconds here</font>
<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font></font> theTimer = <font color=#e36c0a><b>0f</b></font>;<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font></font> doTheThing =<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>;<br>
        <br>
&nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b>void</b></font></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;theTimer = timer;<br>
&nbsp; &nbsp; &nbsp;&nbsp;} <br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b>void</b></font></font> Update(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#e36c0a><b>&quot;8&quot;</b></font>)){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;doTheThing =<b> <font face=arial><font color=#0070c0><b>true</b></font></font></b>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp;}

<br><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> FixedUpdate(){
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (doTheThing ==<b> <font face=arial><font color=#0070c0><b>true</b></font></font></b>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;theTimer -= <font color=#e36c0a><b>0.01f</b></font>;
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;Debug.Log(<font color=#e36c0a><b>&quot;time: &quot;</b></font> + theTimer); <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (theTimer &lt;= <font color=#e36c0a><b>0</b></font>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;theTimer = timer;<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;Debug.Log(<font color=#e36c0a><b>&quot;I do the thing!&quot;</b></font>);  
&nbsp; &nbsp; &nbsp; <font color=gray>//can be replaced with the desired commands</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;doTheThing =<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;} <br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }
</div> 

<br><br>
<b>PIE CHART TIMER: Want to display remaining time graphically as a depleting circle? </b><br>
<b>1.</b> In the Canvas create a <b>UI &gt; Image</b>, set it to the <b>knob</b> sprite and a dark color. Name it "<b>TimerBG</b>".


<br>
<b>2.</b> Duplicate the circle <b>[Ctrl/Cmd]+[d]</b>, name it "<b>TimerCharge</b>". 
<ol>
<li> Set size = 90 x 90 and choose a light color. 
<li> Drag onto TimerBG to make it a child. 
<li> Change <b>Image Type</b> of TimerCharge from simple to &quot;<b>Filled</b>&quot;.
</ol>

<br><br>
<b>3.</b> Add the script below to the GameHandler, and drag TimerCharge into the empty script slot. 

<br><br>
<center>
<i>CircleTimer.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        
        
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br><br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>CircleTimer :</b> <b>MonoBehaviour</b></font> {<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font></font> timerMax =<b><font color="#e36c0a"> 10f</font></b>; 
        &nbsp; &nbsp; &nbsp; <font color=gray>//set the number of seconds here</font> <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font></font> theTimer = <font color=#e36c0a><b>0f</b></font>;<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font></font> doTheThing =<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>;
<br>
<br>
	<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public Image</b></font></font> timerCircleDisplay; <br>
<br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b>void</b></font></font> Start(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;timerCircleDisplay.gameObject.SetActive(<b><font face=arial><font color=#0070c0><b>false</b></font></font></b>);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;theTimer = timerMax;

<br>&nbsp; &nbsp; &nbsp;&nbsp;} 

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b>void</b></font></font> Update(){

<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;</font><font color=gray>//test functionality. Normally set=true by external script.</font>
<br>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#e36c0a><b>&quot;8&quot;</b></font>)){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;doTheThing =<b> <font face=arial><font color=#0070c0><b>true</b></font></font></b>;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp;} <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> FixedUpdate(){ <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (doTheThing ==<b> <font face=arial><font color=#0070c0><b>true</b></font></font></b>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;theTimer -= <font color=#e36c0a><b>0.01f</b></font>; <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;Debug.Log(<font color=#e36c0a><b>&quot;time: &quot;</b></font> + theTimer); 
<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;timerCircleDisplay.gameObject.SetActive(<b><font face=arial><font color=#0070c0><b>true</b></font></font></b>); <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;timerCircleDisplay.fillAmount = theTimer / timerMax;  

<br><br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (theTimer &lt;= <font color=#e36c0a><b>0</b></font>){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;theTimer = timerMax;<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;Debug.Log(<font color=#e36c0a><b>&quot;I do the thing!&quot;</b></font>);  
        &nbsp; &nbsp; &nbsp; <font color=gray>//can be replaced with the desired commands</font> <br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;doTheThing =<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>;<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;} <br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>
        &nbsp; &nbsp; &nbsp;&nbsp; }
        <br><br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;</font><font color=gray>//public function to be accessed by other scripts to activate the timer.</font><br>        
	&nbsp; &nbsp; &nbsp;&nbsp; <font face="arial"><font color=#31849b><b>public</b></font></font> <font face=arial><font color=#31849b><b>void</b></font></font> TimeToDoTheThing(){<br>
	&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; doTheThing =<b> <font face=arial><font color=#0070c0><b>true</b></font></font></b>;
<br>
<font face=arial>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=gray>//other commands when turnign on timer can go here.</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>}
</div>


<br>
<br><br>
<a href="#02h"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02h3">&nbsp;</a>
<b>SIMPLE DELAY: COROUTINE</b><br><b>What if you just want to delay an action?</b> 
<br>Of course, if you do not need to display the increments of a countdown, the easiest way to delay a command for a specfic time is to simply use a <b>CoRoutine</b>.

<br>
<center>
<i>DelayedAction2.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>DelayedAction2 :</b> <b>MonoBehaviour</b></font> {<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font></font> timer =<b><font color="#e36c0a">2f</font></b>; 
&nbsp; &nbsp; &nbsp; <font color=gray>//set the number of seconds here</font><br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b>void</b></font></font> Update(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#e36c0a><b>&quot;8&quot;</b></font>)){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;StartCoroutine(myDelay());<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp;} 
<br><br>
        &nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>IEnumerator</b></font></font> myDelay(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<b><font face=arial><font color=#0070c0><b>yield return new </b></font></font></b>WaitForSeconds(timer);<br>
        &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;Debug.Log(<font color=#e36c0a><b>&quot;I do the thing!&quot;</b></font>);  
&nbsp; &nbsp; &nbsp; <font color=gray>//can be replaced with the desired commands</font><br>
        &nbsp; &nbsp; &nbsp;&nbsp;}<br>
        }
</div>
 
<br><br><br>
<a href="#02h"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02h4">&nbsp;</a>
<b>RECHARGE SYSTEM:</b>
<br>
Does your player have a power that they can only use for limited amounts of time, and then must wait for it to recharge, like a shield, flashlight, etc? Use a double timer!
<br>

<center>
<i>RechargeTimer.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>RechargeTimer :</b> <b>MonoBehaviour</b></font> {<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font></font> energyMax =<b><font color="#e36c0a">3f</font></b>; 
&nbsp; &nbsp; &nbsp; <font color=gray>//set the number of seconds here (both floats can be static)</font><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font></font> energyTimer = <font color=#e36c0a><b>0f</b></font>;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font></font> thingOn =<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>;<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b>void</b></font></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;energyTimer = energyMax;<br>
&nbsp; &nbsp; &nbsp;&nbsp;} <br>
        <br>
        &nbsp; &nbsp; &nbsp;&nbsp;<font face=arial><font color=#31849b><b>void</b></font></font> Update(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#e36c0a><b>&quot;8&quot;</b></font>)){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;thingOn = !thingOn;  <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp;<font color=gray>//reverse the bool, so keypress is a toggle</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp;}<br>
<br>
&nbsp; &nbsp; &nbsp;&nbsp; <font face=arial><font color=#31849b><b>void</b></font></font> FixedUpdate(){ <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (thingOn ==<b> <font face=arial><font color=#0070c0><b>true</b></font></font></b>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;energyTimer -= <font color=#e36c0a><b>0.01f</b></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;Debug.Log(<font color=#e36c0a><b>&quot;energy down: &quot;</b></font> + energyTimer); <font face=arial>&nbsp;</font><font color=gray>//replace with the desired ability display</font><br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (energyTimer &lt;= <font color=#e36c0a><b>0</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;thingOn =<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray> // time has run out</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;} <br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; } <font color=#3ab050><b>else if</b></font> ((thingOn ==<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>) &amp;&amp; (energyTimer &lt; energyMax)) {<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;energyTimer += <font color=#e36c0a><b>0.01f</b></font>; <br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;Debug.Log(<font color=#e36c0a><b>&quot;energy up: &quot;</b></font> + energyTimer); <font face=arial>&nbsp;</font><font color=gray>//replace with the desired ability display</font><br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
        }
        </div>
 
<br><br>
<b>OR:</b> Want a display in the HUD to visualize the decrease and increase in the charge value? <br>
<br>
<b>1.</b> Create a <b>GameObject > UI > Image</b>. 
<br>
In the Inspector name it "ChargeCircleBG", set width and height = 120, set SourceImage to Knob, set color to a dark hue. Locate in Canvas as desired.

<br><br>
<b>2.</b> <b>Duplicate</b> ChargeCircleBG. In Inspector name duplicate "<b>ChargeCicle</b>", set width and height = <b>90</b>, set color = <b>white</b>. Drag ChargeCircle onto Charge CircleBG to make it a <b>child</b>. <br><br>
<b>3.</b> Create a new C# script "<b>RechargeTimer2.cs</b>". Add the following content, save, and in Unity drag onto the ChargeCircleBG object. Drag ChargeCicle into the <b>Display script slot</b>. </font>

<br>
<center>
<i>RechargeTimer2.cs script:</i>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
        <font color=#3ab050><b>using</b></font> System.Collections;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine;<br>
        <font color=#3ab050><b>using</b></font> UnityEngine.UI;<br><br>
        <font face=arial><font color=#31849b><b>public class </b></font></font><font color=#0070c0><b>RechargeTimer2 :</b> <b>MonoBehaviour</b></font> {<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public float</b></font></font> energyMax =<b><font color="#e36c0a">3f</font></b>; 
        &nbsp; &nbsp; &nbsp; <font color=gray>//set the number of seconds here (both floats can be static)</font><br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private float</b></font></font> energyTimer = <font color=#e36c0a><b>0f</b></font>;<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public bool</b></font></font> thingOn =<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>;
<br><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>public</b></font></font> GameObject display; <br><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Start(){<br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;energyTimer = energyMax;<br>
        &nbsp; &nbsp; &nbsp; &nbsp; } <br>
        <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> Update(){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;<font color=#3ab050><b>if</b></font> (Input.GetKeyDown(<font color=#e36c0a><b>&quot;8&quot;</b></font>)){<br>
        &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;thingOn = !thingOn; <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp;<font color=gray>//reverse the bool, so keypress is a toggle</font><br>
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        &nbsp; &nbsp; &nbsp; &nbsp; }<br>
        <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font></font> FixedUpdate(){ <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (thingOn ==<b> <font face=arial><font color=#0070c0><b>true</b></font></font></b>){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>energyTimer -= <font color=#e36c0a><b>0.01f</b></font>; <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Debug.Log(<font color=#e36c0a><b>&quot;energy down: &quot;</b></font> + energyTimer); <font face=arial>&nbsp;</font><font color=gray>//replace with the desired ability display</font>
        
<br><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Color oldCol = display.GetComponent&lt;Image&gt;().color;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (oldCol.a &gt; <font color=#e36c0a><b>0.01f</b></font>){<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>float</b></font></font> r = oldCol.r - <font color=#e36c0a><b>0.005f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>float</b></font></font> g = oldCol.g - <font color=#e36c0a><b>0.005f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=#31849b><b>float</b></font></font> b = oldCol.b - <font color=#e36c0a><b>0.005f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>float</b></font></font> a = oldCol.a - <font color=#e36c0a><b>0.005f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display.GetComponent&lt;Image&gt;().color = new Color(r,g,b,a);<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//float x = display.localScale.x/1.005f;</font>

<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//float y = display.localScale.y/1.005f;</font>

<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//float z = display.localScale.z;</font>

<br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font><font color=gray>//display.localScale = new Vector3(x, y, z);</font>

<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (energyTimer &lt;= <font color=#e36c0a><b>0</b></font>){<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>thingOn =<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <font color=gray> // time has run out</font><br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>} <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>} <font color=#3ab050><b>else if</b></font> (thingOn ==<b> <font face=arial><font color=#0070c0><b>false</b></font></font></b>){  
        
        
<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (energyTimer &lt; energyMax) {<br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>energyTimer += <font color=#e36c0a><b>0.01f</b></font>; <br>
        <font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Debug.Log(<font color=#e36c0a><b>&quot;energy up: &quot;</b></font> + energyTimer); <font face=arial>&nbsp;</font><font color=gray>//replace with the desired ability display</font>
        
        
<br><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>Color oldCol = display.GetComponent&lt;Image&gt;().color;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (oldCol.a &lt; <font color=#e36c0a><b>1f</b></font>) {<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>float</b></font></font> r = oldCol.r + <font color=#e36c0a><b>0.01f</b></font>;<br>
<b><font face=arial><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color="#31849b">f</font></b><font face="arial"><font color=#31849b><b>loat</b></font></font> g = oldCol.g + <font color=#e36c0a><b>0.01f</b></font>;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>float</b></font></font> b = oldCol.b + <font color=#e36c0a><b>0.01f</b></font>;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>float</b></font></font> a = oldCol.a + <font color=#e36c0a><b>0.01f</b></font>;<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>display.GetComponent&lt;Image&gt;().color = new Color(r,g,b,a);<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>//float x = display.localScale.x * 1.005f;</font><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>//float y = display.localScale.y * 1.005f;</font><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>//float z = display.localScale.z;</font><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=gray>//display.localScale = new Vector3(x, y, z);</font><br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
        }
</div>

<br>
<br>
</td></tr></table>
</div></td>
</tr></table>
<br>

<a name="02i">&nbsp;</a>
<br>
<table width=850 cellpadding=10 border=0><tr><td>
<button class="accordion3">
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"><b> [2I] OTHER INTERACTIONS: DRAG AND DROP,  NOTEPAD</b> &nbsp; &nbsp; &nbsp;</font>
</button>
<div class="panel">
  <table width=800 cellpadding=10 border=0><tr>
<td valign=top>
<center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font size=+2><font color=purple><b>[2I]:</b></font> <b>DRAG AND DROP</b></font></font>
<br>
<font face="arial"><a href="#02i1">Drag and Drop</a> &nbsp;and&nbsp; <a href="#02i1b">Puzzles</a> &nbsp; | &nbsp; 
<a href="#02i2">Player Notepad</a>
</font>
<br>
</center>

<br>
<a href="#02i"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02i1">&nbsp;</a></font>
<font size=+1><b>DRAG AND DROP</b></font><br>
<em><b>SUMMARY:</b></em> Are you making an exploration game, and want the player to grab elements for their inventory, or move them out of the way?
or do you want players to use their mouse to build a home or character from multipel sprites? You need drag and drop!<br><br>
<b>OPTION 1: 2D SPRITE MOUSE DRAG AND DROP</b> 
(<a href="https://youtu.be/We1ab6yHrwI" target=drag>source video</a>)<br>
Want players to customize their character in game? 
<br>Or move scenery around? 
Or make a puzzle?
<br>
Start with Drag and Drop.

<br><br>
<b>a.</b> Add <b>GameObject &gt; 2D Objects &gt; Sprite</b> objects to the Hierarchy, set position Z = 0. Add art as desired.<br><br>
<b>b.</b> For each Sprite <b>[Add Component]</b> Physics2D &gt; <b>BoxCollider2D</b>, set to <b>isTrigger</b> (to detect OnMouseOver actions).<br><br> 
<b>c.</b> Add a new <b>C# script</b> named &quot;<b>DragAndDrop.cs</b>&quot;, with the following content. Add to all of these objects.

<br>
<br>
<center>
<em>DragAndDrop.cs</em>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
  <font color=#3ab050><b>using</b></font> System.Collections;<br>
  <font color=#3ab050><b>using</b></font> UnityEngine;<br><br>
<font color=#31849b><b>public class</b></font> <font color=#365f91><b>DragAndDrop</b></font> : <font color=#365f91><b>MonoBehaviour</b></font> {<br>
<br> 
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>private bool</b></font> selected;<br>
<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>void</b></font> Update () {<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if </b></font>(selected == <font color=#365f91><b>true</b></font>) {<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b>Vector2</b></font> cursorPos = Camera.main.ScreenToWorldPoint (<font color=#31849b><b>Input</b></font>.mousePosition);<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>transform.position = new <font color=#31849b><b>Vector2</b></font> (cursorPos.x, cursorPos.y);<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br> 
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (Input.GetMouseButtonUp (<font color=#ed6c0a><b>0</b></font>)) {<br> 
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>selected =<font color=#365f91><b> false</b></font>;<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br> 
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#31849b><b> void</b></font>  OnMouseOver(){<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font><font color=#3ab050><b>if</b></font> (Input.GetMouseButtonDown (<font color=#ed6c0a><b>0</b></font>)) {<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>selected =<font color=#365f91><b> true</b></font>; <br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br>
}</div>

<br><br>
To take this further, try adding tags and other scripts to individual objects that create specific interactions when they collide with specific others.

<br>
<br><br>
<b>OPTION 2: CANVAS IMAGE DRAG-DROP</b> (<a href="https://youtu.be/BGr-7GZJNXg" target=drag>source video</a>)<br>
This system is for 2D images  in the UI Canvas system (for enhancing inventory systems).

<br><br>
<b>a.</b> Create two UI &gt; Images. 
<li>
Name them &quot;InventoryBox&quot; and &quot;PickUp&quot;. 

<br><br>
<b>b. </b>Select Pickup,<b> [Add Component</b>] Layout &gt; <b>Canvas Group</b> (gives control of transparency and raycasting).

<br><br>
<b>c.</b> Create a new <b>C# script</b> named &quot;<b>UI_DragDrop.cs</b>&quot;, with the following content. 

<ol>
<li>Save and drag onto PickUp.
<br>
<li>This script creates events for the many stages of clicking on, dragging, and clicking off something, each of which can contain commands.
</ol>

<center>
<em>UI_DragDrop.cs</em>
</center>

<div class="blockScript">
<font color=#3ab050><b>using</b></font> System.Collections.Generic;<br>
<font color=#3ab050><b>using</b></font> System.Collections;<br>
<font color=#3ab050><b>using </b></font>UnityEngine;<font color=#3ab050><b><br>using </b></font>UnityEngine.UI;<br>
<font color=#3ab050><b>using</b></font> UnityEngine.EventSystems;<br><br>
<font color=#31849b><b>public class</b></font> <font color=#365f91><b>UI_DragDrop : MonoBehaviour, IPointerDownHandler, IBeginDragHandler, IEndDragHandler, IDragHandler, IDropHandler </b></font>{<br>
<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>[SerializeField] <font color=#31849b><b>private Canvas</b></font> myCanvas;<br>
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>private RectTransform</b></font> rectTransform;<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>private</b></font> CanvasGroup canvasGroup;<br><br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>private void</b></font> Awake(){<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>rectTransform = GetComponent&lt;<font color=#31849b><b>RectTransform</b></font>&gt;();<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>canvasGroup = GetComponent&lt;<font color=#31849b><b>CanvasGroup</b></font>&gt;();<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>}<br>
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public void</b></font> OnBeginDrag(PointerEventData eventData){<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; canvasGroup</font>.alpha = <font color=#ed6c0a><b>0.6f</b></font>;<br>
&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; canvasGroup</font>.blocksRaycasts = <font color=#365f91><b>false</b></font>;<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public void</b></font> OnDrag(PointerEventData eventData){<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>rectTransform.anchoredPosition += eventData.delta / myCanvas.scaleFactor;<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public void</b></font>  OnEndDrag(PointerEventData eventData){<br>
<font face="arial"><font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; canvasGroup</font>.alpha = <font color=#ed6c0a><b>1f</b></font>;</font><br>&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; canvasGroup</font>.blocksRaycasts = <font color=#365f91><b>true</b></font>;<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public void</b></font> OnPointerDown(PointerEventData eventData){<br>
<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public void</b></font> OnDrop(PointerEventData eventData){<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>throw <font color=#31849b><b>new</b></font> System.NotImplementedException();<br>
&nbsp; &nbsp; &nbsp;&nbsp; }<br>
<br>
}
</div>


<br>
<b>d.</b> Create a new C# script named UI_ItemSlot, with the following content. Save and drag onto the InventoryBox. This script snaps the dropped item to the Box center. Addional commands can be added under the if-condition to send messages to the GameHandler about the object that has been slotted. 

<br>
<br>
<center>
<em>UI_ItemSlot.cs</em>
</center>

<div class="blockScript">
<font color=#3ab050><b>using </b></font>System.Collections.Generic;<br>
<font color=#3ab050><b>using </b></font>System.Collections;<br>
<font color=#3ab050><b>using </b></font>UnityEngine;
<br><font color=#3ab050><b>using</b></font> UnityEngine.EventSystems;<br>
<br><font color=#31849b><b>public class</b></font> <font color=#365f91><b>UI_ItemSlot : MonoBehaviour, IDropHandler </b></font>{<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> OnDrop(PointerEventData eventData){<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font> (eventData.pointerDrag != null){<br>
<font face=arial><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font><font color=#31849b><b>Vector2</b></font> slotCenter = GetComponent&lt;<font color=#31849b><b>RectTransform</b></font>&gt;().anchoredPosition;<br>
<font face=arial><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>eventData.pointerDrag.GetComponent&lt;<font color=#31849b><b>RectTransform</b></font>&gt;().anchoredPosition = slotCenter;<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font></font>}<br>
&nbsp; &nbsp; &nbsp;&nbsp;}
<br>
}
</div>

<br>
<b>e.</b> Hit <b>[Play]</b> to test: click on the PickUp to drag it around, notice it turns semi-transparent when dragged. 
<br>Drop partially on the InventoryBox to snap to the IncentoryBox center.

<br><br><br><br>
<a href="#02i"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02i1b">&nbsp;</a>
<font size=+1><b>DRAG-AND-DROP PUZZLE EXAMPLES</b>

<br><br>
<a href="gamedesign/Unity2D/SandwichDemo.png" target=sand><img src="gamedesign/Unity2D/SandwichDemo_thumb.png" align=right></a>
Full 
<a href="gamedesign/Unity2D/SandwichPuzzle_WorkingPackage.UnityPackage" target=up1><b>Sandwich-Making Puzzle</b></a> 
using in-scene Drag-and-Drop (added Sp 2023).
<br>
6 recipes chosen at random, color-change feedback. To open and view:
<ol type="a">
<li> <b>Download</b> the <a href="gamedesign/Unity2D/SandwichPuzzle_WorkingPackage.UnityPackage" target=up1><b>.UnityPackage</b></a>.
<li> In Unity, RightClick the Project panel, choose <b>Import Package</b>.
<li> A window will open showing the package contents. Hit <b>[OK]</b> to import all.
<li> Open the <b>SandwichWork folder</b>. Find the <b>SANDWHICH_SYSTEM Prefab</b>.
 <li> Drag this Prefab into a new Scene and hit <b>[Play]</b>.
</ol> 
 
 <br>
 <br>
<font face=arial><a href="#02i"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02i2">&nbsp;</a></font><font size=+1><b>SIMPLE CANVAS NOTEPAD</b></font> <br>
<em><b>SUMMARY:</b></em> Are you making an exploration game, and want the player to take notes along the way?
<br>
Here is a simple system that lets the the player continuously add to a static string.

<br>
<br>
<b>a.</b> Select your Canvas and create a UI &gt; <b>Image</b>.
<ol>
<li>Name it Notepad and choose color and location.
<li>It needs to be big enough to hold a few elements: try 200x120.
</ol>

<br>
<br>
<b>b.</b> Create a UI &gt; <b>Input Field</b>.
<ol>
<li>
Parent  InputField to Notepad: in the Hierarchy, drag the InputField onto Notepad to make it a child. 
<li>
In the Scene, postion the Input Field near the top of the Notepad image, leaving ample space below. 
<li>
In the Hierarchy click the InputField triangle to view its children.
<li>
Select <b>Placeholder</b>. In Inspector change default text to &quot;Enter a note&quot; and set Font Size = 30.
<li>
Select <b>Text</b> and in Inspector set font = 30 also.<br>
Finally, in the Hierarchy move Text <em>above</em> Placeholder.
</ol>

<br><br>
<b>c. </b>Create a GameObject &gt;<strong> UI &gt; Button - TextMesh Pro.</strong>
<ol>
<li>
Move and scale to locate next to the Input Field.
<li>
Select its Text and change font to 30 and text to &quot;Enter&quot; or just &quot;&gt;&gt;&quot;.
</ol>

<br><br>
<b>d. </b>Create a GameObject &gt; UI &gt;<b>Text .</b>
<ol>
<li>Set Rect to fill the space below the Input Field and Button.
<li>
In the Inspector name it TextNotes. Set Font Size = 30.
</ol>

<br>
<br>
<b>e.</b> Add a new <b>C# script</b> named &quot;<b>Notepad.cs</b>&quot;, with the following content.
<ol>
<li>
<b>Add</b> the scipt to the Notepad image object.
<li>
Populate the inputField and textDisplay <b>script slots</b> with the objecst from the Hierarchy.<li>
Select the button, add an <b>OnClick event</b> [+].
<li>
Drag the Notepad object into [None] and add this function: Notepad &gt; <b>UpdateNotes()</b>.
</ol>

<br>
<br>
<b>f.</b> Drag the Notepad object into the Project panel to make it a <b>Prefab</b>.
<li>Add this prefab to the Canvas in all scenes in your game.


<br><br>
<b>G.</b> Optionally, add a function / button in your PauseMenu to make the notepad visible or not.

<br>
<br>
<center>
  <em>Notepad.cs</em>
</center>
<div class="blockScript">
<font color=#31849b><b>using</b></font> UnityEngine;<br>
          <font color=#31849b><b>using</b></font> System.Collections;<br>
          <font color=#31849b><b>using</b></font> System.Collections.Generic;<br />
          <font color="#31849b"><b>using</b></font> TMPro;<br>
          <font color=#31849b><b>using</b></font> UnityEngine.UI;<br>
          <br>
          <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> Notepad :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font></font> <font face=arial>{<br>
          <br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <b><font color=#31849b>static string</font></b> myNotes;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <b><font color=#31849b>GameObject</font></b> inputField;<br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b> public</b></font> <b><font color=#31849b>TMP_Text</font></b> textDisplay;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UpdateNotes();<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> UpdateNotes(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; myNotes = myNotes + <font face="arial"><font color=#ed6c0a><b>&quot; &quot;</b></font></font></font> + inputField.GetComponentInChildren&lt;<font color=#365f91 face="arial"><b>Text</b></font>&gt;().text;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; textDisplay.text = myNotes;<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inputField.GetComponent&lt;InputField&gt;().text = <font color=#ed6c0a><b>&quot;&quot;</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
}
</div>

<br><br>
</td></tr></table>
</div></td>
</tr></table>



<br>
<a name="02j">&nbsp;</a> <br>
<table width=850 cellpadding=10 border=0>
  <tr>
    <td><button class="accordion3">
      <a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"> <b>[2J] AUDIO EVENTS</b> &nbsp; &nbsp; &nbsp;</font>
      </button>
      <div class="panel2">

<table width=800 cellpadding=10 border=0><tr>
<td valign=top>

<center>
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a>
<font size=+2><font color=purple><b>[2J]:</b></font> 
<b>AUDIO</b></font>
<br>
<strong>PLAYER:</strong> <a href="#02j1">Multiple Audio Files</a> &nbsp; | &nbsp;
<a href="#02j2">Footstep Variation</a>
<br>
<b><a href=#AudioManager>MUSIC MANAGER</a>:</b> Play music at <a href="#02j4">Specific Timestamp</a>&nbsp; | &nbsp;<a href="#02j3">Continuous Play</a>
<br>
<strong>OTHER</strong> Game Objects: 
<a href="#02j5">Spatial Audio</a> and 
<a href="#filters">Filter Effects</a>

</center>

<br>
Sound Effects (<b>SFX</b>) are best imported into Unity as <b>.WAV</b> (music is best as <b>.MP3</b>).<br>
Sound effects are added in Unity to GameObjects just like any other Component.<br>The Component for an audio clip is called "<b>Audio Source</b>", essentially the transmitter.<br>The reciever is the "<b>Audio Listener</b>", typically on the Camera (one Listener, many Sources).

<br><br>
Sounds can be easily triggered through player Input, OnCollision or OnTrigger interactions, a Button press, or a timer countdown, etc.  

<br><br>
We will primarily use these functions:<br>
<li> <b>AudioSource.Play()</b> &nbsp; &nbsp; 
is used to play a clip. Given an AudioSource crySFX, then crySFX.Play().<br>
<li> <b>AudioSource.Stop()</b> &nbsp; &nbsp;used to stop a clip. Helpful to stop looping clips, like care sounds.<br>
<li> <b>AudioSource.isPlaying()</b> &nbsp; &nbsp; 

check to see if a clip is playing before playing it. Avoids the &quot;click&quot; of constantly restarting a sound of a highly repeated action, like footsteps.<br>

<br><br><br>
<a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02j1">&nbsp;</a>
<font size=+1><b>PLAYER: Multiple Audio Files for Distinct Actions</b></font><br>
<em><b>SUMMARY:</b></em> Player Actions are better with (subtle) sounds! 
<br>
Want separate audio to signify an attack, getting hurt, a jump, etc?


<br>Add all the sound clips to the Player as separate AudioSource Components and trigger them in the Player scripts.<br><br>
<b>a. CREATE YOUR SOUNDS:</b>
<ol>
<li> Prepare your sounds as <strong>.WAV</strong> (if recording on a phone, use an online converter). <br>
<li> Edit to remove empty time before and after each sound (<strong>Audacity</strong> recommended).<br>
<li> Save each clip with short names: SFX_playerJump, SFX_playerAttack, etc. <br> 
<li> Import the files into the Unity Project panel, into a folder called Audio.
</ol>

<br>
<br>
<b>b. ADD AUDIOSOURCE TO PLAYER IN A CHILD OBJECT:</b>
<ol>
<li> Open the <b>Player prefab</b>. 
<br>
<li> RightClick the parent object to create a new child <strong>Empty Game Object</strong>. <br>
<li> Name it "<strong>AUDIO</strong>" (all caps, because it is meant to be a folder).
<br>
<li> RightClick AUDIO to create a new<strong> Empty Game Object</strong> named for the sound it will hold (example: "<strong>SFX_Punch</strong>").
<br>
<li> With this object selected, in the Inspector <b>[Add Component] Audio Source</b>. <br>
<li> Drag a sound effect into the <b>Audio Clip</b> script slot. <br>
<li> Turn off "<b>Play on Awake</b>", set <b>Volume</b> down to about <b>40%</b>. <br>
<li> If it exists, add your Music Mixer to the <b>Output</b> slot (see Pause Menu steps). 
</ol>

<br><br>
<b>c. DUPLICATE THE AUDIOSOURCE OBJECT:</b><br>
Create a new  child object for each desired sound effect, changing the object name and Audio Clip for each: 
<ol>
<li> Select the  child object with the AudioSource component and hit <strong>[Ctrl/Cmd]+[d]</strong> to duplcate. 
<br>
<li> Rename and add the new .WAV clip. <br>
<li> Repeat for all player sound effects.
</ol>

<br>
<br>
<b>d. ADD TO SCRIPTS:</b><br>
In the Player scripts, add a class variable for each relevant sound effect:<br>

<div class="blockScript">
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> AudioSource jumpSFX;
</div>

<br>
<br>  
In the function that triggers action, like jumping, add the command:<br>
<div class="blockScript">
&nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>jumpSFX.Play();
</div>

<br><br>
For an action that will be repeated a lot, to prevent sounds oevrlapping, add a condition:<br>
<div class="blockScript">
  &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>if (jumpSFX.isPlaying == <font color=#365f91 face="arial"><b>false</b></font><font face="arial">){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>jumpSFX.Play();<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>}
</div>

<br>
<b>e. DRAG THE AUDIOSOURCE COMPONENTS UP INTO THE SCRIPT SLOTS<br>
</b>
Drag each AudioSource components (selecting them by their header bar) into the script slots. 
<br>
Identify them by the Audio clip. Hit [Play] and perform the actions to hear the sounds.<br>
<br>
<br>
<br>
<br>
<a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="02j2">&nbsp;</a>
<font size=+1><b>Player Footstep Variation:</b></font>
<br>
The same footstep sound with every move can get tiresome on the ears. <br>
Try creating 4-6 separate footstep MP3s with subtle differences. Apply them to the player on separate objects as explained above, and randomize which one is played when the player is moving:<br>
<br>
<center>
	<em>add to the Player Move script:</em>
</center>

<div class="blockScript">
<br>
<font color=gray>//1. Add these variables to the top of the class</font>
<br>
                      <font face=arial><font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>private AudioSource</b></font> StepToPlay;<br>
                      <font face=arial>&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#31849b><b>public AudioSource</b></font><strong>[]</strong> SFX_Steps;<br>

<br><br>
<font color=gray>//2. In the <b>Update()</b> function, when player is moving, add calls to PlaySteps and StopSteps:</font><br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font><font color=#3ab050><b>if</b></font></font> ((Input.GetAxisRaw(<font color=#ed6c0a><b>"Horizontal"</b></font>)!= <font color=#ed6c0a><b>0</b></font>) || (Input.GetAxisRaw(<font color=#ed6c0a><b>"Vertical"</b></font>)!= <font color=#ed6c0a><b>0</b></font>)){<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font>PlaySteps();<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font></font></font>}
<font face="arial"><font color=#3ab050><b>else</b></font></font> {<br>
<font face=arial><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </font>&nbsp; &nbsp; &nbsp;&nbsp; </font>StopSteps();<br>&nbsp; &nbsp; &nbsp;&nbsp; <font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font>}<br>
<font face="arial">&nbsp; &nbsp; &nbsp;&nbsp; </font><br>
<font color=gray>//3. Add these two functions:</font><font face="arial"><br>
&nbsp; &nbsp; &nbsp;&nbsp;	<font color=#31849b><b>public void</b></font> PlaySteps(){<br>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;		<font color=#3ab050><b>if</b></font> ((StepToPlay !=null)&&(StepToPlay.isPlaying)){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;</font><font color=#365f91 face="arial"><b>return</b></font><font face="arial">;<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;		} <font color=#3ab050><b>else</b></font> {<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;			<font color=#31849b><b>int</b></font> StepNum = Random.Range(<font face="arial"><font color=#ed6c0a><b>0</b></font></font>, <font face="arial">SFX_Steps.Length</font>);<br>
<font face="arial"><font face="arial">&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </font>StepToPlay</font> = SFX_Steps[<font face="arial">StepNum</font>];<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;			StepToPlay.Play();<br>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;		}<br>&nbsp; &nbsp; &nbsp;&nbsp;	}<br>	
<br>&nbsp; &nbsp; &nbsp;&nbsp;	<font face="arial"><font color=#31849b><b>public void</b></font></font> StopSteps(){<br>
&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;		<font face="arial"><font face="arial"><font color=#3ab050><b>if</b></font></font></font> ((StepToPlay != null) && (StepToPlay.isPlaying)){<br>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;			StepToPlay.Stop();<br>&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;		}<br>&nbsp; &nbsp; &nbsp;&nbsp;	}

<br><br>
</div>


<br><br><br>

<center>
<img src="gamedesign/bullet.png" alt=""> &nbsp; 
<img src="gamedesign/bullet.png" alt=""> &nbsp; 
<img src="gamedesign/bullet.png" alt="">
</center>

<br><br>
<a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="AudioManager">&nbsp;</a> <font size=+1><b>CREATE AN AUDIOMANAGER PREFAB FOR MUSIC</b></font> <br>
<em><b>SUMMARY:</b></em> For music and ambient audio, create an object that can play in all Scenes. <br>
<br>
Music and ambient  audio should be assigned to child objects of a GameObject Prefab, the AudioManager: <br>
<strong>1.</strong> Make the AudioManger object: 
<ol type="a">
<li> Right-click the Hierarchy panel to create a new <strong>Empty Game Object</strong>. <br>
<li> In the Inspector name it "<strong>AudioManager</strong>".
<br> 
<li> Reset Transforms. 
</ol>

<br><br>
<strong>2.</strong> Make a child for the AudioSource: 
<ol type="a">
<li> Right-click the AudioManager to create a <strong>child Empty Game Object</strong>.<br>
<li> <strong>Name</strong> the child (for example, "Music1"). <br>
<li> In the Inspector, <strong>[Add Component] > Audio Source</strong>. <br>
<li> Leave on "<strong>Play on Awake</strong>", turn on "<strong>Loop</strong>". <br>
<li> Drag in your music .MP3 (MP3 is better than WAV for long sound files, 1-3 minutes). 
</ol>

<br><br>
<strong>3.</strong> <strong>Duplicate</strong> the child for other sound files (and manage which are on or off) 

<br><br>
<strong>4.</strong> Drag the AudioManager into the project panel to make it a <strong>Prefab</strong>, so it can be used in other scenes. <br>
<br>
<br>
<br>
<a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02j4">&nbsp;</a>
<font size=+1><b>PLAY MUSIC AT A SPECIFIC TIMESTAMP</b></font><br>
<em><b>SUMMARY:</b></em> Interrupt music and resume at the same part (<a href="https://youtu.be/5Rylvx4z3TU" target=music>source</a>).<br>


<br>
<font face=arial>Add the following script to the Audio Manager<br>
<br>
</font>
<center>
  <font face=arial><em>AudioInterrupt.cs:</em></font><br>
</center>

<div class="blockScript">
<font color=#31849b><b>using</b></font> UnityEngine;<br>
        <font color=#31849b><b>using</b></font> System.Collections;<br>
        <font color=#31849b><b>using</b></font> System.Collections.Generic;<br>
        <br>
        <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> AudioInterrupt :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font></font> <font face=arial>{<br>
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <b><font color=#31849b>AudioSource </font></b>audioSource;<br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> <b><font color=#31849b>float </font></b>stopTimestamp = <font face="arial"><b><font color="#ed6c0a">12.5f</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Input.GetKeyDown(<font face="arial"><b><font color="#ed6c0a">&quot;i&quot;</font></b></font>)) {
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PlayMusicAtBegin();
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Input.GetKeyDown(<font face="arial"><b><font color="#ed6c0a">&quot;o&quot;</font></b></font>)) { <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StopMusic(); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Input.GetKeyDown(<font face="arial"><b><font color="#ed6c0a">&quot;p&quot;</font></b></font>)) { <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PlayMusicAtTime(stopTimestamp); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> PlayMusicAtBegin(){<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; audioSource.time = <font face="arial"><b><font color="#ed6c0a">0.0f</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; audioSource.Play();<br>
              &nbsp; &nbsp; &nbsp; &nbsp; }<br>
              <br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> StopMusic(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; stopTimestamp = audioSource.time;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Debug.Log(<font color=gray>"Stopped audio at: "</font> + stopTimestamp);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; audioSource.Stop();<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> PlayMusicAtTime(<font color=#31849b><b>float</b></font> timeStamp){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>if</b></font></font> (timeStamp &gt; audioSource.clip.length){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <font face="arial"><font color=#3ab050><b>else</b></font></font> {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; audioSource.time = timeStamp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; audioSource.Play();<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
              }
<br>
<br>
</div>

<br>
<br>
<br>
<font face=arial><a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02j3">&nbsp;</a></font><font size=+1><b>MUSIC MANAGER: CONTINUOUS PLAY</b></font> <br>
<em><b>SUMMARY:</b></em> An <strong>Empty GameObject</strong> <strong>Prefab</strong> called &quot;<strong>AudioManager</strong>&quot; with <strong>tag</strong> &quot;<strong>AudioManager</strong>&quot; should be added to all scenes for playing level music. <br>
It should have child objects with one <strong>Audio Source</strong> Component, each. <br>
If the <strong>Music Mixer</strong> exists, add it to each Audio Source in the Inspector in the Output slot by hitting the hotspot circle on the far right. <br>
By default, this music will restart in each level. Do you want the music to continue where the previous scene left off?

<br>
<br>
<br>
<strong>OPTION 1 (preferred): Using Time Stamps:</strong> <br>
One option is to make this AudioManager keep track of the music time stamp when the scene is changed, to pick up where it left off in the next scene. This requires a static float to track the AudioSource timestamp. Optionally,  a command on door and button scripts can also be used to change the timestamp.


<br><br>
Add a new Tag "AudioManager" to the tag manager and apply it to the AudioManager.
<br>Add the following script to the AudioManager Prefab: 

<br>
<br>
<center>
  <font face=arial><em>AudioManager.cs:</em></font> <br>
</center>
<div class="blockScript">
<font color=#31849b><b>using</b></font> UnityEngine;<br>
        <font color=#31849b><b>using</b></font> System.Collections;<br>
        <font color=#31849b><b>using</b></font> System.Collections.Generic;
<br><font color=#31849b><b>using</b></font> UnityEngine.Audio;
<br><font color=#31849b><b>using</b></font> UnityEngine.SceneManagement;
<br>
<br>
        <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> AudioManager :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font></font> <font face=arial>{<br>
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>AudioSource MenuMusic;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>p</b></font><font face=arial><font color=#31849b><b>ublic </b></font></font>AudioSource GameMusic1;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray><b>//public</b> AudioSource GameMusic2;</font>

<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> AudioSource  theMusic;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> <b><font color=#31849b>static float </font></b>musicTimeStamp = <font face="arial"><b><font color="#ed6c0a">0.0f</font></b></font>;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> currentTimeStamp;

<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Awake(){<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//set the music based on the scene</font><br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>if</b></font></font> ((SceneManager.GetActiveScene().name == "MainMenu")<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; || (SceneManager.GetActiveScene().name == "Credits")<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; || (SceneManager.GetActiveScene().name == "EndLose")<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; || (SceneManager.GetActiveScene().name == "EndWin")<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ){ <br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; theMusic = MenuMusic; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <font face="arial"><font color=#3ab050><b>else</b></font></font> { <br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; theMusic = GameMusic1; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } 

<br><br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
<font color=gray>//set the time and play:</font>

<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; theMusic.time = musicTimeStamp;<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; theMusic.Play();<br>
          &nbsp; &nbsp; &nbsp; &nbsp; }<br>
          <br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Update(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=gray>//keep track of timestamp, to auto-call it in the next scene:</font>
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;musicTimeStamp = theMusic.time; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;currentTimeStamp = theMusic.time; <br>
&nbsp; &nbsp; &nbsp; &nbsp; }

<br><br>
<font color=gray>//change timestamp (can be called by door code):</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> SetTimeStamp(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;musicTimeStamp = theMusic.time; <br>
&nbsp; &nbsp; &nbsp; &nbsp; } <br>
          } <br>
          <br>
        </div>

<br>
<br>
<b>b.</b> To optionally set the timestamp externally, add these lines to a door or button script: <br>
<br>

<div class="blockScript"> 
<br> 
<font color="#3ab050"><b>if</b></font>(GameObject.FindWithTag("AudioManager") != null){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; GameObject.FindWithTag("AudioManager").GetComponent &lt;AudioManager&gt;().SetTimeStamp();
<br>}   
<br>
<br>
</div>
        
<br>
<br>
<br>
<br><br>
<strong>OPTION 2: SINGLETON (learn more about <a href="https://youtu.be/yhlyoQ2F-NM?si=6ScoSxLExmD7zkUS" target=sing>singletons</a>):</strong>
<br>
One option is to make this AudioManager a singleton: an object that is not destroyed between levels. 
<br>
<b>a.</b> Use &quot;DontDestroyOnLoad()&quot; to preserve the object with the music (<a href="https://youtu.be/82Mn8v55nr0" target=music>source</a>). 
<br>Add the following script to the Audio Manager
<br><br>
<center>
  <em>BGSoundScript.cs:</em>
</center>
<div class="blockScript">
<font color=#31849b><b>using</b></font> UnityEngine;<br>
          <font color=#31849b><b>using</b></font> System.Collections;<br>
          <font color=#31849b><b>using</b></font> System.Collections.Generic;<br>
          <br>
          <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> BGSoundScript :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font></font> <font face=arial>{<br>
          <br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private</b></font> <b><font color=#31849b>static </font></b>BGSoundScript instance = null;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public static</b></font> BGSoundScript Instance{<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; get {return instance;}<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Awake(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>if</b></font></font> (instance != null &amp;&amp; instance != this){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy(this.gameObject);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <font face="arial"><font color=#3ab050><b>else</b></font></font> { <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; instance = this;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DontDestroyOnLoad(this.gameObject); <br>
&nbsp; &nbsp; &nbsp; &nbsp; } <br>
} <br>
<br>
</div>
<br>
<br>
<b>b.</b> To pause this music, create a script with this command:
<br>
<br>
<center>
  <font face=arial><em>StopMusic.cs:</em></font> <br>
</center>
<div class="blockScript">
<font color=#31849b><b>using</b></font> UnityEngine;<br>
        <font color=#31849b><b>using</b></font> System.Collections;<br>
        <font color=#31849b><b>using</b></font> System.Collections.Generic;<br>
        <br>
        <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> StopMusic :</b></font> <font color=#365f91><b> MonoBehaviour</b></font> {<br>
          <br>
          &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start() {<br>
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BGSoundScript.Instance.gameObject.GetComponent&lt;AudioSource&gt;().Pause();<br>
          &nbsp; &nbsp; &nbsp; &nbsp; }<br>
              } <br>
              <br>
            </div><br>
            <br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<br>
<a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02j5">&nbsp;</a> <font size=+1><b>OTHER OBJECTS: SPATIAL AUDIO</b></font> (<a href="https://answers.unity.com/questions/1156354/play-sound-within-limited-region.html" target=music5>source</a>)<br>
<em><b>SUMMARY:</b></em> Audio Source Components on objects in the game can be set to only be audible within a certain distance. A noisy drill in the street or a radio on a table  feels more believable and interesting to the player when it changes volume by distance!<br>
<br>
<b>a.</b> In the <strong>Audio Source</strong> Component of the object, set <strong>Spatial Audio</strong> from 2D to <strong>3D</strong> (even for a 2D game).<br>
<br>
<b>b.</b> Set <strong>Max Distance</strong> range down from the default 500 (covers entire Scene) to something much smaller, like 20.

<br><br>
<strong>c.</strong> Playtest and adjust the Max Distance range as needed!

<br><br>
Volume can also be set directly in a script(set value 0-to-1):
<br>

<div class="blockScript">
    &nbsp; &nbsp; &nbsp; &nbsp; AudioSource.volume = 1;
</div>
<br><br><br><br>

<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial>&nbsp;</font><font face=arial><font face=arial><br>
<font face=arial><a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="filters">&nbsp;</a></font><font size=+1><b>AUDIO FILTER EFFECTS</b></font><br>
<strong>Try these Audio <a href="https://docs.unity3d.com/560/Documentation/Manual/class-AudioEffect.html" target=filters>filters</a></strong> for <font face=arial>additional Audio Effects in Unity</font>:

<br><br>
<img src="gamedesign/bullet.png" alt=""> <strong>Low Pass:</strong> Make spatial audio die quickly/sound further away, like in a  fog or behind a door. Also, removes high-frequency problems like the hiss of a poor recording.

<br><br>
<img src="gamedesign/bullet.png" alt=""> <strong>High Pass:</strong> Removes low-frequency problems, like handling a mic, for a clearer sound.

<br><br>
<img src="gamedesign/bullet.png" alt=""> <strong>Echo:</strong> Create sound delays and repetitions. Try wet mix and dry mix. Use to reprsent sound in large / cavernous spaces.

<br><br>
<img src="gamedesign/bullet.png" alt=""> <strong>Distortion:</strong> Use to represent the sound of a low-quality radio signal

<br><br>
<img src="gamedesign/bullet.png" alt=""> <strong>Reverb:</strong> Create custom changes to create the illusion of room size. 
<br>&nbsp;  NOTE: settings are grayed out unless  <strong>Reverb Preset</strong> is set to <strong>User</strong>, 

<br><br>
<img src="gamedesign/bullet.png" alt=""> <strong>Chorus:</strong> Create the illusion that the sound is being emitted from multiple sources.

<br><br><br>
<a href="https://docs.unity3d.com/560/Documentation/Manual/AudioMixer.html" target=mixer><strong>AudioMixer</strong></a><strong>:</strong> To control when some parts of the audio get softer while others get louder (ducking). For example, lower the music while an important sound effect is heard, etc. <br>
<br>
<br><br>
</font></td>
</tr></table>
</div></td>
</tr></table>

<br>
<a name="02k">&nbsp;</a> 
<br>
<!--
<details>
  <summary>[2K] INTRO ANIMATIONS</summary>
-->

<table width=850 cellpadding=10 border=0>
  <tr>
    <td><button class="accordion3">
      <a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a><font face="arial"> <b>[2K] INTRO ANIMATIONS</b> &nbsp; &nbsp; &nbsp;</font>
      </button>
      <div class="panel2">
      
      
<table width=800 cellpadding=10 border=0><tr>
<td valign=top><center>
<font face="arial"><a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a> <font size=+2><font color=purple><b>[2K]:</b></font> <b>INTRO ANIMATIONS</b></font></font> <font face="arial">

<br>
<strong>COMICS:</strong> <a href="#comic1">Opening Comic Sequence</a> &nbsp; | &nbsp;
<a href="#comic2">Comic Page</a> &nbsp; | &nbsp; 
              
<br>
<strong>ANIMATION:</strong> Cut Scene with <a href=#02k1>Timelines</a> &nbsp; | &nbsp;<a href="#02k2">Player Delivery</a>&nbsp;(Vehicle, coroutine delay)
</font>
</center>

<br><br>
<font face="arial"> To help the player understand the experience they are about to enter, it is helpful to ORIENT the player with information about who their character is, where they are, what has happened (an inciting incident) and what they are meant to accomplish (the stakes). There are many ways to accomplish this!<br>
              <br>
                <em><strong>MAIN MENU TEXT:</strong></em> The simplest way to introduce the premise is to show <strong>1-3 sentences</strong> in the <strong>MainMenu</strong>.
                
Like a story pitch, these should be very concise: &quot;Your village has been attacked by the dreaded Penguin Horde! Can you find enough Puffin allies to save your stollen eggs?&quot;<br><br>
<em><strong>INTRO COMIC:</strong></em> More interesting is to include an <strong>opening cinematic</strong>. An efficient way to add visual storytelling to the start of your game is a quick <a href="#02j1"><strong>Intro Comic</strong></a> of 4-5 full-screen panels. <br>Draw / paint each at <strong>1280 x 720</strong>, <strong>72 ppi</strong>, just like the splash screens for the Main Menu, Credits, etc. 
<br>
(<em><strong>NOTE:</strong></em> Unity has tools for full cut-scene animation using <a href="https://medium.com/geekculture/creating-a-cutscene-in-unity-aaec5042aaab" target=cinematic>Cinemachine and Timeline</a>, but that is more work.)<br>
                <br>
                <em><strong>IN-GAME NPC CHATS:</strong></em> Finally, introductory information can be dlivered in each game Scene through <a href="#02e">friendly</a> NPCs who share information as the player moves through introductory spaces. 
                <br>
                These spaces can be narrow, like a path or pipe, to direct playr movenment towards the criotical information. 

<br>
Do not overload the player with too much information or too many abiolities at once. Introduce just a single idea or feature, and let the Player practice that extensively, and then give more information later.<br>
<br> 
An event in game, like the appearance of a major enemy, can be activated by an isTrigger Collider in the area. 
<br>
For example, the enemy can be moved into place with <a href="#01d">LERP</a> to an Empty Game Object, timed with an IEnumerator, accompanied by <a href="#02g">Cameera-shake</a> (see the <a href="#02j2"><strong>Player Delivery</strong></a> example below).

<br>
<br>
Consider using all three: a sentence in the main menu, and openign comic, and chatting NPCs to guide the player at the start of each level.


<br><br>
<br><br>
<font face=arial><a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> 
<a name="comic1">&nbsp;</a></font><font size=+1><b>OPENING COMIC SEQUENCE:</b></font>
<br>
<em><b>SUMMARY:</b></em> Create four or more full-screen comic panels (1280 x 720, 72ppi) and display them as a sequence.
<br>
The following assumes  these game Prefabs have been built: GameHandler, Pause Menu, Music Manager.<br>
<br>
<b>1. Create a new framing SCENE for your game:<br>
a).</b> File > New Scene, then File &gt;  <b>Save As</b> to name it "<b>LevelComic</b>" in the Scenes folder.<br>
<b>b).</b> In File > <b>Build Settings</b>, add this scene.<br>
<b>c).</b> In the GameHandler script, change the <b>StartGame()</b> function to go to &quot;LevelComic&quot;.<br>
<b>d).</b> Create a Canvas and Placeholder text:<br>
&nbsp; &nbsp; <img src="gamedesign/bullet.png" alt=""> GameObject &gt; UI &gt; <strong>Canvas</strong>. Set to Scale with Screen Size, 1280 x 720.<br>
&nbsp; &nbsp; <img src="gamedesign/bullet.png" alt=""> RightClick the Canvas to create a UI > Legacy > Text. In the Inspector name it text_Placeholder. <br> 
<b>e).</b> Load in the usual <b>Prefabs</b> for you game:<br> 
&nbsp; &nbsp; 
 <img src="gamedesign/bullet.png" alt=""> Drag into the Hierarchy your <strong>GameHandler</strong> Prefab. Add text_Placeholder to Text script slots (health, etc). <br> 
&nbsp; &nbsp; 
 <img src="gamedesign/bullet.png" alt=""> Drag onto Canvas your <strong>PAUSE_MENU</strong> prefab. Drag it into the GameHandler script slot. Activate the OnClick events for all Pause Menu buttons and slider with the GameHandler.<br> 
&nbsp; &nbsp; 
 <img src="gamedesign/bullet.png" alt=""> Add your <strong>MusicManager</strong> Prefab.
 
 
<br><br><br> 
<b>2. Create the STORY BUTTONS:<br>
a).</b> With the Canvas selected, add a UI &gt; Legacy &gt; Button (ideally, drag into the Canvas a Button_Menu prefab, used for all menu buttons!).<b><br>
b).</b> Duplicate the button twice for a total of three buttons.<br>
 &nbsp; <img src="gamedesign/bullet.png" alt=""> In the Inspector, name them &quot;<b>button_Next</b>&quot;, &quot;<b>button_Back</b>&quot;, and &quot;<b>button_Skip</b>&quot;.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> Make sure <strong>Navigation</strong> is changed from &quot;Automatic&quot; to &quot;<strong>None</strong>&quot;.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> At the bottom of each click the [+] to create an OnClick() event.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> Open each button, select the text, and change the text field to display  button function: NEXT, BACK, SKIP.

<br><br>
<br>
<b>3. Create the COMIC PANELS:<br>
a).</b> RightClick the Hiearchy to create an <b>Empty GameObject</b>.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>Panel</b>&quot; and reset transforms.<b><br>
b).</b> RightClick Panel to add a 2D Object &gt; Sprite &gt; <b>Square</b>.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> In Inspector name it &quot;<b>panel_art</b>&quot; and set <b>Scale</b>: X = <b>1.4</b>, Y = <b>1.4</b>.<br>
<b>c).</b> In Photoshop, create your comic panel art.<br>
Each panel should be a full screen: <b>1280 x 720</b>, <b>72 ppi</b>.<br>
(for quick demo purposes, create two panels that can alternate, like these:
<a href="gamedesign/Unity2D/Dialogue_BGalley.png" target=vis4>01</a> | <a href="gamedesign/Unity2D/Dialogue_BGcityUp.png" target=vis2>02</a>).<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> <b>Import</b> the art panels into the Unity Project panel Assets folder.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> Select the panel_art object in the Hierarchy and <b>drag</b> the panel art into the Source Image slot.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> <b>Duplicate</b> the Panel object for as many panels you want (try 5).<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> <b>Move</b> each Panel 20 units to the right: x= 20, 40, 60, 80, etc (or more, if you want more gutter space).


<br><br>
<br>
<b>4. Add THE CAMERA SCRIPT:</b><br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> Create a new script: &quot;<b>OpeningComicNavigation</b>.cs&quot;. Add the content below. Save and compile in Unity.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> <strong>Apply</strong> this script to the <strong>MainCamera</strong> in LevelComic.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> In the Inspector, hit <b>[+]</b> in the <b>array</b> for as many Panels you want (remember arrays start at index 0).<br>
&nbsp; &nbsp;&nbsp; <b>Drag</b> the Panel objects into the new slots.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> <b>Drag</b> button_Back into the script slot.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> For each of the three comic navigation buttons, drag MainCamera into the OnClick None slot, and choose the correct function to add ( <em>PanelNext()</em>, <em>PanelBack()</em>, <em>PanelSkip()</em> ). 

<br>
<br>
<center>
	<em> OpeningComicNavigation.cs script:</em>
</center>
<div class="blockScript">
<font color=#31849b><b>using</b></font> System.Collections; <br> 
<font color=#31849b><b>using</b></font> System.Collections.Generic; <br> 
<font color=#31849b><b>using </b></font>UnityEngine; <br> 
<font color=#31849b><b>using </b></font>UnityEngine.UI; <br> 
<font color=#31849b><b>using</b></font> UnityEngine.SceneManagement; <br>
<br>
<font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> OpeningComicNavigation :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font> {
<br> 
<font color=gray>//this script goes onto the MainCamera in a scene with a series of comic panels</font>
<br>
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; 
<font color=#31849b><b>public string</b></font> nextScene = <font face="arial"><b><font color="#ed6c0a">&quot;Level1&quot;</font></b></font>;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject[] panels;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private int</b></font> panelsLength; <br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public int</b></font> currentPanel = <font face="arial"><b><font color="#ed6c0a">0</font></b></font>; <br> 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private Vector3</b></font> newPos; <br> 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>private </b></font>float camSpeed = <font face="arial"><b><font color="#ed6c0a">4f</font></b></font>; <br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject buttonBack;
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//public bool canShake = false;</font>
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//public int panelToShake = 3;</font>
<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; panelsLength = panels.Length;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector3</b></font> initialPos = panels[<font face="arial"><b><font color="#ed6c0a">0</font></b></font>].transform.position; <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new <font color=#31849b><b>Vector3</b></font> (initialPos.x, initialPos.y, transform.position.z); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buttonBack.SetActive(false);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate () {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector2</b></font> pos = <font color=#31849b><b>Vector2</b></font>.Lerp ((<font color=#31849b><b>Vector2</b></font>)transform.position, (<font color=#31849b><b>Vector2</b></font>)newPos, camSpeed * Time.fixedDeltaTime); <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = new <font color=#31849b><b>Vector3</b></font> (pos.x, pos.y, transform.position.z); <br>
&nbsp; &nbsp; &nbsp; &nbsp; }
<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> PanelNext(){
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>if</b></font></font> (currentPanel < (panelsLength - <font face="arial"><b><font color="#ed6c0a">1</font></b></font>)){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currentPanel ++;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buttonBack.SetActive(true);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; newPos = panels[currentPanel].transform.position;
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//screen shake </font>
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//if ((canShake==true)&&(currentPanel == (panelToShake-1))){</font>
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>// GetComponent&lt;CameraShake&gt;().ShakeCamera(1f, 0.3f);</font>
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//}</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>else</b></font></font> { <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(nextScene);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; &nbsp; }
	
<br><br> 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> PanelBack(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>if</b></font></font> (currentPanel > <font face="arial"><b><font color="#ed6c0a">0</font></b></font>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currentPanel --;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; newPos = panels[currentPanel].transform.position;
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (currentPanel == <font face="arial"><b><font color="#ed6c0a">0</font></b></font>){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; buttonBack.SetActive(false);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//screen shake</font>
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//if ((canShake==true)&&(currentPanel == (panelToShake-1))){</font>
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//	GetComponent&lt;CameraShake&gt;().ShakeCamera(1f, 0.3f);</font>
<br> 
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//}</font>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public void</b></font> PanelSkip(){ <br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SceneManager.LoadScene(nextScene); <br>
&nbsp; &nbsp; &nbsp; &nbsp; } <br>
<br>
}

</div>


<br>

<center>
<img src="gamedesign/bullet.png" alt=""> &nbsp; 
<img src="gamedesign/bullet.png" alt=""> &nbsp; 
<img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial><font face=arial><a name="comic2">&nbsp;</a></font></font><br><br>
<font face=arial>
<a href="gamedesign/Unity2D/ComicPage1.png" target=comicPage1><img src="gamedesign/Unity2D/ComicPage1_thumb.png" width=780></a>

<br><br>
<font face=arial><a href="#02j"><img src="gamedesign/triangle_purple.png" alt=""></a> </font><font size=+1><b>OPENING COMIC PAGE:</b></font>

<br><br>
<em><b>SUMMARY:</b></em> Create a <strong>single comic page</strong> with any number of panels. 
<br>
The camera moves between the panels, stopping at each, and finally jumping to the next page (or gameplay).<br>
The following assumes  these game Prefabs have been built: GameHandler, Pause Menu, Music Manager.<br>
<br>
<b>1. Create a new framing SCENE for your game:<br>
a).</b> File > New Scene, then File &gt; <b>Save As</b> to name it "<b>ComicPage1</b>" in the Scenes folder.<br>
<b>b).</b> In File > <b>Build Settings</b>, add this scene.<br>
<b>c).</b> In the GameHandler script, change the <b>Play()</b> function to go to &quot;ComicPage1&quot;.<br>
<b>d).</b> Create a Canvas and Placeholder text:<br>
&nbsp; &nbsp; <img src="gamedesign/bullet.png" alt=""> GameObject &gt; UI &gt; <strong>Canvas</strong>.<br>
&nbsp; &nbsp; <img src="gamedesign/bullet.png" alt=""> Set &quot;UI Scale Mode&quot; to <strong>Scale with Screen Size</strong>, 1280 x 720.<br>
&nbsp; &nbsp; <img src="gamedesign/bullet.png" alt=""> RightClick the Canvas to create a UI > Legacy > Text. In the Inspector name it text_Placeholder.<br>
<b>e).</b> Load in the usual <b>Prefabs</b> for you game:<br>
&nbsp; &nbsp; <img src="gamedesign/bullet.png" alt=""> Drag into the Hierarchy your <strong>GameHandler</strong> Prefab. Add text_Placeholder to Text script slots (health, etc). <br>
&nbsp; &nbsp; <img src="gamedesign/bullet.png" alt=""> Drag onto Canvas your <strong>PAUSE_MENU</strong> prefab. Drag it into the GameHandler script slot. Activate the OnClick events for all Pause Menu buttons and slider with the GameHandler.<br>
&nbsp; &nbsp; <img src="gamedesign/bullet.png" alt=""> Add your <strong>MusicManager</strong> Prefab.

<br><br>
<br>
<b>2. Create the SKIP BUTTON:<br>
a).</b> With the Canvas selected, add a UI &gt; Legacy &gt; Button 
<br>(ideally, drag into the Canvas a Button_Menu prefab, used for all menu buttons!).<b>

<br><br>
b).</b> Duplicate the button twice for a total of three buttons.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> In the Inspector, name it &quot;<b>button_Skip</b>&quot;.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> Make sure <strong>Navigation</strong> is changed from &quot;Automatic&quot; to &quot;<strong>None</strong>&quot;.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> At the bottom click the [+] to create an OnClick() event.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> Open the button, select the text, change the text field to display: SKIP.

<br><br>
<br>
<b>3. Create the COMIC MANAGER and CONTROL OBJECTS:<br>
a)</b> 
Create the Comic Manager object<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> RightClick the Canvas to create an <b>Image</b>.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> In the Inspector name it &quot;<b>COMIC_MANAGER</b>&quot;. Set Size=1280x720, color alpha=0.<b>
<br><br>
</b><strong>b)</strong> 
Create the Comic Pivot and Center objects:<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> Right-click COMIC_MANAGER to add <strong>two</strong> <strong>Empty Game Objects</strong>.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> In the Inspector name them &quot;<strong>ComicCenter</strong>&quot; and &quot;<strong>ComicPivot</strong>&quot;. <b><br>
<br>
</b><br>
<b>4. Create the COMIC PAGE and PANELS:<br>
 a).</b> Create the Comic Page Background:
<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> RightClick COMIC_MANAGER to add an <strong>Image</strong>.<br>
&nbsp; <img src="gamedesign/bullet.png" alt=""> In Inspector name it &quot;<b>Comic_Back</b>&quot;, set <b>Size</b> (for ex: 600 x 700) and  color.

<br><br>
<b>b).</b> Create the first Comic Panel:
<ol> 
<li> RightClick Comic_Back to add an <strong>Image</strong>.
<li> In Inspector name it &quot;<b>ComicPanel1</b>&quot; and set <b>Size</b> (for example 180 x 220).
<li> <strong>Duplicate</strong> Panel1, name it &quot;<b>ComicPanel1_color</b>&quot;. Drag  on Panel1 to make it a child.
<li> Create a new <strong>C# script</strong> called &quot;<strong>ComicPanel</strong>.cs&quot;. Add  content below. Save.  
<li> <strong>Add</strong> script onto ComicPanel1. 
<li> Add ComicPanel1_color to  &quot;Panel Art Color&quot; script <strong>slot</strong>.
</ol>

<br>
<br>
<center>
<em>ComicManager.cs script:</em>
</center>
  
<div class="blockScript">
<font color=#31849b><b>using</b></font> System.Collections; <br>
        <font face=arial><font color=#31849b><b>using</b></font></font> System.Collections.Generic; <br>
        <font face=arial><font color=#31849b><b>using </b></font></font>UnityEngine; <br>
        <br>
        <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> ComicPanel :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font> { <br>
          <font color=gray>//this script goes onto each ComicPanel</font> <br>
          <br>	
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> panelSize = <font face="arial"><b><font color="#ed6c0a">3</font></b></font>; <br>	
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> duration =<b><font color="#ed6c0a"> </font></b><font face="arial"><b><font color="#ed6c0a">2f</font></b></font>; <br>	
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font> GameObject panelArtColor; <br>
<br>    
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>void</b></font> Start(){ <br>        
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; panelArtColor.SetActive(</font><font color=#365f91 face="arial"><b>false</b></font><font face=arial>); <br>    
&nbsp; &nbsp; &nbsp; &nbsp; } <br>
<br>    
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> ActivatePanel(){ <br>        
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; panelArtColor.SetActive(</font><font color=#365f91 face="arial"><b>true</b></font><font face=arial>); <br>    
&nbsp; &nbsp; &nbsp; &nbsp; } <br>
<br>	
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public</b></font> <font color=#31849b><b>void</b></font> DeactivatePanel(){ <br>        
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; panelArtColor.SetActive(</font><font color=#365f91 face="arial"><b>false</b></font><font face=arial>); <br>    
&nbsp; &nbsp; &nbsp; &nbsp; } <br>
<br>}   
          
          
<br><br>          
        </div>

<br>
<p>
<b>c).</b> Duplicate to make the rest of the Comic Panels: 
<ol>
<li> <strong>Drag</strong> ComicPanel1 into the Project panel Assets folder to make it a <strong>Prefab</strong>. 
<li> In the Hierarchy<b>, duplicate</b> the Panel for the number you want (try a 3x3 grid of 9).<li> <b>Move</b> each Panel into place. Change ComicPanel name numbers for  display order. 
<li> Add a new Tag named &quot;<strong>Panel1</strong>&quot;. Select the first comicPanel, add this Panel1 tag.
</ol>


<br>
<br>
<br>
<p>
<b>5. Add the Comic_Manager SCRIPT:</b>
<ol typ="a">
<li> Create a new script: &quot;<b>ComicManager</b>.cs&quot;. Add  content below. Save.<br>
<li> <strong>Apply</strong> this script to the COMIC_MANAGER object in the Canvas.<br>
<li> In the Inspector, hit <b>[+]</b> in the <b>array</b> for the ComicPanel objects you made (ex 9).<br>
<li> <b>Drag</b> the Panel Objects into the new slots, in order (remember arrays start  index 0).<br>
<li> <b>Drag</b> the <strong>first panel</strong> object into the &quot;<strong>Current Panel</strong>&quot; script <strong>slot</strong>.<br>
<li> <b>Drag</b> the <strong>ComicPivot</strong> object into the &quot;<strong>Comic Pivot</strong>&quot; script <strong>slot</strong>.<br>
<li> <b>Drag</b> the <strong>Comic_Back</strong> object into the &quot;<strong>Comic Back</strong>&quot; script <strong>slot</strong>.<br>
<li> <b>Drag</b> the <strong>ComicCenter</strong> object into the &quot;<strong>Comic Center</strong>&quot; script <strong>slot</strong>.<br>
<li> In the &quot;<strong>Next Level</strong>&quot; script slot enter the name of the next Scene.<br>
<li> For the <strong>Skip button</strong>, drag ComicManager into the OnClick None slot, and choose the  function <em><strong>StartLevel()</strong></em><br>
<li> <strong>Drag</strong> COMIC_MANAGER into the Project panel Assets folder to make it a <strong>Prefab</strong> 
<br>
(First make sure the COMIC_MANAGER has all of its children: Comic_Back with all the ComicPanel children, and the two control GameObjects, ComicCenter and ComicPivot). 
</ol><br>

<center>
<em> ComicManager.cs script:</em>
</center>

<div class="blockScript">
<font color=#31849b><b>using</b></font> System.Collections; <br>
        <font face=arial><font color=#31849b><b>using</b></font></font> System.Collections.Generic; <br>
        <font face=arial><font color=#31849b><b>using </b></font></font>UnityEngine; <br>
        <font face=arial><font color=#31849b><b>using </b></font></font>UnityEngine.UI; <br>
        <font face=arial><font color=#31849b><b>using</b></font></font> UnityEngine.SceneManagement; <br>
        <br>
        <font color=#31849b><b>public class</b></font><font color=#365f91 face="arial"><b> ComicManager :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour</b></font> { <br>
          <font color=gray>//Add this script to ComicManager parent of the comic page, pivot, and center</font><br>
          <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> GameObject[] panels; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public int</b></font> currentPanelNum; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> GameObject currentPanel; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public float</b></font> currentDuration = <font face="arial"><b><font color="#ed6c0a">0.5f</font></b></font>; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>bool</b></font> moveComic = </font><font color=#365f91 face="arial"><b>false</b></font><font face=arial>; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> GameObject comicPivot; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> GameObject comicBack; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public</b></font> Transform comicCenter; <br>
<br>
<font color=gray>//LERP variables: </font><br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector2</b></font> startPos; <br>    
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector2</b></font> endPos; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector3</b></font> startScale; <br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>Vector3</b></font> endScale; <br>
<font color=gray>// Movement speed in units per second:</font>
<br>    
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public float</b></font> moveSpeed = 500f; <br>
<font color=gray>// Time when movement starts:</font>
<br>    
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>private float</b></font> startTime; <br>
<font color=gray>// Total distance between locations:</font><br>    
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>private float</b></font> journeyLength; <br>
<br>
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public string</b></font> NextLevel = <font face="arial"><b><font color="#ed6c0a">&quot;Level1&quot;</font></b></font>; <br>
<br>    
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> Start(){ 
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  currentPanel = GameObject.FindWithTag(<font face="arial"><b><font color="#ed6c0a">&quot;Panel1&quot;</font></b></font>); <br>
<font color=gray>//start by lingering at full comic for half a second</font>:
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  StartCoroutine(LingerAtPanel(currentDuration)); <br>    
&nbsp; &nbsp; &nbsp;} 

<br>
<br>	
<font color=gray>//B: LERP camera position and size to new panel:</font>
<br>	
&nbsp; &nbsp; <font color=#31849b><b>void</b></font> FixedUpdate(){ <br>		
&nbsp; &nbsp; &nbsp; &nbsp;<font face="arial"><font color=#3ab050><b>if</b></font></font> (moveComic){ <br>
<br>
<font color=gray>// Distance moved equals elapsed time x speed:</font>
<br>        	
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>float</b></font> distCovered = (Time.time - startTime) * moveSpeed; <br>
<br> 
<font color=gray>// Fraction of journey completed = current distance divided by total distance:</font>
<br>        	
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>float</b></font> fractionOfJourney = distCovered / journeyLength; <br>
<br>  
<font color=gray>// Set our position as a fraction of the distance between the markers:</font>
<br>        	
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;comicPivot.transform.position = <font color=#31849b><b>Vector2</b></font>.Lerp(startPos, endPos, fractionOfJourney); <br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;comicPivot.transform.localScale = <font color=#31849b><b>Vector3</b></font>.Lerp(startScale, endScale, fractionOfJourney); <br>
<br>
<font color=gray>//LERP camera size position to next panel camera size:</font><br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b>float</b></font> distToPanel = <font color=#31849b><b>Vector2</b></font>.Distance(comicPivot.transform.position, comicCenter.transform.position); <br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font face="arial"><font color=#3ab050><b>if</b></font></font> (distToPanel < <font face="arial"><b><font color="#ed6c0a">0.1f</font></b></font>){ <br>				
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;moveComic = </font><font color=#365f91 face="arial"><b>false</b></font><font face=arial>; <br>				
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<font face="arial"><font color=#3ab050><b>for</b></font></font> (<font color=#31849b><b>int</b></font> i=<font face="arial"><b><font color="#ed6c0a">0</font></b></font>; i < panels.Length; i++){
<br>					
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  panels[i].GetComponent&lt;ComicPanel&gt;().DeactivatePanel();
<br>				
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br>				
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; panels[currentPanelNum].GetComponent&lt;ComicPanel&gt;().ActivatePanel();
<br>				
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FindNextPanel();<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}
<br>		
 &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; }<br>
<br>	
<font color=gray>//A: the pause before moving to the next panel: </font>
<br><font color=gray>(initially, the pause before full comic and first panel)</font>
<br>	
&nbsp; &nbsp; IEnumerator LingerAtPanel(<font color=#31849b><b>float</b></font> durationLinger){ <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font><font color=#365f91 face="arial"><b>yield return new </b></font><font face=arial> WaitForSeconds(durationLinger); <br>		
<font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp;<font color=#3ab050><b>if</b></font></font> (currentPanelNum >= panels.Length){
<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  StartLevel(); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Debug.Log("finished linger for panel " + currentPanelNum);
<br>
<br>	<font color=gray>//PREP HIERARCHY:</font>
<br>	
<font color=gray>//set parent of comicBack to this manager</font>:
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;comicBack.transform.parent = this.transform; 
<br>	
<font color=gray>//set pos of comicPivot to new panel</font>:
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;comicPivot.transform.position = currentPanel.transform.position; 
<br>	
<font color=gray>//set parent of comicBack to comicPivot:</font>
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;comicBack.transform.parent = comicPivot.transform; <br>
<br>	<font color=gray>//PREP LERP:</font>
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; startPos = comicPivot.transform.position; <br>    	
&nbsp; &nbsp; &nbsp; &nbsp; endPos = comicCenter.transform.position; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; startScale = comicPivot.transform.localScale; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>float</b></font> newScale = currentPanel.GetComponent&lt;ComicPanel&gt;().panelSize;
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; endScale = new <font color=#31849b><b>Vector3</b></font>(newScale, newScale, <font face="arial"><b><font color="#ed6c0a">1</font></b></font>); <br>	<font color=gray>// Note starting time:</font>
<br>        
&nbsp; &nbsp; &nbsp; &nbsp; startTime = Time.time; 

<br>    <font color=gray>// Calculate journey length:</font>
<br>        
&nbsp; &nbsp; &nbsp; &nbsp; journeyLength = <font color=#31849b><b>Vector3</b></font>.Distance(startPos, endPos); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; moveComic = </font><font color=#365f91 face="arial"><b>true</b></font><font face=arial>; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; Debug.Log("NEXT PANEL: startPos: " + startPos +
<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ", endPos: " + endPos +
<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ", startTime: " + startTime +
<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ", journeyLength: " + journeyLength);
<br>	
&nbsp; &nbsp; &nbsp;} 

<br>
<br>	
<font color=gray>//C: find the next panel and start pause:</font>
<br>    
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>public void</b></font> FindNextPanel(){ <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  currentDuration = currentPanel.GetComponent&lt;ComicPanel&gt;().duration;
<br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  currentPanelNum ++; <br>		
<font face="arial"><font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; <font color=#3ab050><b>if</b></font></font> (currentPanelNum < panels.Length){
<br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;currentPanel = panels[currentPanelNum]; <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <font face="arial"><font color=#3ab050><b>else</b></font></font> { <br>			
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; LingerAtPanel(currentDuration); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  StartCoroutine(LingerAtPanel(currentDuration)); <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Debug.Log("found next panel: " + currentPanel);
<br>    
&nbsp; &nbsp; &nbsp;} <br>
<br>	
&nbsp; &nbsp; &nbsp;<font color=#31849b><b>void</b></font> StartLevel(){ <br>		
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  SceneManager.LoadScene (NextLevel); <br>	
&nbsp; &nbsp; &nbsp;} <br>
<br>}          
<br>  
<br>
</div>

<br>
<br>
<b>6.</b> In Photoshop, create your comic panel art.<br>
Each panel art should be 72ppi, but the content should be <strong>large enough to fill either full screen width</strong> (1280) or <strong>full screen height</strong> (720), in proportion to fill the panels. 
<p>
Export both color and grayscale versions of each. (For quick demo purposes, try these: <a href="gamedesign/Unity2D/Dialogue_BGalley.png" target=vis4>01</a> | <a href="gamedesign/Unity2D/Dialogue_BGcityUp.png" target=vis2>02</a>).
<ul>
<li> <b>Import</b> the art panels into the Unity Project panel Assets folder.
<li> Select the ComicPanel and ComicPanel_color objects in the Hierarchy and <b>drag</b> the panel art into the Source Image slot for each.
</ul>

<br>
<br>
<br>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial><br>
<a href="#02k"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02k1">&nbsp;</a> <font size=+1><strong>CUT SCENE ANIMATION USING TIMELINES</strong></font><br>
<em><b>SUMMARY:</b></em> <br>
Want a sequence that shows movement, outside of the player control? This can be an introductory or end scene, or a transition. Unity's TIMELINES system allows for these sequences.<br>
</font><font face=arial><br>
<strong>See this short <a href="https://youtu.be/0soGRKtpJuA?si=Fke1d0ut6W_84vG5" target=timelines>video</a> explanation</strong> (5 minutes). <br>
Notes to come

<br>
<br>
<br>
</font>
<center>
  <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt=""> &nbsp; <img src="gamedesign/bullet.png" alt="">
</center>
<font face=arial><br>
<a href="#02k"><img src="gamedesign/triangle_purple.png" alt=""></a> <a name="02k2">&nbsp;</a> <font size=+1><b>PLAYER DELIVERY ANIMATION</b></font> 
<br>
<em><b>SUMMARY:</b></em> 
<br>Introduce the player character to a scene with an animated vehicle or mount (or to help them exit the scene). 
<br>Use Empty GameObjects and LERP to move the object, and IEnumerator to manage the order and timing.

<br>
<br>
Here is an example script for a game where in each scene the Player is dropped off by a helicopter at the start and flies away on a helicopter at the Scene end.<br>
<br>At the <strong>start</strong>, the Player object is already in the Scene, but the code disables their image and functionality. <br>
A destination Empty GameObject is located at the invisble player position, so the helicopter can land there and <em><strong>appear</strong></em> to drop the Player off (enable their image and functionality). <br>
After a pause, the helicopter flies off towards a second Empty GameObject.

<br><br> 
At the <strong>end</strong>, a trigger collider on the exit helicopter activates its motion towards a final Empty GameObject (after disabling Player collider, and parenting the player to the helicopter). <br><br>
<strong>1. CREATE THE COPTER ELEMENTS </strong><br>
Create an Empty GameObject. In the Inspector name it "<b>COPTER_SYSTEM</b>", reset transforms.
<br>
RightClick COPTER_SYSTEM to create another Empty. In the Inspector name it "<b>Copter_Start</b>", reset transforms. [Add Component] Rigidbody2D, set Type = Kinematic.<br>
Add the <b>helicopter image</b> sprite to Copter_Start (in this example I added two animation clips: fast rotor blades and slow rotor blades).
<br>
<b>Duplicate</b> the helicopter, name it "<b>Copter_End</b>". Move it away from the first. 
<br>[Add Component] BoxCollider2D, set to isTrigger, size around the helicopter cabin. 
<br>
RightClick Copter_End to add an EmptyGameObject child, name it "<b>seat</b>"
<br><b>Add three Empty GameObjects</b>. Name them "<b>copterStart_land</b>", "<b>copterStart_fly</b>", and "<b>copterEnd_fly</b>". 
<br>In the Inspector upper left, add a visualization diamond to each (so there is something to see in the Scene view).

<br><br>
<strong>2. POSITION THE COPTER ELEMENTS: </strong><br>
Positon <b>Helicopter_Start</b> significantly above and to the left of the player. 
<br>Position <b>copterStart_land</b> at the Player.
<br>Positon <b>copterStart_fly</b> significantly above and to the right of the player. 
<br>Positon <b>copterEnd_fly</b> significantly above and to the right of Copter_End. 
<br>
<br>
<strong>3. Create a new C#</strong> script named &quot;<strong>Helicopter_Handler</strong>.cs&quot;. 
<br>
Add the content below and <strong>apply</strong> the script to the <strong>Player</strong>. <br>
Load up all of the public script slots with the contents.

<br>
<br>
</font>

<center>
<em>Helicopter_Handler.cs:</em>
</center>

<div class="blockScript">
<font color=#31849b><b>using</b></font> System.Collections;<br> 
<font color=#31849b><b>using</b></font> System.Collections.Generic;<br> 
<font color=#31849b><b>using</b></font> UnityEngine;<br> 
<font color=#31849b><b>using</b></font> UnityEngine.SceneManagement;<br>
<br>
<font color=#31849b><b>public class </b></font><font color=#365f91 face="arial"><b>Helicopter_Handler :</b></font><font face=arial><font color=#365f91><b> MonoBehaviour </b></font>{<br>
<font color=gray>//add this script to the player to manage the intro and outro copter sequences</font><br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public string</b></font> NextLevel = <font face="arial"><b><font color="#ed6c0a">&quot;Level2&quot;</font></b></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp;<font color=#31849b><b> private</b></font> PlayerMoveAround playerMoveScript;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject playerArt;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>Animator animStartCoptor;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>Animator animEndCoptor;<br>
<br>
<font color=gray>//startCopter</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject startCopter;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject startC_ground;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject startC_sky;<br>
<br>
<font color=gray>//endCopter</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject endCopter;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject endCopterSeat;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public </b></font>GameObject endC_sky;<br>
<br>
<font color=gray>//copter Management</font><br> 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public float</b></font> moveSpeed =<font face="arial"><b><font color="#ed6c0a"> 1f</font></b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> startCopterDown = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> startCopterUp = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>public bool</b></font> endCopterUp = <font color=#365f91><b>false</b></font>;<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//public AudioSource copterSoundFast;</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//public AudioSource copterSoundSlow;</font><br>
<br> 
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b> void</b></font> Awake(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerMoveScript = GetComponent&lt;PlayerMoveAround&gt;();<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b> void</b></font> Start(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//turn off the player (but keep it there for camera location</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerMoveScript.enabled = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerArt.SetActive(<font color=#365f91><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; animEndCoptor.SetBool(<font face="arial"><b><font color="#ed6c0a">&quot;slow&quot;</font></b></font>, <font color=#365f91><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(StartCopter());<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b> void</b></font> FixedUpdate(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>if</b></font></font> (startCopterDown){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector2</b></font> posCopter = <font color=#31849b><b>Vector2</b></font>.Lerp ((<font color=#31849b><b>Vector2</b></font>)startCopter.transform.position, (<font color=#31849b><b>Vector2</b></font>) startC_ground.transform.position, moveSpeed * Time.fixedDeltaTime);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startCopter.transform.position = new Vector3 (posCopter.x, posCopter.y, transform.position.z);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>else if</b></font></font> (startCopterUp){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector2</b></font> posCopter = <font color=#31849b><b>Vector2</b></font>.Lerp ((<font color=#31849b><b>Vector2</b></font>)startCopter.transform.position, (<font color=#31849b><b>Vector2</b></font>) startC_sky.transform.position, moveSpeed * Time.fixedDeltaTime);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startCopter.transform.position = new <font color=#31849b><b>Vector3</b></font> (posCopter.x, posCopter.y, transform.position.z);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>else if</b></font></font> (endCopterUp){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>Vector2</b></font> posCopter = <font color=#31849b><b>Vector2</b></font>.Lerp ((<font color=#31849b><b>Vector2</b></font>)endCopter.transform.position, (<font color=#31849b><b>Vector2</b></font>) endC_sky.transform.position, moveSpeed * Time.fixedDeltaTime);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; endCopter.transform.position = new <font color=#31849b><b>Vector3</b></font> (posCopter.x, posCopter.y, transform.position.z);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b> void</b></font> OnTriggerEnter2D(Collider2D other){<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//Activate EndCopter</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font face="arial"><font color=#3ab050><b>if</b></font></font> (other.gameObject.tag==<font face="arial"><b><font color="#ed6c0a">&quot;EndCopter&quot;</font></b></font>){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StartCoroutine(EndCopter());<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>IEnumerator</b></font> StartCopter(){<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startCopterDown = <font color=#365f91><b>true</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//copterSoundFast.Play();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font face=arial><font color=#0070c0><b>yield return new</b></font></font></b> WaitForSeconds(moveSpeed *<font face="arial"><b><font color="#ed6c0a">2f</font></b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startCopterDown = <font color=#365f91><b>false</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//copterSoundFast.Stop();</font><br>	
<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//copterSoundSlow.Play();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; animStartCoptor.SetBool(<font face="arial"><b><font color="#ed6c0a">&quot;slow&quot;</font></b></font>, <font color=#365f91><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font face=arial><font color=#0070c0><b>yield return new</b></font></font></b> WaitForSeconds(<font face="arial"><b><font color="#ed6c0a">2f</font></b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerMoveScript.enabled = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; playerArt.SetActive(<font color=#365f91><b>true</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; animStartCoptor.SetBool(<font face="arial"><b><font color="#ed6c0a">&quot;slow&quot;</font></b></font>, <font color=#365f91><b>false</b></font>);<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//copterSoundSlow.Stop();</font><br>	
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startCopterUp = <font color=#365f91><b>true</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//copterSoundFast.Play();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font face=arial><font color=#0070c0><b>yield return new</b></font></font></b> WaitForSeconds(moveSpeed *<font face="arial"><b><font color="#ed6c0a">2f</font></b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startCopterUp = <font color=#365f91><b>false</b></font>;<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//copterSound.Stop();</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Destroy(startCopter);<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
&nbsp; &nbsp; &nbsp; &nbsp; <font color=#31849b><b>IEnumerator</b></font> EndCopter(){<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp;<font color=gray>// Put a copy of slow audio on endCopter, with small radius</font>:<br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//endCopter.GetComponent&lt;AudioSource&gt;().Stop();</font><br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//copterSoundFast.Play();</font><br>
<font face=arial>&nbsp; &nbsp; &nbsp; &nbsp; </font>&nbsp; &nbsp; &nbsp; &nbsp; <font color=gray>//playerMoveScript.enabled = false;</font><br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.position = endCopterSeat.transform.position;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform.parent = endCopterSeat.transform;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; gameObject.GetComponent&lt;<font color=#31849b><b>Collider2D</b></font>&gt;().enabled = <font color=#365f91><b>false</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; animEndCoptor.SetBool(<font face="arial"><b><font color="#ed6c0a">&quot;slow&quot;</font></b></font>, <font color=#365f91><b>false</b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; endCopterUp = <font color=#365f91><b>true</b></font>;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <b><font face=arial><font color=#0070c0><b>yield return new</b></font></font></b> WaitForSeconds(moveSpeed *<font face="arial"><b><font color="#ed6c0a">2f</font></b></font>);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SceneManager.LoadScene(NextLevel);<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
<br>
}</div>

<br>
<br>
</td>
</tr></table>


</div></td>
  </tr>
</table>


<!--</details>-->



<br>
<br>
<font face=arial><em>end of tutorial</em></font>s

<br>
<br><br>
<a href="#theTop"><img src="comicsDesign/ArrowUp.png" alt=""></a> 
<font face=arial><b>SEARCHABLE INDEX</b></font>
<br>

<center>
<table width=780 border=0><tr>
<td valign=top>

<table width=390 height=100% cellpadding=5 bgcolor=#f3e7e7><tr>
<td bgcolor=#f7d3d3 align=center><font face="arial"><font color=purple><b>PART 1:</b></font> <a href="#01"><b>BASIC PLATFORMER SET-UP</b></a></font></td>
</tr><tr>
<td bgcolor=#f3f2de valign=top><font face="arial" color=#333355> <font color=purple><b>[1A]:</b></font> <b> <a href="#01a">Setting</a>: Tilemapping vs Parallax screens </b>
<br>1. Tilemapping 
<br>2. Tiling Sprites 
<br>3. Parallax
<br>4. Foreground Sprites Leaves Blowing
<br><br></font></td>
</tr><tr>
<td bgcolor=#f3e7e7 valign=top><font face="arial"><font color=purple><b>[1B]:</b></font> <a href="#01b"><b>Platformer Player</b></a><b> Movement </b>
<br>
Player animation is imported as a spritesheet, sliced, organized into animated clips, and hooked into the Mecanim / Animator State Machine for transitions and parameters.

<br><br>
1. Platformer Player Set-Up
<br>
2. Movement
<br>3. Jumping
<br>4. Crouching
<br><br>
<em>OTHER</em>: Squishy Player Package <br><br></font></td>
</tr><tr>
<td bgcolor=#f3f2de valign=top><font face="arial"><font color=#dc0bdc><b>[1C]:</b></font> <a href="#01c"><b>Sidescroller Player</b></a><b> Movement and Setting</b>
<br>
No Gravity: Player moves Horizontally and &quot;back and front&quot; with Vertical input in isometric or Side-lanes setting.
<br>
1. Sidescroller Player Set-Up
<br>
2. Movement
<br>
3. Environment
Considerations<br>
4. Climbing objects (trigger climbing animation)<br><br>
</font></td>
</tr><tr>
<td bgcolor=#f3e7e7 valign=top><font face="arial"><font color=purple><b>[1D]:</b></font> <b><a href="#01d">Camera Follow</a>: LERP</b>
<br>
1. Follow with LERP
(preferred)
<br>
2. MathF Follow
<br>
3. Basic Follow

<br><br></font></td>
</tr><tr>
<td bgcolor=#f3f2de valign=top><font face="arial"><font color=purple><b>[1E]:</b></font> <b><a href="#01e">GameHandler</a>: Player State, Score / Health </b>
<br>1. Canvas
<br>Set Canvas Scaler = "Scale with Screen Size"
<br>1280 x 720

<br>
<br>
2. GameHandler
Object, Tag, and Script<br>
Create a centralized state for player health, score, and other game information meant to persist bertween levels (use "static" variables)

<br>
<br>3. Player Damage script
<br><br>
</font></td>
</tr><tr>
<td bgcolor=#f3e7e7><font face="arial"><font color=purple><b>[1F]:</b></font> <b><a href="#01f">Battle</a>: Melee, Shoot, Projectiles, Defense </b>
<br>1. Player Melee
<br>A dynamic collider range in front of the player: if any enemies are inside that range when the player activates an attack, they are damaged. 

<br><br>
2. Shooting
<br>Uses Instantiate to create objects in the scene.

<br><br>
3. Projectiles and Explosions
<br>
Projectile Instantiated by the Player 
<br>
Explosion Instantiated by the projectile


<br><br>
4. Defense
<br>
Turns off player damage (and enables shield graphic) when defense is activated. Should include limitatiions, such as direction, time limit, energy requirement, etc.<br>
<br>
</font></td>
</tr><tr>
<td bgcolor=#f3f2de valign=top><font face="arial"><font color=purple><b>[1G]:</b></font> <b>Frame Scenes: <a href="#01g">MainMenu</a>, 
 Win / Lose </b>
<br>
1. Main Menu<br>
2. Win and Lose Scenes

<br><br>
UI Text and Buttons

<br><br>
</font></td>
</tr><tr>
<td bgcolor=#f3e7e7 valign=top><font face="arial"><font color=purple><b>[1H]:</b></font> <b>Menus: <a href="#01h">Pause</a> and <a href="#01h">Shop</a></b>
<br>1. Pause Menu:
<br>Volume Control, Restart, and Quit Buttons
<br>UI Sliders

<br><br>2. Shop Menu

<br><br>
</font></td>
</tr><tr>
<td bgcolor=#f3f2de valign=top><font face="arial"><font color=purple><b>[1I]:</b></font> <b>Level Changes: Switches and <a href="#01i">Doors</a></b>
<br>1. Simple Door<br>
2. 2-Step Door<br>
3. Door opens by flipping Switch<br>
4. Door opens by getting objects<br>
<br>
</font></td>
</tr><tr>
<td bgcolor=#f3e7e7 height=100% valign=top><font face="arial"><font color=purple><b>[1j]:</b></font> <b>Custom Input and Multi-Player: <a href="#01j">Movement</a> and <a href="#01j">Split Screen</a></b>
<br>
1. 
Right Joystick Aiming
<br>
2. Player Movement:
<br>
Custom input axis using the Legacy Input Manager.<br>
3. Camera Viewport Rect

properties for split screen<br>
4. Building a prefab for the Multiplayer camera system<br>
</font></td>
</tr></table>

</td><td valign=top>

<table width=390 height=100% cellpadding=5 bgcolor=#eaf4f6><tr>
<td bgcolor=#ddeeff align=center><font face="arial"> <font color=purple><b>PART 2:</b></font> <a href="#02"><b>ADVANCED SETTINGS</b></a></font></td>
</tr><tr>
<td bgcolor=#e2f3e1><font face="arial"> <font color=purple><b>[2A]:</b></font> <a href="#02a"><b>Pickups</b></a><b> / Inventory, boosts, keys, Audio</b>
<br>1. PickUp Objects
<br>2. Inventory System
<br>3. Power Boosts
<br><br>
<br>
</font></td>
</tr><tr>
<td bgcolor=#eaf4f6 valign=top><font face="arial"> <font color=purple><b>[2B]:</b></font> <b><a href="#02b">Respawn</a>,  Checkpoints, Lives, <font color=#dc0bdc>Map Doors</font></b> 
<br>1. Player Respawn
<br>2. Checkpoints
<br>
3. Limited Lives


<br>4. Exploration Game: 
Map Return to Door
<br>
Script on a door to return the player to the same location in a Scene where they left.<br>
<br>
</font></td>
</tr><tr>
<td bgcolor=#e2f3e1 valign=top><font face="arial"><font color=#dc0bdc><b>[2C]: </b></font><b>Environment <a href="#02c">Hazards</a> and Movement</b> 
<br>
<b><em>HAZARDS:
</em></b><br>1. Death Spikes
<br>2. Lava
<br>3. Moving Doom Wall
<br>
<b><em>PLATFORMS:</em></b><br>
1. Moving Platforms
<br>
2. Slippery/Sticky Platforms
<br>
3. Bouncy Platforms
<br>
4. Ladders
<br>
<b><em>TILEMAPS:
</em></b><br>
1. Destructible Tilemaps
<br>
2. Paintable Tilemaps 
<br>
3. Dynamic Environment Generation
<br>
<b><em>PUZZLES:</em></b><br>
1. Moveable Block
<br>
2. Block-able Laser <br>
3. Switch-able Walls <br>
4. Breakable Walls (like Spiderwebs) <br>
5. Indicate Hidden Spaces <br>
6. SpriteMasks <br>
7. Enemy Zapper <br><br></font></td>
</tr><tr>
<td bgcolor=#eaf4f6 valign=top><font face="arial"><font color=purple><b>[2D]:</b></font> <b>NPC <a href="#02d">Enemy</a>: Melee, Shooting, Patrol </b>
<br><br>
<b>ENEMY #1:</b> 
<br>Follow Behavior, Knockback, and Enemy Health

<br><br>
<b>ENEMY #2:</b> 
<br>Follow / Shoot and Projectile 

<br><br>
<b>ENEMY #3:</b> <b>Patrol</b> 
<br>a. Back-and-Forth
<br>b. Points Sequence
<br>c. Random Points
<br>d. Random Space
<br><br></font></td>
</tr><tr>
<td bgcolor=#e2f3e1 valign=top><font face="arial"> <font color=purple><b>[2E]:</b></font> <b>NPC <a href="#02e">Friendly</a>: Dialogue  
    and Follow</b><br>Chat with any number of Friendly NPCs 
<br>Also useful for RoadSigns, Treasure Boxes, etc. 
<br><br>
<br>
</font></td>
</tr><tr>
<td bgcolor=#eaf4f6 valign=top><font face="arial"> <font color=#dc0bdc><b>[2F]:</b></font> <b>More Player Movement</b>
<br>
1. Teleporters<br>
2. Grappling Hook <br>
3. Dash<br>
4. Fly<br><br></font></td>
</tr><tr>
<td bgcolor=#e2f3e1 valign=top><font face="arial"> <font color=purple><b>[2G]:</b></font> <b><a href="#02g">Game Feel</a> (Feedback VFX / SFX</b>) 
<br>
1. Power-Up VXF
<br>
2. Color Change
<br>
3. Audio Shepard Scale</a>
<br>
4. Particle Effects
<br>
5. Screen Shake
<br>
6. Audio
(SFX)<br>
7. UI Transitions
<br>
8. Screen Fade
<br><br></font></td>
</tr><tr>
<td bgcolor=#eaf4f6 valign=top><font face="arial"> <font color=purple><b>[2H]:</b></font> <b>Adding a <a href="#02h">Timer</a> or a Recharge system</b>
<br>1. Display Timer
<br>2. Triggered Timer
<br>3. Simple Delay
<br>4. Energy Recharge
<br><br></font></td>
</tr>
<tr>
<td bgcolor=#e2f3e1 valign=top><font face="arial"> <font color=purple><b>[2I]:</b></font> <b>Adding <a href="#02i">Drag and Drop</a> and a Notepad</b>
<br>
This module is about interactions with the game Scene using a mouse:
<br>
1. Basic Object Drag and Drop
<br>
2. Creating a Player Notepad
to enter strings (text, for the player to keep track of codes, etc)<br>
<br>
</font></td>
</tr>
<tr>
<td height=100% bgcolor=#eaf4f6 valign=top><font face="arial"> <font color=purple><b>[2J]:</b></font> <b>Adding <a href="#02j">Audio</a> SFX to the Player</b>
<br>
1. Multiple Player Audio Files
<br>
2. Randomized Footsteps
<br>
3. Continuous Audio<br>
<br></font></td>
</tr>
<tr>
<td bgcolor=#e2f3e1 valign=top><font face="arial"> <font color=purple><b>[2K]:</b></font> 
    <b>Intro Animation (Add an <a href="#02k">Opening Comic</a>)</b><br>
This module is about establishing the setting or story premise for the player</font></td>
</tr>
</table>
      
</td></tr></table>
</center>
<br>

<table width=800 cellpadding=10 border=0>
<tr>
	<td colspan=2>

<!-- start of bottom code -->

<!--

<center>
<font size=+2 face="arial"><b>PLAYER MELEE FIGHTING</b></font>
</center><font face=arial><b>MELEE:</b>
(<a href=="" target=shoot>Source Video</a>)
<img src="gamedesign/Unity2D/sdfsdf.png" width=256 align=right border=1>
<br>
Your character animation frames can be  a single <b>spritesheet</b>. Select a spritesheet in the  Project and in the Inspector set it from Single to <b>Multiple</b>, hit <b>[Apply]</b>, and <b>Slice</b> to get a file for each image (in Project hit  the spritesheet triangle  to view all). <br>
<br>
Apply
<a href="GameDesign/Unity2D/PlayerShooting.cs" target=unity><b>PlayerMelee.cs</b></a> script to the <b>Player</b>. In Inspector drag the FirePoint from the Hierarchy to the script slot, and the Projectile prefab from the Project into the Script slot. PLAYTEST! 
<br><br>
<em><b>Create an Impact Prefab:</b></em>
<br>
<b>Drag</b> the impact sprite  into the Hierarchy, name it &quot;Impact,&quot; set Order in Layer = 14.
<li>Drag the Impact into the Project to make a <b>Prefab</b> and <b>delete</b> it from the Hierarchy.</font>
<li><font face="arial"> Finally, <b>drag the Impact Prefab</b> to the Effect script slot.

<br>
<br>
To make our Player vulnerable to enemies, add the <a href="GameDesign/Unity2D/PlayerHit.cs" target=unity><b>PlayerHit.cs</b></a> script, and drag the Impact prefab into the script slot.
</font>

<br>
<br>
<center>
  <font size=+2 face="arial"><b>FRIENDLY NPCs</b></font>
</center>
<font face="arial">Artificial Intelligence for NPCs in games is not typically advanced learning algorythms, but insteada <b>simple list of responses to specific conditions in the game</b>. For example, consider an enemy that shoots at the player. It moves towards the player until it reaches a specified distance, and retreats if the player gets too close. All of these are responses to one piece of data: the distance from the player. We can capture that data and test against it in the Update() function to decide what the enemy will do.<br><em><b>NOTE:</b></em> These 3 Enemy types/scripts work equally well on 3D games, with Physics modifications:

<br><br>
<img src="gamedesign/Unity2D/dfgdf" align=right width=256 border=1>
<b>NPC #1: <font color=purple>2D PATHFINDING</font></b> 
(<a href="https://www.youtube.com/watch?v=jvtFUfJ6CP8" target=vid>source video</a>)<br>
This NPC follows a particular path. It an be used for villagers moving about their day or a patrolling guard.<br><br>
<b>Add NPCpath sprite</b> to Hierarchy. </font>
<li><font face="arial">Set &quot;Order in Layer&quot; = 4, apply <b>tag</b> &quot;enemy&quot; (create if needed). </font>
<font face="arial">
<li>Reset Transforms (0,0,0). 
<li>Add <b>Physics2D &gt; Rigidbody2D</b>, set <b>Mass = 3</b> and <b>Gravity Scale = 0</b>.
<li>Add <b>Physics2D &gt; Collider2D</b> (box or circle, set size).
<li>Apply <a href="GameDesign/Unity2D/EnemyMoveHit.cs" target=unity><b>xxxxx.cs</b></a>.
<li>Drag to the Project to make a <b>Prefab</b> and <b>delete</b> from the Hierarchy. 

<br><br>
<img src="gamedesign/Unity2D/dfgdf" align=right width=256 border=1>
<b>NPC #2:<font color="purple">DIALOGUE</font></b> 
(<a href="https://www.youtube.com/watch?v=jvtFUfJ6CP8" target=vid>source video</a>)<br>
This enemy follows the player. If it reaches the player it causes damage and disappears. It takes a specified amount of bullet damage before being removed.<br><br>
<b>Add NPCdialogue sprite</b> to Hierarchy. </font>
<li><font face="arial">Set &quot;Order in Layer&quot; = 4, apply <b>tag</b> &quot;enemy&quot; (create if needed). </font>
<font face="arial">
<li>Reset Transforms (0,0,0). 
<li>Add <b>Physics2D &gt; Rigidbody2D</b>, set <b>Mass = 3</b> and <b>Gravity Scale = 0</b>.
<li>Add <b>Physics2D &gt; Collider2D</b> (box or circle, set size).
<li>Apply <a href="GameDesign/Unity2D/EnemyMoveHit.cs" target=unity><b>xxxxx.cs</b></a>.
<li>Drag to the Project to make a <b>Prefab</b> and <b>delete</b> from the Hierarchy. 


<br><br><br><br><br><br>
<center>
    <font size=+2 face="arial"><b>INVENTORY SYSTEM</b></font>
  </center>
An inventory lets us store objectives the Player needs to collect to win, or items for later use (keys, health potions, alternate weapons, etc).
    
<br><br>
<b>SETTING UP  INVENTORY UI:</b> (<a href="https://youtu.be/-xB4xEmGtCY" target=ui1>source video</a>)
Select the <b>Canvas</b> object in Hierarchy, rename &quot;<b>HUD</b>.&quot;
<li><b>PANEL: </b>Create a <b>UI &gt; Panel</b> for the inventory background. Align to the bottom-center, size (hit Anchor Preset, choose Center, then width=270 x height=60) and for the Source Image choose a basic button sprite and set to a semi-transparent gray. Name the Panel "<b>Inventory</b>."
  
<li><b>SLOT: </b>Make a <b>UI &gt; Image</b>. parent beneath &quot;Inventory,&quot; size 50x50, dark color, name it &quot;<b>Slot</b>.&quot; This will be the background for trhe slot (children appear atop parents).<li><b>BORDER:</b> <b>Duplicate</b> the first image ([Cmd/Ctrl]+[d]), <b>parent</b> below Slot, and name &quot;<b>Border</b>.&quot; Size 50x50, import a PNG with a thin border. Open the [Sprite Editor] and set all borders = 4 so it will scale well. Assign this sprite as Source Image, set color to white. 
Add component <b>UI &gt; Button</b>, and assign a  <b>Highlight</b> <b>Color</b>. Play to see rollover effect.<br>
<li><b>ITEM IMAGE: </b>Create a new image, parent below Border, and name &quot;<b>ItemImage</b>.&quot; Import an inventory item sprite as the Source Image and size to fit. 
<li>Create more slots: duplicate Slot. Select its ItemImage, set Source Image to &quot;None,&quot; and disable the Image component. 
<li>Select the Inventory Panel, add component <b>Layout &gt; Horizontal Layout Group</b>. Set Child Alignmment to middle-center. Now, when Slots are duplicated, they space themseves evenly on the Panel.<br>
  <br>
  <b>INVENTORY SCRIPTS: </b>
(<a href="https://youtu.be/Hj7AZkyojdo" target=ui1>source video</a>)
<li>Create a <b>new Empty GO</b>, name it &quot;<b>InventoryManager</b>.&quot; Apply the <a href="GameDesign/Unity2D/InventoryManager.cs" target=unity><b>InventoryManager.cs</b></a> script (list of inventory items, manages events for item Add and Remove). 
Also add <a href="GameDesign/Unity2D/InventoryItem.cs" target=unity><b>InventoryItem.cs</b></a> to the project, to define the Interface referenced by Inventory.cs.
<li> Apply <a href="GameDesign/Unity2D/InventoryPlayer.cs" target=unity><b>InventoryPlayer.cs</b></a> script to Player (to call  Inventory.cs when a pick-up-able item is touched), and <b>drag the Inventory GO</b> into the script slot.
<li> Apply <a href="GameDesign/Unity2D/InventoryHUD.cs" target=unity><b>InventoryHUD.cs</b></a> script to the Canvas HUD (to make the UI changes).
<li> Add and modify a <a href="GameDesign/Unity2D/InventoryObject.cs" target=unity><b>InventoryObject.cs</b></a> script to each object we want to be pick-up-able.
</font>

-->

<!-- end of bottom code -->

<br>
<font face=arial><br>

</font><center>    
<font face="arial"><em>Tutorial by Jason Wiser, MadWomb.com</em>
<br>
The instructional content of this page is &copy; 2015-2025 Jason Wiser. <em><br>
See more Unity tutorials at <a href="http://www.Madwomb.com/Unity" target=unityLearn>http://www.Madwomb.com/Unity</a></em>
</font>
</center><font face=arial>

<br></font></td></tr></table>

<br><br><br><br><br>
<br><br><br><br><br>

<!-- old

<br><br><br><br>
<b>PLAYER MOVEMENT</b> 
(<a href="https://youtu.be/7KiK0Aqtmzc" target=betterJump>Better Jumping source video</a>):
<li>moving: 
<a href="https://youtu.be/dwcT-Dch0bA" target="_blank">https://youtu.be/dwcT-Dch0bA</a>
<li>jumping: <a href="https://youtu.be/j111eKN8sJw" target="_blank" data-saferedirecturl="https://www.google.com/url?q=https://youtu.be/j111eKN8sJw&source=gmail&ust=1579200963392000&usg=AFQjCNEV64Dr0QlIoVbqFFLAGEyF2_MWQQ">https://youtu.be/j111eKN8sJw</a>
<li>wall jumping: <a href="https://youtu.be/STyY26a_dPY" target="_blank" data-saferedirecturl="https://www.google.com/url?q=https://youtu.be/STyY26a_dPY&source=gmail&ust=1579200962787000&usg=AFQjCNEMpytesWvBLc8Mh6wEIvJHRiiF7A">https://youtu.be/STyY26a_dPY</a><br> 
  Add Character sprite to Hierarchy 
  
<br><br>
Introduction to LERP for smooth transitions: <br>
<img src="gamedesign/bullet.png" alt=""> LERP <a href="https://youtu.be/cD-mXwSCvWc" target=LERP1><b>Basics</b></a>: object motion, light intensity, color <br>
<img src="gamedesign/bullet.png" alt=""> <a href="https://youtu.be/MFQhpwc6cKE" target=LERP2><b>Smooth</b></a> LERP Camera Following. <br>
<img src="gamedesign/bullet.png" alt=""> Example <a href="gamedesign/CameraControlLERP.txt" target=LERP3><b>LERP code</b></a>. 
<br><br><br>

<img src="gamedesign/bullet.png" alt=""> <a href="https://www.youtube.com/watch?v=QkisHNmcK7Y" target=parallax><b>Parallax Scrolling</b></a> alternative script design 

(Manage the <a href="https://answers.unity.com/questions/743148/display-quad-over-sprites.html" target=sort>sorting order</a> between sprites and quads). 

-->


</center>


<script>
var acc = document.getElementsByClassName("accordion1");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
}
</script>

<script>
var acc = document.getElementsByClassName("accordion2");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
}
</script>

<script>
var acc = document.getElementsByClassName("accordion3");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
}
</script>

<script>
var acc = document.getElementsByClassName("accordion4");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
}
</script>


<script>
var acc = document.getElementsByClassName("accordion5");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
}
</script>

</body>
</html>
